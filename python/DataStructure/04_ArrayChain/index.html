<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://huyuhui001.github.io/mySite/python/DataStructure/04_ArrayChain/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.3.0, mkdocs-material-7.3.6"><title>数组和链接结构 - UPSkilling</title><link rel=stylesheet href=../../../assets/stylesheets/main.a57b2b03.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.3f5d1f46.min.css><meta name=theme-color content=#009485><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link rel=stylesheet href=../../../extra.css></head> <body dir=ltr data-md-color-scheme data-md-color-primary=teal data-md-color-accent=green> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#4 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=UPSkilling class="md-header__button md-logo" aria-label=UPSkilling data-md-component=logo> <img src=../../../assets/logo.jpg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> UPSkilling </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 数组和链接结构 </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/huyuhui001/mySite title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> huyuhui001/mySite </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> UPSkilling </a> </li> <li class=md-tabs__item> <a href=../../../linux/ class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../k8s/ class=md-tabs__link> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> Python </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=UPSkilling class="md-nav__button md-logo" aria-label=UPSkilling data-md-component=logo> <img src=../../../assets/logo.jpg alt=logo> </a> UPSkilling </label> <div class=md-nav__source> <a href=https://github.com/huyuhui001/mySite title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> huyuhui001/mySite </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> UPSkilling <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=UPSkilling data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> UPSkilling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> About </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Linux data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux/ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2> Linux SRE <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Linux SRE" data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Linux SRE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux/SRE/01-fundamentals/ class=md-nav__link> 第一章 Linux基础 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/02-filesystem/ class=md-nav__link> 第二章 文件系统 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/03-identity-security/ class=md-nav__link> 第三章 身份与安全 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/04-TextTools/ class=md-nav__link> 第四章 文本编辑 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/05-RegExpress/ class=md-nav__link> 第五章 正则表达式 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/06-FileLookup/ class=md-nav__link> 第六章 文件查找 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/07-FilePacking/ class=md-nav__link> 第七章 文件打包和解包 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> SUSE Linux Administration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="SUSE Linux Administration" data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> SUSE Linux Administration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux/Administration/01/ class=md-nav__link> Linux File System Overview </a> </li> <li class=md-nav__item> <a href=../../../linux/Administration/02/ class=md-nav__link> Useful Commands </a> </li> <li class=md-nav__item> <a href=../../../linux/Administration/03/ class=md-nav__link> Shell </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4> SUSE Enterprise Storage Foundation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="SUSE Enterprise Storage Foundation" data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> SUSE Enterprise Storage Foundation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux/SES/linux_ses_memo/ class=md-nav__link> SUSE Enterprise Storage Foundation </a> </li> <li class=md-nav__item> <a href=../../../linux/SES/linux_ses_demo/ class=md-nav__link> SUSE Enterprise Storage Basic Operation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Kubernetes data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2 type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2> CKA Learning Memo <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CKA Learning Memo" data-md-level=2> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> CKA Learning Memo </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_1 type=checkbox id=__nav_3_2_1> <label class=md-nav__link for=__nav_3_2_1> Installation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Installation data-md-level=3> <label class=md-nav__title for=__nav_3_2_1> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/installation/single-local/ class=md-nav__link> Single Node Installation </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/installation/multiple-local/ class=md-nav__link> Multiple Nodes Installation </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/installation/aliyun-ubuntu/ class=md-nav__link> Installation on Aliyun ECS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_2 type=checkbox id=__nav_3_2_2> <label class=md-nav__link for=__nav_3_2_2> Docker <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Docker data-md-level=3> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/docker/ class=md-nav__link> Fundamentals </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_3 type=checkbox id=__nav_3_2_3> <label class=md-nav__link for=__nav_3_2_3> Foundamentals <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Foundamentals data-md-level=3> <label class=md-nav__title for=__nav_3_2_3> <span class="md-nav__icon md-icon"></span> Foundamentals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/memo/ class=md-nav__link> Memo </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/basics/ class=md-nav__link> kubectl basics </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_4 type=checkbox id=__nav_3_2_4> <label class=md-nav__link for=__nav_3_2_4> Core Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Core Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_3_2_4> <span class="md-nav__icon md-icon"></span> Core Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/pod/ class=md-nav__link> Pod </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/deployment/ class=md-nav__link> Deployment </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/service/ class=md-nav__link> Service </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_5 type=checkbox id=__nav_3_2_5> <label class=md-nav__link for=__nav_3_2_5> Application Modeling <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Application Modeling" data-md-level=3> <label class=md-nav__title for=__nav_3_2_5> <span class="md-nav__icon md-icon"></span> Application Modeling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/namespace/ class=md-nav__link> Namespace </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/statefulset/ class=md-nav__link> StatefulSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/daemonset/ class=md-nav__link> DaemonSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/job/ class=md-nav__link> Job and Cronjob </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/configuration/ class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/secrets/ class=md-nav__link> Secrets </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/persistence/ class=md-nav__link> Persistence </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/rbac/ class=md-nav__link> Role Based Access Control (RBAC) </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/ingress/ class=md-nav__link> Ingress </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_6 type=checkbox id=__nav_3_2_6> <label class=md-nav__link for=__nav_3_2_6> Advanced Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Advanced Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_3_2_6> <span class="md-nav__icon md-icon"></span> Advanced Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/scheduling/ class=md-nav__link> Scheduling </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/hpa/ class=md-nav__link> Horizontal Pod Autoscaling </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/policy/ class=md-nav__link> Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/networkpolicy/ class=md-nav__link> Network Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/clustermgt/ class=md-nav__link> Cluster Management </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_7 type=checkbox id=__nav_3_2_7> <label class=md-nav__link for=__nav_3_2_7> Operating Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Operating Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_3_2_7> <span class="md-nav__icon md-icon"></span> Operating Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/healthcheck/ class=md-nav__link> Health Check </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/helming/ class=md-nav__link> Helming </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_8 type=checkbox id=__nav_3_2_8> <label class=md-nav__link for=__nav_3_2_8> Topics <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Topics data-md-level=3> <label class=md-nav__title for=__nav_3_2_8> <span class="md-nav__icon md-icon"></span> Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/casestudy-operation-resources/ class=md-nav__link> Operations on Resources </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/casestudy-health-check/ class=md-nav__link> Health Check </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/casestudy-calico/ class=md-nav__link> Calico Installation </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/kyma/ class=md-nav__link> Kyma </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3 type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3> CKA学习笔记 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=CKA学习笔记 data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> CKA学习笔记 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_1 type=checkbox id=__nav_3_3_1> <label class=md-nav__link for=__nav_3_3_1> 安装 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=安装 data-md-level=3> <label class=md-nav__title for=__nav_3_3_1> <span class="md-nav__icon md-icon"></span> 安装 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/installation/single-local/ class=md-nav__link> 单节点虚拟机安装Kubernetes </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/installation/multiple-local/ class=md-nav__link> 多节点虚拟机安装Kubernetes </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/installation/aliyun-ubuntu/ class=md-nav__link> 阿里云ECS安装Kubernetes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_2 type=checkbox id=__nav_3_3_2> <label class=md-nav__link for=__nav_3_3_2> Docker <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Docker data-md-level=3> <label class=md-nav__title for=__nav_3_3_2> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/docker/ class=md-nav__link> Docker基础 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_3 type=checkbox id=__nav_3_3_3> <label class=md-nav__link for=__nav_3_3_3> 基础知识 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=基础知识 data-md-level=3> <label class=md-nav__title for=__nav_3_3_3> <span class="md-nav__icon md-icon"></span> 基础知识 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/memo/ class=md-nav__link> Kubernetes随笔 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/overview/ class=md-nav__link> Kubernetes集群概览 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/basics/ class=md-nav__link> kubectl基础 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_4 type=checkbox id=__nav_3_3_4> <label class=md-nav__link for=__nav_3_3_4> 核心概念 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=核心概念 data-md-level=3> <label class=md-nav__title for=__nav_3_3_4> <span class="md-nav__icon md-icon"></span> 核心概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/pod/ class=md-nav__link> Pod </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/deployment/ class=md-nav__link> Deployment </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/service/ class=md-nav__link> Service </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_5 type=checkbox id=__nav_3_3_5> <label class=md-nav__link for=__nav_3_3_5> 应用体系 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=应用体系 data-md-level=3> <label class=md-nav__title for=__nav_3_3_5> <span class="md-nav__icon md-icon"></span> 应用体系 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/namespace/ class=md-nav__link> Namespace </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/statefulset/ class=md-nav__link> StatefulSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/daemonset/ class=md-nav__link> DaemonSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/job/ class=md-nav__link> Job and Cronjob </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/configuration/ class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/secrets/ class=md-nav__link> secrets </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/persistence/ class=md-nav__link> Persistence </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/rbac/ class=md-nav__link> RBAC鉴权 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/ingress/ class=md-nav__link> Ingress-nginx </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_6 type=checkbox id=__nav_3_3_6> <label class=md-nav__link for=__nav_3_3_6> 进阶概念 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=进阶概念 data-md-level=3> <label class=md-nav__title for=__nav_3_3_6> <span class="md-nav__icon md-icon"></span> 进阶概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/scheduling/ class=md-nav__link> Scheduling </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/hpa/ class=md-nav__link> Horizontal Pod Autoscaling (HPA) </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/policy/ class=md-nav__link> Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/networkpolicy/ class=md-nav__link> Network Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/clustermgt/ class=md-nav__link> Cluster Management </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_7 type=checkbox id=__nav_3_3_7> <label class=md-nav__link for=__nav_3_3_7> 日常维护 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=日常维护 data-md-level=3> <label class=md-nav__title for=__nav_3_3_7> <span class="md-nav__icon md-icon"></span> 日常维护 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/healthcheck/ class=md-nav__link> 健康检查 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/helming/ class=md-nav__link> Helm Chart </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_8 type=checkbox id=__nav_3_3_8> <label class=md-nav__link for=__nav_3_3_8> 主题讨论 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=主题讨论 data-md-level=3> <label class=md-nav__title for=__nav_3_3_8> <span class="md-nav__icon md-icon"></span> 主题讨论 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/casestudy-operation-resources/ class=md-nav__link> Kubernetes资源常见操作 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/casestudy-health-check/ class=md-nav__link> 健康检查 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/casestudy-calico/ class=md-nav__link> 安装Calico </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_4 type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4> Demos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Demos data-md-level=2> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/demo/cap_on_kyma/ class=md-nav__link> Build CAP Application on Kyma </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Python基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python基础 data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Python基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Foundation/ch00/ class=md-nav__link> Python安装 </a> </li> <li class=md-nav__item> <a href=../../Foundation/ch01/ class=md-nav__link> Python语言基础 </a> </li> <li class=md-nav__item> <a href=../../Foundation/ch02/ class=md-nav__link> Python打包和解包 </a> </li> <li class=md-nav__item> <a href=../../Foundation/ch03/ class=md-nav__link> Python内置函数及文件 </a> </li> <li class=md-nav__item> <a href=../../Foundation/ch04/ class=md-nav__link> Python面向对象概念 </a> </li> <li class=md-nav__item> <a href=../../Foundation/ch05/ class=md-nav__link> Python面向对象三大特性 </a> </li> <li class=md-nav__item> <a href=../../Foundation/Algorithms/ class=md-nav__link> Python数据结构和算法 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3> Python数据分析基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python数据分析基础 data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Python数据分析基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../DataAnalysis/ch01/ class=md-nav__link> NumPy基础 </a> </li> <li class=md-nav__item> <a href=../../DataAnalysis/ch10/ class=md-nav__link> NumPy进阶 </a> </li> <li class=md-nav__item> <a href=../../DataAnalysis/ch02/ class=md-nav__link> Pandas入门 </a> </li> <li class=md-nav__item> <a href=../../DataAnalysis/ch03/ class=md-nav__link> 数据载入、存储及文件格式 </a> </li> <li class=md-nav__item> <a href=../../DataAnalysis/ch04/ class=md-nav__link> 数据清洗与准备 </a> </li> <li class=md-nav__item> <a href=../../DataAnalysis/ch05/ class=md-nav__link> 数据规整：连接、联合与重塑 </a> </li> <li class=md-nav__item> <a href=../../DataAnalysis/ch06/ class=md-nav__link> 绘图与可视化 </a> </li> <li class=md-nav__item> <a href=../../DataAnalysis/ch07/ class=md-nav__link> 数据聚合与分组操作 </a> </li> <li class=md-nav__item> <a href=../../DataAnalysis/ch08/ class=md-nav__link> 时间序列 </a> </li> <li class=md-nav__item> <a href=../../DataAnalysis/ch09/ class=md-nav__link> 高阶pandas </a> </li> <li class=md-nav__item> <a href=../../DataAnalysis/ch11/ class=md-nav__link> Python建模库介绍 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4 type=checkbox id=__nav_4_4 checked> <label class=md-nav__link for=__nav_4_4> 数据结构和算法 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=数据结构和算法 data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 数据结构和算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../01_PythonFundmantal/ class=md-nav__link> 基础知识回顾 </a> </li> <li class=md-nav__item> <a href=../02_CollectionsOverview/ class=md-nav__link> 多项集的概述 </a> </li> <li class=md-nav__item> <a href=../03_TimeComplexity/ class=md-nav__link> 搜索、排序以及复杂度分析 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 数组和链接结构 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 数组和链接结构 </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#41 class=md-nav__link> 4.1.数组数据结构 </a> <nav class=md-nav aria-label=4.1.数组数据结构> <ul class=md-nav__list> <li class=md-nav__item> <a href=#411 class=md-nav__link> 4.1.1.随机访问和连续内存 </a> </li> <li class=md-nav__item> <a href=#412 class=md-nav__link> 4.1.2.静态内存和动态内存 </a> </li> <li class=md-nav__item> <a href=#413 class=md-nav__link> 4.1.3.物理尺寸和逻辑尺寸 </a> </li> <li class=md-nav__item> <a href=#414 class=md-nav__link> 4.1.4.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#42 class=md-nav__link> 4.2.数组的操作 </a> <nav class=md-nav aria-label=4.2.数组的操作> <ul class=md-nav__list> <li class=md-nav__item> <a href=#421 class=md-nav__link> 4.2.1.增大数组的尺寸 </a> </li> <li class=md-nav__item> <a href=#422 class=md-nav__link> 4.2.2.减小数组的尺寸 </a> </li> <li class=md-nav__item> <a href=#423 class=md-nav__link> 4.2.3.将元素插入增大的数组 </a> </li> <li class=md-nav__item> <a href=#424 class=md-nav__link> 4.2.4.从数组里删除元素 </a> </li> <li class=md-nav__item> <a href=#425 class=md-nav__link> 4.2.5.复杂度的权衡：时间、空间和数组 </a> </li> <li class=md-nav__item> <a href=#426 class=md-nav__link> 4.2.6.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#43 class=md-nav__link> 4.3.二维数组（网格） </a> <nav class=md-nav aria-label=4.3.二维数组（网格）> <ul class=md-nav__list> <li class=md-nav__item> <a href=#431 class=md-nav__link> 4.3.1.使用网格 </a> </li> <li class=md-nav__item> <a href=#432 class=md-nav__link> 4.3.2.创建并初始化网格 </a> </li> <li class=md-nav__item> <a href=#433grid class=md-nav__link> 4.3.3.定义Grid类 </a> </li> <li class=md-nav__item> <a href=#434 class=md-nav__link> 4.3.4.参差不齐的网格和多维数组 </a> </li> <li class=md-nav__item> <a href=#435 class=md-nav__link> 4.3.5.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#44 class=md-nav__link> 4.4.链接结构 </a> <nav class=md-nav aria-label=4.4.链接结构> <ul class=md-nav__list> <li class=md-nav__item> <a href=#441 class=md-nav__link> 4.4.1.单向链接结构和双向链接结构 </a> </li> <li class=md-nav__item> <a href=#442 class=md-nav__link> 4.4.2.非连续内存和节点 </a> </li> <li class=md-nav__item> <a href=#443 class=md-nav__link> 4.4.3.定义单向链接节点类 </a> </li> <li class=md-nav__item> <a href=#444 class=md-nav__link> 4.4.4.使用单向链接节点类 </a> </li> <li class=md-nav__item> <a href=#445 class=md-nav__link> 4.4.5.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#45 class=md-nav__link> 4.5.单向链接结构上的操作 </a> <nav class=md-nav aria-label=4.5.单向链接结构上的操作> <ul class=md-nav__list> <li class=md-nav__item> <a href=#451 class=md-nav__link> 4.5.1.遍历 </a> </li> <li class=md-nav__item> <a href=#452 class=md-nav__link> 4.5.2.搜索 </a> </li> <li class=md-nav__item> <a href=#453 class=md-nav__link> 4.5.3.替换 </a> </li> <li class=md-nav__item> <a href=#454 class=md-nav__link> 4.5.4.在开始处插入 </a> </li> <li class=md-nav__item> <a href=#455 class=md-nav__link> 4.5.5.在结尾处插入 </a> </li> <li class=md-nav__item> <a href=#456 class=md-nav__link> 4.5.6.在开始处删除 </a> </li> <li class=md-nav__item> <a href=#457 class=md-nav__link> 4.5.7.在结尾处删除 </a> </li> <li class=md-nav__item> <a href=#458 class=md-nav__link> 4.5.8.在任意位置处插入 </a> </li> <li class=md-nav__item> <a href=#459 class=md-nav__link> 4.5.9.在任意位置处删除 </a> </li> <li class=md-nav__item> <a href=#4510 class=md-nav__link> 4.5.10.复杂度的权衡：时间、空间和单向链接结构 </a> </li> <li class=md-nav__item> <a href=#4511 class=md-nav__link> 4.5.11.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#46 class=md-nav__link> 4.6.链接上的变化 </a> <nav class=md-nav aria-label=4.6.链接上的变化> <ul class=md-nav__list> <li class=md-nav__item> <a href=#461 class=md-nav__link> 4.6.1.包含虚拟头节点的环状链接结构 </a> </li> <li class=md-nav__item> <a href=#462 class=md-nav__link> 4.6.2.双向链接结构 </a> </li> <li class=md-nav__item> <a href=#463 class=md-nav__link> 4.6.3.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#47 class=md-nav__link> 4.7.小结 </a> </li> <li class=md-nav__item> <a href=#48 class=md-nav__link> 4.8.复习题 </a> </li> <li class=md-nav__item> <a href=#49 class=md-nav__link> 4.9.编程练习 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../05_InterfacePolymorphism/ class=md-nav__link> 接口、实现和多态 </a> </li> <li class=md-nav__item> <a href=../06_InheritanceAbstractClass/ class=md-nav__link> 继承与抽象类 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5 type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5> Demos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Demos data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Demo/CourseSystem/ class=md-nav__link> 选课系统 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#41 class=md-nav__link> 4.1.数组数据结构 </a> <nav class=md-nav aria-label=4.1.数组数据结构> <ul class=md-nav__list> <li class=md-nav__item> <a href=#411 class=md-nav__link> 4.1.1.随机访问和连续内存 </a> </li> <li class=md-nav__item> <a href=#412 class=md-nav__link> 4.1.2.静态内存和动态内存 </a> </li> <li class=md-nav__item> <a href=#413 class=md-nav__link> 4.1.3.物理尺寸和逻辑尺寸 </a> </li> <li class=md-nav__item> <a href=#414 class=md-nav__link> 4.1.4.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#42 class=md-nav__link> 4.2.数组的操作 </a> <nav class=md-nav aria-label=4.2.数组的操作> <ul class=md-nav__list> <li class=md-nav__item> <a href=#421 class=md-nav__link> 4.2.1.增大数组的尺寸 </a> </li> <li class=md-nav__item> <a href=#422 class=md-nav__link> 4.2.2.减小数组的尺寸 </a> </li> <li class=md-nav__item> <a href=#423 class=md-nav__link> 4.2.3.将元素插入增大的数组 </a> </li> <li class=md-nav__item> <a href=#424 class=md-nav__link> 4.2.4.从数组里删除元素 </a> </li> <li class=md-nav__item> <a href=#425 class=md-nav__link> 4.2.5.复杂度的权衡：时间、空间和数组 </a> </li> <li class=md-nav__item> <a href=#426 class=md-nav__link> 4.2.6.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#43 class=md-nav__link> 4.3.二维数组（网格） </a> <nav class=md-nav aria-label=4.3.二维数组（网格）> <ul class=md-nav__list> <li class=md-nav__item> <a href=#431 class=md-nav__link> 4.3.1.使用网格 </a> </li> <li class=md-nav__item> <a href=#432 class=md-nav__link> 4.3.2.创建并初始化网格 </a> </li> <li class=md-nav__item> <a href=#433grid class=md-nav__link> 4.3.3.定义Grid类 </a> </li> <li class=md-nav__item> <a href=#434 class=md-nav__link> 4.3.4.参差不齐的网格和多维数组 </a> </li> <li class=md-nav__item> <a href=#435 class=md-nav__link> 4.3.5.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#44 class=md-nav__link> 4.4.链接结构 </a> <nav class=md-nav aria-label=4.4.链接结构> <ul class=md-nav__list> <li class=md-nav__item> <a href=#441 class=md-nav__link> 4.4.1.单向链接结构和双向链接结构 </a> </li> <li class=md-nav__item> <a href=#442 class=md-nav__link> 4.4.2.非连续内存和节点 </a> </li> <li class=md-nav__item> <a href=#443 class=md-nav__link> 4.4.3.定义单向链接节点类 </a> </li> <li class=md-nav__item> <a href=#444 class=md-nav__link> 4.4.4.使用单向链接节点类 </a> </li> <li class=md-nav__item> <a href=#445 class=md-nav__link> 4.4.5.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#45 class=md-nav__link> 4.5.单向链接结构上的操作 </a> <nav class=md-nav aria-label=4.5.单向链接结构上的操作> <ul class=md-nav__list> <li class=md-nav__item> <a href=#451 class=md-nav__link> 4.5.1.遍历 </a> </li> <li class=md-nav__item> <a href=#452 class=md-nav__link> 4.5.2.搜索 </a> </li> <li class=md-nav__item> <a href=#453 class=md-nav__link> 4.5.3.替换 </a> </li> <li class=md-nav__item> <a href=#454 class=md-nav__link> 4.5.4.在开始处插入 </a> </li> <li class=md-nav__item> <a href=#455 class=md-nav__link> 4.5.5.在结尾处插入 </a> </li> <li class=md-nav__item> <a href=#456 class=md-nav__link> 4.5.6.在开始处删除 </a> </li> <li class=md-nav__item> <a href=#457 class=md-nav__link> 4.5.7.在结尾处删除 </a> </li> <li class=md-nav__item> <a href=#458 class=md-nav__link> 4.5.8.在任意位置处插入 </a> </li> <li class=md-nav__item> <a href=#459 class=md-nav__link> 4.5.9.在任意位置处删除 </a> </li> <li class=md-nav__item> <a href=#4510 class=md-nav__link> 4.5.10.复杂度的权衡：时间、空间和单向链接结构 </a> </li> <li class=md-nav__item> <a href=#4511 class=md-nav__link> 4.5.11.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#46 class=md-nav__link> 4.6.链接上的变化 </a> <nav class=md-nav aria-label=4.6.链接上的变化> <ul class=md-nav__list> <li class=md-nav__item> <a href=#461 class=md-nav__link> 4.6.1.包含虚拟头节点的环状链接结构 </a> </li> <li class=md-nav__item> <a href=#462 class=md-nav__link> 4.6.2.双向链接结构 </a> </li> <li class=md-nav__item> <a href=#463 class=md-nav__link> 4.6.3.练习题 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#47 class=md-nav__link> 4.7.小结 </a> </li> <li class=md-nav__item> <a href=#48 class=md-nav__link> 4.8.复习题 </a> </li> <li class=md-nav__item> <a href=#49 class=md-nav__link> 4.9.编程练习 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/huyuhui001/mySite/edit/main/docs/python/DataStructure/04_ArrayChain.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=4>4.数组和链接结构<a class=headerlink href=#4 title="Permanent link"> ¶</a></h1> <p>数据结构（data structure）或具体数据类型（concrete data type）是指一组数据的内部存储方式。</p> <p>数组（array）和链接结构（linked structure）这两种数据结构是编程语言里多项集最常用的实现。</p> <p>目标：</p> <ul> <li>创建数组；</li> <li>对数组执行各种操作；</li> <li>确定数组相关操作的运行时和内存的使用情况；</li> <li>基于数组在计算机内存里的不同存储方式，描述数组相关操作的成本和收益；</li> <li>使用单向链接节点创建链接结构；</li> <li>对由单向链接节点构成的链接结构执行各种操作；</li> <li>基于链接结构在计算机内存里的不同存储方式，描述在链接结构上执行相关操作的成本和收益；</li> <li>比较数组和链接结构在运行时和内存使用上的权衡；</li> </ul> <h2 id=41>4.1.数组数据结构<a class=headerlink href=#41 title="Permanent link"> ¶</a></h2> <p>关于数组（array）：</p> <ul> <li>数组是指在给定索引位置可以访问和替换的元素序列。</li> <li>Python列表的底层数据结构正是一个数组。</li> <li>Python中数组的限制要比列表更多。只能在指定位置访问和替换数组中的元素、检查数组的长度、获取它的字符串表达式；不能基于位置添加或删除元素；数组的长度也就是它的容量，在创建之后就是固定的。</li> </ul> <h3 id=411>4.1.1.随机访问和连续内存<a class=headerlink href=#411 title="Permanent link"> ¶</a></h3> <p>通过下标操作或索引操作实现对数组在指定位置对元素进行存储或检索。</p> <p>数组索引是随机访问（random access）操作，而在随机访问时，计算机总会执行固定的步骤来获取第<code>i</code>个元素的位置。因此，不论数组有多大，访问第一个元素所需的时间和访问最后一个元素所需要的时间都是相同的。</p> <p>计算机通过分配一块连续内存（contiguous memory）单元来存储数组里的元素，从而支持对数组的随机访问。</p> <p>由于数组里的元素地址都是按照数字顺序进行排列的，因此可以通过添加两个值来计算出数组元素的机器地址，它们是数组的基地址（base address）以及元素的偏移量（offset）。其中，数组的基地址就是第一个元素的机器地址，而元素的偏移量就是它的索引值再乘以一个代表数组元素所需内存单元数的常量（在Python里，这个值始终是1）。</p> <p>简而言之，Python数组里的索引操作包括下面两个步骤：</p> <ul> <li>得到数组内存块的基地址。</li> <li>将索引值添加到这个地址并返回。</li> </ul> <h3 id=412>4.1.2.静态内存和动态内存<a class=headerlink href=#412 title="Permanent link"> ¶</a></h3> <p>在比较老的编程语言（如FORTRAN或Pascal）里，数组是静态数据结构。在这种情况下，数组的长度或容量在编译时就确定了，程序员需要申请足够多的内存来满足在数组里存储可能有最大数量元素的情况，这样做会浪费大量的内存。</p> <p>像Java和C++这类的现代编程语言会允许程序员创建动态数组（dynamic array），从而为这个问题提供了一种补救方法。和静态数组相似的是，动态数组也会占用一块连续内存，并支持随机访问。动态数组的长度只在运行时才知道，在动态数组实例化的时候指定它的长度。在Python里实现的Array类的行为也是这样的。</p> <p>我们可以通过另一种方法在运行时根据应用程序的数据要求来调整数组的长度，这些调整会由Python列表自动进行。这时，数组有以下3种不同形式。</p> <ul> <li>在程序启动时创建一个具有合理默认大小的数组。</li> <li>当数组无法容纳更多数据时，创建一个更大的新数组，并把旧数组里的数据元素传输给它。</li> <li>如果数组在浪费内存（应用程序删除了一些数据），那么用类似的方式减小数组的长度。</li> </ul> <h3 id=413>4.1.3.物理尺寸和逻辑尺寸<a class=headerlink href=#413 title="Permanent link"> ¶</a></h3> <p>数组的物理尺寸（physical size）是指数组单元的总数，或者创建数组时指定其容量的那个数字；</p> <p>数组的逻辑尺寸（logical size）是指当前应用程序使用的元素数量。</p> <p>当数组被填满的时候，我们不需要担心它们的不同。当数组被部分填满的时候，未被填充的内存单元里的数据对当前应用程序是没有用的，我们称之垃圾内容（garbage）。在大多数应用程序里，我们是要注意对数组的物理尺寸和逻辑尺寸进行追踪。通常来说，逻辑尺寸和物理尺寸会反映出有关数组状态的几个重点。</p> <ul> <li>如果逻辑尺寸为0，那么数组就为空。也就是说，这个数组不包含任何数据元素。</li> <li>如果并非上述情况，在任何情况下，数组中最后一个元素的索引都是它的逻辑尺寸减1。</li> <li>如果逻辑尺寸等于物理尺寸，那么表示数组已被填满了。</li> </ul> <h3 id=414>4.1.4.练习题<a class=headerlink href=#414 title="Permanent link"> ¶</a></h3> <p>1．请说明随机访问的工作原理，以及这个操作这么快的原因。</p> <p>解答：随机访问是一种计算机存储系统中的读取或写入数据的操作，其中数据可以通过直接跳转到其存储位置而不需要顺序扫描来访问。这与顺序访问不同，后者需要按顺序遍历数据以找到所需的信息。随机访问的工作原理如下：</p> <ul> <li>存储介质：计算机内存和硬盘等存储设备都支持随机访问。这些存储介质中的数据通常被划分为块或扇区，并且每个块或扇区都有一个唯一的地址或索引。</li> <li>访问地址：为了进行随机访问，计算机需要知道要访问的数据的地址。这个地址可以是内存中的特定位置，也可以是硬盘上的某个扇区的地址。</li> <li>寻址和传输：计算机使用存储设备的控制器或存储器管理单元来查找数据的地址。一旦找到了正确的地址，存储设备会将数据传输到计算机的内存中供处理器使用。</li> <li>访问速度：随机访问之所以如此快速，是因为计算机内存和现代硬盘驱动器等存储设备都经过了优化，可以快速响应访问请求。这些设备使用了高速缓存、读写头、寻道机构等技术来最小化数据访问的延迟。</li> </ul> <p>原因：</p> <ul> <li>存储设备的物理结构：计算机内存和硬盘等存储设备的物理结构被设计成可以随机访问的。内存中的每个地址都可以瞬间访问，而硬盘上的扇区也可以通过磁头寻道和旋转磁盘等机制迅速访问。</li> <li>高速缓存：现代计算机内存和处理器都配备了高速缓存（例如，CPU缓存）。这些高速缓存存储了最近访问的数据，可以快速提供给处理器，从而降低了访问延迟。</li> <li>存储器管理：操作系统和存储设备的控制器会管理存储器的访问，以确保数据可以高效地被访问和传输。这包括了磁盘调度算法、内存分页等策略。</li> <li>技术进步：硬件制造技术的进步和存储设备的优化使得随机访问速度更快。例如，固态硬盘（SSD）的出现显著提高了数据的随机访问速度。</li> </ul> <p>总之，随机访问之所以如此快速，是因为计算机内存和存储设备的物理和技术特性使其能够以高效、迅速的方式访问数据。这种访问速度对于计算机的性能和响应时间至关重要。</p> <p>2．数组和Python列表之间有什么区别？</p> <p>解答：数组和Python列表之间有几个关键区别，这些区别在数据结构、功能和用途上存在差异：</p> <ul> <li>数据类型：<ul> <li>数组：通常要求所有元素具有相同的数据类型。这是因为数组在内存中以紧凑的方式存储数据，需要知道每个元素的大小以便进行随机访问。</li> <li>Python列表：Python的列表可以容纳不同数据类型的元素，因为它们是动态类型的。</li> </ul> </li> <li>内存管理：<ul> <li>数组：通常在创建时需要指定固定大小，因此在内存中会分配一块连续的空间，这使得数组对于高效的随机访问非常适用。</li> <li>Python列表：Python的列表是动态的，它们可以根据需要自动扩展或缩小。这导致了一些额外的内存开销，因为列表需要更多的空间来管理元素的添加和删除。</li> </ul> </li> <li>性能：<ul> <li>数组：由于内存布局连续，因此数组通常在访问元素时更快。数组还支持更多的底层操作，如位操作。</li> <li>Python列表：Python列表更加灵活，但在某些情况下可能会导致性能下降，特别是当涉及大量元素的插入和删除操作时。</li> </ul> </li> <li>操作和方法：<ul> <li>数组：通常提供一组基本操作，如读取和写入元素，以及一些数学运算，如向量化操作。</li> <li>Python列表：Python列表提供了更丰富的方法和操作，包括元素的插入、删除、追加、切片、连接等。</li> </ul> </li> <li>语言依赖性：<ul> <li>数组：数组通常是编程语言的一部分，具有固定的语法和语义。</li> <li>Python列表：Python的列表是Python标准库的一部分，与Python的动态特性相适应。</li> </ul> </li> <li>适用场景：<ul> <li>数组：适用于需要高效随机访问的情况，如数值计算、图像处理等。</li> <li>Python列表：适用于更广泛的应用，特别是在编写Python代码时，因为它们更灵活且易于使用。</li> </ul> </li> </ul> <p>总之，数组和Python列表都有自己的优势和适用场景。选择使用哪种数据结构取决于具体的需求和编程语言。在Python中，通常会优先选择使用列表，因为它们更方便，而在其他编程语言中，如C或Java，数组可能更为常见。</p> <p>在这里需要说明一个概念。在Python中，术语"数组"通常指的是NumPy库中的数组对象，而"列表"指的是Python的内置列表（list）数据结构。这两者之间有以下区别：</p> <ul> <li>数据类型：<ul> <li>数组（NumPy数组）：NumPy库提供了一个多维数组对象，它可以包含相同数据类型的元素，并支持高级数学、科学和工程计算。NumPy数组的元素类型通常是固定的，例如，可以是整数、浮点数、复数等。这些数组是高性能的，支持向量化操作。</li> <li>列表（Python列表）：Python的内置列表是一种通用的、动态类型的数据结构，可以包含不同数据类型的元素，例如整数、浮点数、字符串、对象等。列表可以动态扩展和缩小，并提供了丰富的内置方法和操作。</li> </ul> </li> <li>性能：<ul> <li>数组（NumPy数组）：NumPy数组通常比Python列表更高效，特别是在进行数值计算和科学计算时。它们内部使用了C语言实现，支持向量化操作，因此在大规模数据处理中通常更快。</li> <li>列表（Python列表）：Python列表虽然灵活，但性能相对较低，不适合大规模的数值计算。它们的元素类型可以不同，这意味着需要更多的内存和处理时间来管理元素。</li> </ul> </li> <li>库依赖：<ul> <li>数组（NumPy数组）：使用NumPy库需要安装NumPy模块。NumPy是Python中用于数值计算的核心库，广泛应用于科学计算、机器学习等领域。</li> <li>列表（Python列表）：Python的内置列表是Python标准库的一部分，无需额外安装。</li> </ul> </li> <li>功能：<ul> <li>数组（NumPy数组）：NumPy数组提供了许多数学和科学计算函数，如线性代数、傅立叶变换、统计分析等。它们适用于处理大量数值数据。</li> <li>列表（Python列表）：Python列表提供了通用的数据容器，用于存储和管理各种类型的数据，但不提供专门的数学和科学计算功能。</li> </ul> </li> </ul> <p>如果需要进行数值计算、科学计算或数据分析，通常会使用NumPy数组。如果只是需要一个通用的数据容器，用于存储和管理数据，那么Python列表通常足够了。</p> <p>3．请说明数组的物理尺寸和逻辑尺寸之间的区别。</p> <p>解答："物理尺寸"和"逻辑尺寸"通常用于描述数据结构中的两个不同方面：</p> <ul> <li>物理尺寸（Physical Size）：<ul> <li>物理尺寸是指数据结构实际占用的内存空间或存储介质中的空间大小。</li> <li>它表示数据结构在计算机内存或磁盘中所占据的实际字节数。</li> <li>物理尺寸与数据结构的存储方式、数据类型以及计算机架构有关。</li> </ul> </li> <li>逻辑尺寸（Logical Size）：<ul> <li>逻辑尺寸是指数据结构中包含的元素数量或数据项的数量。</li> <li>它表示数据结构内部的元素数量或数据项的个数，不涉及实际的存储大小。</li> <li>逻辑尺寸通常用于描述数据结构的容量、规模或维度。</li> </ul> </li> </ul> <p>这两个概念之间的关系如下：</p> <ul> <li>一个数据结构可以具有固定的物理尺寸（占据固定数量的字节），但其逻辑尺寸可以根据实际存储的元素数量而变化。</li> <li>物理尺寸通常是由计算机硬件和操作系统管理的，而逻辑尺寸则是程序员根据数据结构的设计来管理的。</li> </ul> <p>举例来说，一个整数数组可以具有固定的物理尺寸，例如4字节/整数，但它的逻辑尺寸可以是数组中整数的数量，可以是0个、10个、100个等等。因此，逻辑尺寸描述了数组可以容纳的元素数量，而物理尺寸描述了实际占用的内存空间。</p> <p>在数据结构的设计和使用中，了解和管理物理尺寸和逻辑尺寸对于有效地利用计算机资源非常重要。</p> <h2 id=42>4.2.数组的操作<a class=headerlink href=#42 title="Permanent link"> ¶</a></h2> <p>Python的<code>array</code>模块包含一个叫作<code>array</code>的类，它非常类似于列表，但是只能存储数字。我们会定义一个叫作<code>Array</code>的新类，使用列表保存元素，存储任何类型的元素。</p> <p>下面的示例定义了一个数组类<code>Array</code>，下面对数组的一些操作的代码实现也已经包含在下面的代码中。其中：</p> <ul> <li>数组默认的物理尺寸（也就是容量）是5</li> <li>数组的初始逻辑尺寸是0</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Array</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;描述一个数组。&quot;&quot;&quot;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>capacity</span><span class=p>,</span> <span class=n>fillValue</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Capacity是数组的大小.  fillValue会填充在每个元素位置, 默认值是None&quot;&quot;&quot;</span>
        <span class=c1># 初始化数组的逻辑尺寸和物理尺寸</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span> <span class=o>=</span> <span class=n>capacity</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span> <span class=o>=</span> <span class=n>fillValue</span>
        <span class=c1>#初始化内部数组，并填充元素值</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span> <span class=o>=</span> <span class=nb>list</span><span class=p>()</span>
        <span class=k>for</span> <span class=n>count</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>capacity</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>fillValue</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span> <span class=o>+=</span> <span class=mi>1</span>  <span class=c1># 初始化数组物理大小时，也同时初始化其逻辑大小</span>

    <span class=k>def</span> <span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回数组的大小&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;将数组字符串化并返回&quot;&quot;&quot;</span>
        <span class=n>result</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
        <span class=k>for</span> <span class=n>index</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()):</span>
            <span class=n>result</span> <span class=o>+=</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>])</span> <span class=o>+</span> <span class=s2>&quot; &quot;</span>
        <span class=k>return</span> <span class=n>result</span>

    <span class=k>def</span> <span class=nf>size</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回数组的逻辑尺寸&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span>

    <span class=k>def</span> <span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;支持for循环对数组进行遍历.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;__iter__ called&quot;</span><span class=p>)</span>  <span class=c1># 仅用来测试何时__iter__会被调用</span>
        <span class=k>return</span> <span class=nb>iter</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=k>def</span> <span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        用于访问索引处的下标运算符.</span>
<span class=sd>        先决条件: 0 &lt;= index &lt; size()</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>index</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>index</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=k>raise</span> <span class=ne>IndexError</span><span class=p>(</span><span class=s2>&quot;读取操作出错, 数组索引越界(不在数组逻辑边界范围内)&quot;</span><span class=p>)</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>

    <span class=k>def</span> <span class=fm>__setitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>newItem</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        下标运算符用于在索引处进行替换.</span>
<span class=sd>        先决条件: 0 &lt;= index &lt; size()</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>index</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>index</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=k>raise</span> <span class=ne>IndexError</span><span class=p>(</span><span class=s2>&quot;更新操作出错, 数组索引越界(不在数组逻辑边界范围内)&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>=</span> <span class=n>newItem</span>

    <span class=k>def</span> <span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        两个数组相等则返回True，否则返回False</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># 判断两个数组是否是同一个对象，注意，不是它们的值是否相等</span>
        <span class=k>if</span> <span class=bp>self</span> <span class=ow>is</span> <span class=n>other</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>True</span>
        <span class=c1># 判断两个对象类型是否一样</span>
        <span class=k>if</span> <span class=nb>type</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>type</span><span class=p>(</span><span class=n>other</span><span class=p>):</span>
            <span class=k>return</span> <span class=kc>False</span>
        <span class=c1># 判断两个数组大小是否一样</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>!=</span> <span class=n>other</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=k>return</span> <span class=kc>False</span>
        <span class=c1># 比较两个数组的值是否一样</span>
        <span class=k>for</span> <span class=n>index</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()):</span>
            <span class=k>if</span> <span class=bp>self</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>!=</span> <span class=n>other</span><span class=p>[</span><span class=n>index</span><span class=p>]:</span>
                <span class=k>return</span> <span class=kc>False</span>
        <span class=k>return</span> <span class=kc>True</span>

    <span class=k>def</span> <span class=nf>grow</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;增大数组物理尺寸&quot;&quot;&quot;</span>
        <span class=c1># 基于当前物理尺寸加倍，并将fillValue赋值底层列表的新元素</span>
        <span class=k>for</span> <span class=n>count</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>insert</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>newItem</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;在数组指定索引处插入新元素&quot;&quot;&quot;</span>
        <span class=c1># 当数组的物理尺寸和逻辑尺寸一样时，则增加物理尺寸</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>grow</span><span class=p>()</span>
        <span class=c1># 插入新元素</span>
        <span class=c1># 当插入位置大于或等于最大逻辑位置，则在数组末端插入新元素</span>
        <span class=c1># 当插入位置介于数组逻辑位置的中间，则从插入位置起将剩余数组元素向尾部平移一个位置</span>
        <span class=k>if</span> <span class=n>index</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()]</span> <span class=o>=</span> <span class=n>newItem</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>index</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

            <span class=c1># 将数组元素向尾部平移一个位置</span>
            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>(),</span> <span class=n>index</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>):</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>

            <span class=c1># 插入新元素</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>=</span> <span class=n>newItem</span>

        <span class=c1># 增加数组的逻辑尺寸</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span> <span class=o>+=</span> <span class=mi>1</span>

    <span class=k>def</span> <span class=nf>shrink</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        减少数组的物理尺寸</span>
<span class=sd>        当:</span>
<span class=sd>        - 数组的逻辑尺寸小于或等于其物理尺寸的1/4</span>
<span class=sd>        - 并且它的物理尺寸至少是这个数组建立时默认容量的2倍时</span>
<span class=sd>        则把数组的物理尺寸减小到原来的一半，并且也不会小于其默认容量</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># 在逻辑尺寸和物理尺寸的一半之间选择最大值作为数组收缩后的物理尺寸</span>
        <span class=n>newSize</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>capacity</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>//</span> <span class=mi>2</span><span class=p>)</span>
        <span class=c1># 释放多余的数组空间</span>
        <span class=k>for</span> <span class=n>count</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-</span> <span class=n>newSize</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>

    <span class=k>def</span> <span class=nf>pop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        删除指定索引值的数组元素,并返回删除的数组元素值</span>
<span class=sd>        先决条件: 0 &lt;= index &lt; size()</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>index</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>index</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=k>raise</span> <span class=ne>IndexError</span><span class=p>(</span><span class=s2>&quot;删除操作出错, 数组索引越界(不在数组逻辑边界范围内)&quot;</span><span class=p>)</span>

        <span class=c1># 保存即将被删除的数组元素值</span>
        <span class=n>itemToReturn</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>

        <span class=c1># 将数组元素向头部平移一个位置</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span>

        <span class=c1># 将数组尾部的空余位赋值fillValue，默认是None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span>

        <span class=c1># 减少数组逻辑尺寸</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span> <span class=o>-=</span> <span class=mi>1</span>

        <span class=c1># 减少数组物理尺寸</span>
        <span class=c1># 当:</span>
        <span class=c1># - 数组的逻辑尺寸小于或等于其物理尺寸的1/4</span>
        <span class=c1># - 并且它的物理尺寸至少是这个数组建立时默认容量的2倍时</span>
        <span class=c1># 则把数组的物理尺寸减小到原来的一半，并且也不会小于其默认容量</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&lt;=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>//</span> <span class=mi>4</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>shrink</span><span class=p>()</span>

        <span class=c1># 返回被删除元素的值</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Item </span><span class=si>{</span><span class=n>itemToReturn</span><span class=si>}</span><span class=s1> was deleted&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>itemToReturn</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=c1># 初始化空数组</span>
    <span class=n>DEFAULT_CAPACITY</span> <span class=o>=</span> <span class=mi>5</span>
    <span class=n>my_arr</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=n>DEFAULT_CAPACITY</span><span class=p>)</span>

    <span class=c1># 打印输出数组初始信息</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Physical size:&quot;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>my_arr</span><span class=p>))</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Logical size:&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=o>.</span><span class=n>size</span><span class=p>())</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Initial items:&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=c1># 初始化数组元素</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;------&#39;</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>):</span>
        <span class=n>my_arr</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>item</span><span class=p>)</span>  <span class=c1># 在数组头部插入，每插入一次都需要向后移动已有数组元素</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Items(logical):&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Items(physical):&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=c1># 在数组中间插入新元素</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;------&#39;</span><span class=p>)</span>
    <span class=n>my_arr</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>99</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Items(logical):&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Items(physical):&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=c1># 在数组逻辑尺寸外插入新元素</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;------&#39;</span><span class=p>)</span>
    <span class=n>my_arr</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=mi>88</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Items(logical):&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Items(physical):&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=c1># 删除数组元素</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;------&#39;</span><span class=p>)</span>
    <span class=n>my_arr</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
    <span class=n>my_arr</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Items(logical):&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Items(physical):&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=c1># 清空数组元素</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;------&#39;</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>count</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>my_arr</span><span class=o>.</span><span class=n>size</span><span class=p>()):</span>
        <span class=n>my_arr</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Items(logical):&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Items(physical):&quot;</span><span class=p>,</span> <span class=n>my_arr</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=c1># 数组元素已经全部删除，逻辑尺寸为零，下面命令返回错误</span>
    <span class=c1># print(&#39;------&#39;)</span>
    <span class=c1># print(my_arr.pop(0))</span>

    <span class=c1># 数组比较</span>
    <span class=c1># 初始化数组</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;------&#39;</span><span class=p>)</span>
    <span class=n>arr_a</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>):</span>
        <span class=n>arr_a</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>item</span><span class=p>)</span>
    <span class=n>arr_b</span> <span class=o>=</span> <span class=n>arr_a</span>
    <span class=n>arr_c</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>):</span>
        <span class=n>arr_c</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>item</span><span class=p>)</span>
    <span class=n>arr_d</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_a(physical):&quot;</span><span class=p>,</span> <span class=n>arr_a</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_b(physical):&quot;</span><span class=p>,</span> <span class=n>arr_b</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_c(physical):&quot;</span><span class=p>,</span> <span class=n>arr_c</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_d(physical):&quot;</span><span class=p>,</span> <span class=n>arr_d</span><span class=p>)</span>

    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_a == arr_b:&quot;</span><span class=p>,</span> <span class=n>arr_a</span> <span class=o>==</span> <span class=n>arr_b</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_a is arr_b:&quot;</span><span class=p>,</span> <span class=n>arr_a</span> <span class=ow>is</span> <span class=n>arr_b</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_a == arr_c:&quot;</span><span class=p>,</span> <span class=n>arr_a</span> <span class=o>==</span> <span class=n>arr_c</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_a is arr_c:&quot;</span><span class=p>,</span> <span class=n>arr_a</span> <span class=ow>is</span> <span class=n>arr_c</span><span class=p>)</span>

    <span class=n>arr_c</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_a == arr_c:&quot;</span><span class=p>,</span> <span class=n>arr_a</span> <span class=o>==</span> <span class=n>arr_c</span><span class=p>)</span>
    <span class=n>arr_c</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>arr_c</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
    <span class=n>arr_c</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=mi>6</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_a == arr_c:&quot;</span><span class=p>,</span> <span class=n>arr_a</span> <span class=o>==</span> <span class=n>arr_c</span><span class=p>)</span>

    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;arr_a == arr_d:&quot;</span><span class=p>,</span> <span class=n>arr_a</span> <span class=o>==</span> <span class=n>arr_d</span><span class=p>)</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>

<span class=c1># 运行结果</span>
<span class=c1># Physical size: 5</span>
<span class=c1># Logical size: 0</span>
<span class=c1># Initial items: [None, None, None, None, None]</span>
<span class=c1># ------</span>
<span class=c1># Items(logical): 3 2 1 0</span>
<span class=c1># Items(physical): [3, 2, 1, 0, None]</span>
<span class=c1># ------</span>
<span class=c1># Items(logical): 3 2 1 99 0</span>
<span class=c1># Items(physical): [3, 2, 1, 99, 0]</span>
<span class=c1># ------</span>
<span class=c1># Items(logical): 3 2 1 99 0 88</span>
<span class=c1># Items(physical): [3, 2, 1, 99, 0, 88, None, None, None, None]</span>
<span class=c1># ------</span>
<span class=c1># Item 99 was deleted</span>
<span class=c1># Item 0 was deleted</span>
<span class=c1># Items(logical): 3 2 1 88</span>
<span class=c1># Items(physical): [3, 2, 1, 88, None, None, None, None, None, None]</span>
<span class=c1># ------</span>
<span class=c1># Item 3 was deleted</span>
<span class=c1># Item 2 was deleted</span>
<span class=c1># Item 1 was deleted</span>
<span class=c1># Item 88 was deleted</span>
<span class=c1># Items(logical):</span>
<span class=c1># Items(physical): [None, None, None, None, None]</span>
<span class=c1># ------</span>
<span class=c1># IndexError: 删除操作出错, 数组索引越界(不在数组逻辑边界范围内)</span>
<span class=c1># ------</span>
<span class=c1># arr_a(physical): [3, 2, 1, 0, None]</span>
<span class=c1># arr_b(physical): [3, 2, 1, 0, None]</span>
<span class=c1># arr_c(physical): [3, 2, 1, 0, None]</span>
<span class=c1># arr_d(physical): []</span>
<span class=c1># arr_a == arr_b: True</span>
<span class=c1># arr_a is arr_b: True</span>
<span class=c1># arr_a == arr_c: True</span>
<span class=c1># arr_a is arr_c: False</span>
<span class=c1># arr_a == arr_c: False</span>
<span class=c1># Item 10 was deleted</span>
<span class=c1># arr_a == arr_c: False</span>
<span class=c1># arr_a == arr_d: False</span>
</code></pre></div> <h3 id=421>4.2.1.增大数组的尺寸<a class=headerlink href=#421 title="Permanent link"> ¶</a></h3> <p>当数组的逻辑尺寸等于它的物理尺寸时，如果要插入新的元素，就需要增大数组的物理尺寸。 如果需要为数组提供更多内存，Python的list类型会在调用insert或append方法时执行这个操作。</p> <p>调整数组物理尺寸的过程包含如下3个步骤。</p> <ul> <li>创建一个更大的新数组。</li> <li>将数据从旧数组中复制到新数组。</li> <li>将指向旧数组的变量指向新数组对象。</li> </ul> <p>下面代码实现。</p> <div class=highlight><pre><span></span><code><span class=c1># 增大数组物理尺寸</span>
<span class=k>if</span> <span class=n>logicalSize</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=n>my_array</span><span class=p>):</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>my_array</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>  <span class=c1># 创建一个新数组</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>logicalSize</span><span class=p>):</span>
        <span class=n>temp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>my_array</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>  <span class=c1># 从原数组复制内容到新数组</span>
    <span class=n>my_array</span> <span class=o>=</span> <span class=n>temp</span>  <span class=c1># 把新数组赋值给原数组</span>
</code></pre></div> <p>在上面代码中，通过<code>temp[i] = my_array[i]</code>来调整数组尺寸，这个复制操作的数量是线性增长的。因此，将<code>n</code>个元素添加到数组里的总时间复杂度是<code>1+2+3...+n</code>，也就是<code>n(n+1)/2</code>，因此是<code>O(n^2)</code>。</p> <p>在上面的代码中，通过<code>temp = Array(len(my_array) + 1)</code>对数组进行动态扩展，对性能会产生一些可能的影响：</p> <ul> <li>时间复杂度：动态扩展数组通常需要复制现有数据到新的内存位置，这将涉及到元素的复制操作。这些操作的时间复杂度取决于数组的长度，通常是<code>O(n)</code>，其中<code>n</code>是数组的长度。因此，当数组需要扩展时，可能会产生一些额外的时间开销。</li> <li>空间复杂度：动态扩展数组会占用额外的内存空间，因为需要分配新的内存块来容纳扩展后的数组。这可能会导致内存碎片化，特别是在频繁扩展和缩小数组时。</li> <li>扩展频率：扩展数组的频率会影响性能。如果数组需要频繁扩展，那么复制和内存分配的开销会更加显著，从而降低性能。因此，在设计数据结构时，通常会考虑初始容量和扩展策略，以减少不必要的扩展次数。</li> <li>Amortized Analysis：一些数据结构，例如Python的列表（list），采用摊还分析来平摊动态扩展的开销。这意味着虽然某些操作可能会花费<code>O(n)</code>的时间，但这些开销在一系列操作中被分摊，平均下来仍然保持较低的复杂度。这可以在一定程度上缓解性能问题。</li> </ul> <p>动态扩展数组会引入一些性能开销，但在实际应用中，这种开销通常是可以接受的。为了优化性能，可以考虑以下几点策略，需要根据具体应用的需求和性能要求来权衡这些因素：</p> <ul> <li>预先分配足够的初始容量，以减少扩展的频率。</li> <li>使用摊还分析来平摊开销。</li> <li>考虑使用其他数据结构，如链表，对插入和删除操作的性能更加友好。</li> </ul> <p>下面，尝试在每次增大数组尺寸时把数组尺寸翻倍，代码实现如下：</p> <div class=highlight><pre><span></span><code><span class=c1># 增大数组物理尺寸</span>
<span class=k>while</span> <span class=n>logicalSize</span> <span class=o>&lt;</span> <span class=n>DEFAULT_CAPACITY</span> <span class=o>*</span> <span class=mi>2</span><span class=p>:</span>
    <span class=n>logicalSize</span> <span class=o>+=</span> <span class=mi>1</span>
    <span class=k>if</span> <span class=n>logicalSize</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=n>my_array</span><span class=p>):</span>  <span class=c1># 触发条件</span>
        <span class=n>temp</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>my_array</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>  <span class=c1># 创建一个新数组</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>logicalSize</span><span class=p>):</span>
            <span class=n>temp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>my_array</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>  <span class=c1># 从原数组复制内容到新数组</span>
        <span class=n>my_array</span> <span class=o>=</span> <span class=n>temp</span>  <span class=c1># 把新数组赋值给原数组</span>
</code></pre></div> <p>将数组尺寸翻倍来扩展数组的方式是一种常见的策略，通常用于减少动态数组的频繁扩展次数，以提高性能。这种方式的操作时间复杂度主要取决于扩展操作的频率和元素的复制成本。</p> <ul> <li>摊还分析：对于将数组尺寸翻倍的策略，摊还分析表明，每次扩展操作的摊还时间复杂度仍然是常数时间的（通常是O(1)），这意味着平均下来，每次扩展的开销是固定的，而不会随数组的大小线性增加。</li> <li>操作时间：假设数组需要扩展，那么将数组尺寸翻倍需要分配新的内存块并复制现有元素，这个操作的时间复杂度是O(n)，其中n是数组的当前大小。然而，由于扩展操作不是每次都执行的，而是当数组已满时才执行，因此可以认为这个操作的摊还时间是常数时间，即O(1)。</li> <li>空间复杂度：将数组尺寸翻倍会占用额外的内存空间，但随着数组的增长，额外内存的占用相对于数组本身的大小来说是有限的。通常情况下，这种占用可以接受。</li> </ul> <p>总结，将数组尺寸翻倍的策略可以显著减少动态数组的扩展次数，从而提高性能。虽然每次扩展操作可能会花费一些时间和额外内存，但这些开销在一系列操作中被平摊，平均下来是常数时间。这是一种高效的动态数组实现方式，常见于许多编程语言的标准库中，包括Python的列表（list）。</p> <p>在增加数组的长度时，每次增加一个内存单元，与每次增大数组尺寸时把数组尺寸翻倍相比，后者的方法通常更高效。</p> <ul> <li>每次增加一个内存单元：这种方式在每次添加新元素时都需要分配额外的内存，导致数组尺寸的增长是线性的。如果频繁添加元素，这将导致大量的内存分配和数据复制操作，因此时间复杂度会变得相对较高。</li> <li>每次增大数组尺寸时把数组尺寸翻倍：这是一种更高效的策略。在这种方式下，每次扩展操作都会增加数组的尺寸，但增幅是指数级的，而不是线性的。这意味着随着数组的增长，扩展操作的频率会减少，因为数组能够容纳更多元素。这样，虽然每次扩展操作需要复制更多的元素，但它们的摊还时间复杂度仍然是常数时间，因为它们不是每次都执行的。</li> </ul> <p>总结，将数组尺寸翻倍的策略通常更高效，因为它可以减少频繁的内存分配和复制操作，降低了时间复杂度。这是许多动态数组实现的常见做法，包括Python的列表（list）。</p> <p>在<code>Array</code>类实现中，是通过下面代码段实现的数组物理尺寸增加的，即将数组尺寸翻倍。</p> <div class=highlight><pre><span></span><code>    <span class=k>def</span> <span class=nf>grow</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;增大数组物理尺寸&quot;&quot;&quot;</span>
        <span class=c1># 基于当前物理尺寸加倍，并将fillValue赋值底层列表的新元素</span>
        <span class=k>for</span> <span class=n>count</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span><span class=p>)</span>
</code></pre></div> <h3 id=422>4.2.2.减小数组的尺寸<a class=headerlink href=#422 title="Permanent link"> ¶</a></h3> <p>如果减小数组的逻辑尺寸，就会浪费相应的内存单元。因此，当删除某一个元素，如果未使用的内存单元数达到或超过了某个阈值（如数组物理尺寸的&frac34;）时，则应该减小物理尺寸了。如果浪费的内存超过特定阈值，那么Python的list类型会在调用<code>pop</code>方法时执行减小数组物理尺寸的操作。</p> <p>减小数组尺寸的过程与增大数组尺寸的过程相反，步骤如下：</p> <ul> <li>创建一个更小的新数组。</li> <li>将数据从旧数组中复制到新数组。</li> <li>将指向旧数组的变量指向新数组对象。</li> </ul> <p>下面的代码实现了减小数组尺寸。</p> <p>当数组的逻辑尺寸小于或等于其物理尺寸的&frac14;，并且它的物理尺寸至少是这个数组建立时默认容量的2倍时，则下面的算法把数组的物理尺寸减小到原来的一半，并且也不会小于其默认容量。</p> <div class=highlight><pre><span></span><code><span class=c1># 减小数组物理尺寸</span>
<span class=k>while</span> <span class=n>logicalSize</span> <span class=o>&gt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>my_array</span><span class=p>)</span> <span class=o>//</span> <span class=mi>4</span><span class=p>:</span>
    <span class=n>logicalSize</span> <span class=o>-=</span> <span class=mi>1</span>
    <span class=k>if</span> <span class=n>logicalSize</span> <span class=o>&lt;=</span> <span class=nb>len</span><span class=p>(</span><span class=n>my_array</span><span class=p>)</span> <span class=o>//</span> <span class=mi>4</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>my_array</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=n>DEFAULT_CAPACITY</span> <span class=o>*</span> <span class=mi>2</span><span class=p>:</span>  <span class=c1># 触发条件</span>
        <span class=n>temp</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>my_array</span><span class=p>)</span> <span class=o>//</span> <span class=mi>2</span><span class=p>)</span>  <span class=c1># 创建一个新数组</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>logicalSize</span><span class=p>):</span>
            <span class=n>temp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>my_array</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>  <span class=c1># 从原数组复制内容到新数组</span>
        <span class=n>my_array</span> <span class=o>=</span> <span class=n>temp</span>  <span class=c1># 把新数组赋值给原数组</span>
</code></pre></div> <p>按照上面算法减少数组的尺寸，我们可以分析其时间和空间复杂度如下：</p> <p>时间复杂度：主要涉及两个操作：</p> <ul> <li>创建新数组并将元素从旧数组复制到新数组；</li> <li>将旧数组引用更改为新数组。</li> </ul> <p>复制操作的时间复杂度取决于数组的物理尺寸，可以表示为<code>O(n)</code>，其中<code>n</code>是数组的当前物理尺寸。引用更改是一个常数时间操作，不影响时间复杂度。所以，整体的时间复杂度是<code>O(n)</code>。</p> <p>空间复杂度：空间复杂度也涉及两个方面：</p> <ul> <li>创建新数组的内存消耗，其空间复杂度是O(N)；</li> <li>引用更改所需的常数额外空间，通常忽略不计。</li> </ul> <p>所以，总的空间复杂度是<code>O(n)</code>。</p> <p>这个算法策略会在适当的时候减小数组的物理尺寸，以减少内存占用，但仍然保持着数组的动态性。时间复杂度和空间复杂度都与当前数组的物理尺寸成线性关系，因此是线性的，这是一种有效的策略来优化内存使用。同时，保留了一定的冗余空间，以避免频繁地扩展和缩小数组，从而提高了性能。</p> <p>下面是在<code>Array</code>类中实现减小数组的物理尺寸的代码。</p> <div class=highlight><pre><span></span><code>    <span class=k>def</span> <span class=nf>shrink</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        减少数组的物理尺寸</span>
<span class=sd>        当:</span>
<span class=sd>        - 数组的逻辑尺寸小于或等于其物理尺寸的1/4</span>
<span class=sd>        - 并且它的物理尺寸至少是这个数组建立时默认容量的2倍时</span>
<span class=sd>        则把数组的物理尺寸减小到原来的一半，并且也不会小于其默认容量</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># 在逻辑尺寸和物理尺寸的一半之间选择最大值作为数组收缩后的物理尺寸</span>
        <span class=n>newSize</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>capacity</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>//</span> <span class=mi>2</span><span class=p>)</span>
        <span class=c1># 释放多余的数组空间</span>
        <span class=k>for</span> <span class=n>count</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-</span> <span class=n>newSize</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</code></pre></div> <h3 id=423>4.2.3.将元素插入增大的数组<a class=headerlink href=#423 title="Permanent link"> ¶</a></h3> <p>把元素插入数组中和替换数组里的元素是不一样的。</p> <p>替换数组元素时，元素已在一个给定的索引位置，对这个位置进行简单复制即可，数组的逻辑尺寸并不会改变。</p> <p>插入数组元素时，需要完成下面4个步骤：</p> <ul> <li>在插入元素之前先检查可以使用的空间，根据需要来增大数组的物理尺寸。</li> <li>将数组里从逻辑结尾到目标索引的所有元素向后移动。这个过程会在目标索引位置处为新元素留下一个空格。</li> <li>将新元素分配到目标索引位置。</li> <li>将逻辑尺寸加1。</li> </ul> <p>实现算法：</p> <div class=highlight><pre><span></span><code><span class=c1># 当数组的物理尺寸和逻辑尺寸一样时，则增加物理尺寸</span>

<span class=c1># 将数组元素向尾部平移一个位置</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>logicalSize</span><span class=p>,</span> <span class=n>targetIndex</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>):</span>
    <span class=n>my_array</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>my_array</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>

<span class=c1># 插入新元素，增加数组的逻辑尺寸</span>
<span class=n>my_array</span><span class=p>[</span><span class=n>targetIndex</span><span class=p>]</span> <span class=o>=</span> <span class=n>newItem</span>
<span class=n>logicalSize</span> <span class=o>+=</span> <span class=mi>1</span>
</code></pre></div> <p>下面是<code>Array</code>类中实现插入元素的方法。</p> <div class=highlight><pre><span></span><code>    <span class=k>def</span> <span class=nf>insert</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>newItem</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;在数组指定索引处插入新元素&quot;&quot;&quot;</span>
        <span class=c1># 当数组的物理尺寸和逻辑尺寸一样时，则增加物理尺寸</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>grow</span><span class=p>()</span>
        <span class=c1># 插入新元素</span>
        <span class=c1># 当插入位置大于或等于最大逻辑位置，则在数组末端插入新元素</span>
        <span class=c1># 当插入位置介于数组逻辑位置的中间，则从插入位置起将剩余数组元素向尾部平移一个位置</span>
        <span class=k>if</span> <span class=n>index</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()]</span> <span class=o>=</span> <span class=n>newItem</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>index</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

            <span class=c1># 将数组元素向尾部平移一个位置</span>
            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>(),</span> <span class=n>index</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>):</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>

            <span class=c1># 插入新元素</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>=</span> <span class=n>newItem</span>

        <span class=c1># 增加数组的逻辑尺寸</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span> <span class=o>+=</span> <span class=mi>1</span>
</code></pre></div> <h3 id=424>4.2.4.从数组里删除元素<a class=headerlink href=#424 title="Permanent link"> ¶</a></h3> <p>从数组里删除元素的步骤如下，和插入操作一样，元素的移动顺序非常重要。</p> <ul> <li>将数组里从目标索引到逻辑结尾的所有元素向前移动，把每个元素都复制到它前面的那个内存单元里。这个过程会关闭删除目标索引位置中的元素所留下的空格。</li> <li>将逻辑尺寸减1。</li> <li>检查是否存在内存空间的浪费，并根据需要减小数组的物理尺寸。</li> </ul> <p>在平均情况下，移动元素的时间复杂度是线性的，因此删除操作的时间复杂度也是线性的。</p> <p>下面是实现删除操作的代码。</p> <div class=highlight><pre><span></span><code><span class=c1># 将数组元素向头部平移一个位置</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>targetIndex</span><span class=p>,</span> <span class=n>logicalSize</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
     <span class=n>my_array</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>my_arraya</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span>

<span class=c1># 减少数组逻辑尺寸</span>
<span class=n>logicalSize</span> <span class=o>-=</span> <span class=mi>1</span>

<span class=c1># 如果需要，则减少数组物理尺寸</span>
</code></pre></div> <p>下面是<code>Array</code>类中实现删除元素的方法。</p> <div class=highlight><pre><span></span><code>    <span class=k>def</span> <span class=nf>pop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        删除指定索引值的数组元素,并返回删除的数组元素值</span>
<span class=sd>        先决条件: 0 &lt;= index &lt; size()</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>index</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>index</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=k>raise</span> <span class=ne>IndexError</span><span class=p>(</span><span class=s2>&quot;删除操作出错, 数组索引越界(不在数组逻辑边界范围内)&quot;</span><span class=p>)</span>

        <span class=c1># 保存即将被删除的数组元素值</span>
        <span class=n>itemToReturn</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>

        <span class=c1># 将数组元素向头部平移一个位置</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span>

        <span class=c1># 将数组尾部的空余位赋值fillValue，默认是None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span>

        <span class=c1># 减少数组逻辑尺寸</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span> <span class=o>-=</span> <span class=mi>1</span>

        <span class=c1># 减少数组物理尺寸</span>
        <span class=c1># 当:</span>
        <span class=c1># - 数组的逻辑尺寸小于或等于其物理尺寸的1/4</span>
        <span class=c1># - 并且它的物理尺寸至少是这个数组建立时默认容量的2倍时</span>
        <span class=c1># 则把数组的物理尺寸减小到原来的一半，并且也不会小于其默认容量</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&lt;=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>//</span> <span class=mi>4</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>shrink</span><span class=p>()</span>

        <span class=c1># 返回被删除元素的值</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Item </span><span class=si>{</span><span class=n>itemToReturn</span><span class=si>}</span><span class=s1> was deleted&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>itemToReturn</span>
</code></pre></div> <h3 id=425>4.2.5.复杂度的权衡：时间、空间和数组<a class=headerlink href=#425 title="Permanent link"> ¶</a></h3> <p>下表列出了所有数组操作的运行时复杂度，包括在数组的逻辑结尾处插入和删除元素。</p> <ul> <li>数组提供了对已经存在的元素进行快速访问的功能，以及在逻辑结尾处快速插入和删除的功能。</li> <li>在任意位置处进行插入和删除操作的速度则会慢上一个数量级。</li> <li>调整数组的尺寸也需要线性时间，但是因为这个操作会把数组尺寸加倍或减半，所以可以最大限度地减少需要执行的次数。</li> <li>由于可能会调整数组的尺寸，因此插入和删除操作在使用内存的时候会有<code>O(n)</code>的复杂度，那么这就是最坏情况下的性能；而在平均情况下，这些操作的内存使用情况仍然为<code>O(1)</code>。</li> </ul> <table> <thead> <tr> <th>操作</th> <th>运行时复杂度</th> </tr> </thead> <tbody> <tr> <td>在位置i处访问</td> <td>O(1)，最好和最坏情况下</td> </tr> <tr> <td>在位置i处替换</td> <td>O(1)，最好和最坏情况下</td> </tr> <tr> <td>在逻辑结尾处插入</td> <td>O(1)，平均情况下</td> </tr> <tr> <td>在位置i处插入</td> <td>O(n)，平均情况下</td> </tr> <tr> <td>在位置i处删除</td> <td>O(n)，平均情况下</td> </tr> <tr> <td>增大容量</td> <td>O(n)，最好和最坏情况下</td> </tr> <tr> <td>减小容量</td> <td>O(n)，最好和最坏情况下</td> </tr> <tr> <td>在逻辑结尾处删除</td> <td>O(1)，平均情况下</td> </tr> </tbody> </table> <p>使用数组的时候，内存里唯一真正被浪费的是那些尚未填充满的数组单元。</p> <p>评估数组内存使用率的一个非常有用的概念是负载因子（load factor）。数组的负载因子等同于它所存储的元素数除以数组的容量。</p> <ul> <li>当数组已满的时候，负载因子就是1；</li> <li>当数组为空时，负载因子就是0；</li> <li>当内存单元的容量为10且占用了3个单元时，负载因子就是0.3；</li> <li>当数组的负载因子降到某个阈值（如0.25）以下时，可以通过调整数组尺寸将浪费的内存单元数保持在尽可能低的水平；</li> </ul> <h3 id=426>4.2.6.练习题<a class=headerlink href=#426 title="Permanent link"> ¶</a></h3> <p>1．请说明为什么插入或删除给定元素时必须要移动数组里的某些元素。</p> <p>解答：在 Python 中，列表（list）是基于数组实现的数据结构。所谓的“数组”，其本质上是一块连续的内存空间，由于其内存连续的特性，数组在进行插入或者删除一个元素时，为了保持内存的连续性，往往需要移动数组里的其它元素。</p> <p>当在数组的中间位置插入一个新的元素时，为了给新元素腾出空间，它后面的所有元素都需要向后移动一位。同样的，如果我们删除了数组的一个元素，为了避免在数组中出现一个空洞，被删除元素后面的所有元素都需要向前移动一位。</p> <p>然而，Python的 list 数据结构是动态的，也就是说，当插入或删除元素时，Python会自动分配或回收内存。当在 list 的末尾添加或移除元素时，不需要移动其他元素，因此操作效率较高；但是在 list 的中间或起始部分插入或删除元素时，就需要移动其它元素，相对而言，其操作效率就较低了。</p> <p>2．在插入过程中，移动数组元素时，要先移动哪个元素？先移动插入位置的元素，还是最后一个元素？为什么？</p> <p>解答：在 Python 中实现数组的插入过程时，应当先移动插入位置之后的最后一个元素。</p> <p>考虑以下的情况：值插入于数组的中间位置，你试图从插入位置开始，将每个元素后移一位。但是，当你把第一个元素移到第二个位置时，你会覆盖掉原有的第二个元素，由于你还没有保存或复制这个被覆盖的元素，它就会丢失。</p> <p>如果从最后一个元素开始，将每个元素向后移一位，那么每个元素都会被复制到它的下一位，然后才会被它前面的元素覆盖。这样就确保了每个元素都能正确地移动到它应该到达的位置，不会有任何元素丢失。 所以，在插入过程中，我们应该从最后一个元素开始，逐个将元素后移一位，直到将插入位置的元素也后移一位，然后在插入位置放入新的元素。</p> <p>3．如果插入位置是数组的逻辑末尾，请说明这个插入操作的运行时复杂度。</p> <p>解答：如果在数组（在 Python 中就是 list）的逻辑末尾插入元素，这种操作通常可以在常数时间内完成，也就是说，这种操作的时间复杂度是 O(1)。</p> <p>因为数组是连续的内存空间，位于末尾的插入操作不需要移动任何元素，仅仅涉及在末尾添加新元素，并可能涉及一些额外的内存分配（如果数组已满，需要分配更大的数组来容纳新的元素）。</p> <p>需要注意的是，内存分配和复制元素在实际操作中可能还是需要一些时间的，尤其是在数组已满时，需要重新分配并复制整个数组到新的内存地址。但是在理论分析时，我们通常忽略这种情况，因为它是一种被称为摊还（amortized）操作的特例，从长期的平均运行时间来看，这种插入操作的时间复杂度仍然是 O(1) 的。</p> <p>4．假设数组当前包含14个元素，它的负载因子为0.70，那么它的物理容量是多少？</p> <p>解答：负载因子通常是指一个哈希表中已存元素数量对应于其底层数组容量的比例。对于一般的数组和 Python 的 list，我们通常不会谈论负载因子，因为这些数据结构的大小直接对应于其中包含的元素数量。</p> <p>然而，如果你要计算一个负载因子为 0.70 的容器，并且它包含了14个元素，那么它的物理容量可以计算为：<code>元素数量 / 负载因子 = 容量</code></p> <p>在这种情况下，物理容量应该是 14 / 0.70 = 20。所以物理容量应该是 20。</p> <h2 id=43>4.3.二维数组（网格）<a class=headerlink href=#43 title="Permanent link"> ¶</a></h2> <ul> <li>一维数组（one-dimensional array）</li> <li>二维数组（two-dimensional array），或网格（grid）</li> </ul> <p>要访问grid里的元素，可以通过两个下标来指定其行和列的相应位置，并且这两个索引都是从0开始的。</p> <div class=highlight><pre><span></span><code><span class=n>x</span> <span class=o>=</span> <span class=n>grid</span><span class=p>[</span><span class=mi>2</span><span class=p>][</span><span class=mi>3</span><span class=p>]</span> <span class=c1># 将二维数组第二行第三列的值赋给变量x</span>
</code></pre></div> <h3 id=431>4.3.1.使用网格<a class=headerlink href=#431 title="Permanent link"> ¶</a></h3> <p>除了用双下标，网格还必须要有两个方法，用来返回行数和列数。我们把这两个方法分别命名为<code>getHeight</code>和<code>getWidth</code>。</p> <p>基于4.3.3中定义的Grid类，下面这段代码会实例化一个二维数组，并计算变量<code>my_grid</code>里所有数字的总和。外部循环会迭代5次并向下逐行移动，在每次进入外部循环的时候，内部循环都会迭代5次，从而在不同行的列之间移动。</p> <div class=highlight><pre><span></span><code><span class=n>my_grid</span> <span class=o>=</span> <span class=n>Grid</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>

<span class=nb>sum</span> <span class=o>=</span> <span class=mi>0</span>
<span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>my_grid</span><span class=o>.</span><span class=n>getHeight</span><span class=p>()):</span>            <span class=c1># Go through rows</span>
     <span class=k>for</span> <span class=n>column</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>my_grid</span><span class=o>.</span><span class=n>getWidth</span><span class=p>()):</span>     <span class=c1># Go through columns</span>
          <span class=nb>sum</span> <span class=o>+=</span><span class=n>my_grid</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span>
</code></pre></div> <h3 id=432>4.3.2.创建并初始化网格<a class=headerlink href=#432 title="Permanent link"> ¶</a></h3> <p>基于4.3.3中定义的Grid类，下面代码实例化了一个二维数组，遍历该数组的每个元素并赋值。</p> <div class=highlight><pre><span></span><code><span class=n>my_grid</span> <span class=o>=</span> <span class=n>Grid</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>my_grid</span><span class=p>)</span>

<span class=c1># 行遍历</span>
<span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>my_grid</span><span class=o>.</span><span class=n>getHeight</span><span class=p>()):</span>
     <span class=c1># 列遍历</span>
     <span class=k>for</span> <span class=n>column</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>my_grid</span><span class=o>.</span><span class=n>getWidth</span><span class=p>()):</span>
          <span class=n>my_grid</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>row</span><span class=p>)</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>column</span><span class=p>))</span>
</code></pre></div> <h3 id=433grid>4.3.3.定义Grid类<a class=headerlink href=#433grid title="Permanent link"> ¶</a></h3> <p>下面实现了一个<code>Grid</code>对象，包含3个参数（高度、宽度以及初始的填充值）的<code>Grid</code>构造函数。</p> <ul> <li>高度，即行数；宽度，即列数；</li> <li>实例化了一个5行5列的二维数组；</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Array</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;描述一个数组。&quot;&quot;&quot;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>capacity</span><span class=p>,</span> <span class=n>fillValue</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Capacity是数组的大小.  fillValue会填充在每个元素位置, 默认值是None&quot;&quot;&quot;</span>
        <span class=c1># 初始化数组的逻辑尺寸和物理尺寸</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span> <span class=o>=</span> <span class=n>capacity</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span> <span class=o>=</span> <span class=n>fillValue</span>
        <span class=c1>#初始化内部数组，并填充元素值</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span> <span class=o>=</span> <span class=nb>list</span><span class=p>()</span>
        <span class=k>for</span> <span class=n>count</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>capacity</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>fillValue</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span> <span class=o>+=</span> <span class=mi>1</span>  <span class=c1># 初始化数组物理大小时，也同时初始化其逻辑大小</span>

    <span class=k>def</span> <span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回数组的大小&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;将数组字符串化并返回&quot;&quot;&quot;</span>
        <span class=n>result</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
        <span class=k>for</span> <span class=n>index</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()):</span>
            <span class=n>result</span> <span class=o>+=</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>])</span> <span class=o>+</span> <span class=s2>&quot; &quot;</span>
        <span class=k>return</span> <span class=n>result</span>

    <span class=k>def</span> <span class=nf>size</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回数组的逻辑尺寸&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span>

    <span class=k>def</span> <span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;支持for循环对数组进行遍历.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;__iter__ called&quot;</span><span class=p>)</span>  <span class=c1># 仅用来测试何时__iter__会被调用</span>
        <span class=k>return</span> <span class=nb>iter</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=k>def</span> <span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        用于访问索引处的下标运算符.</span>
<span class=sd>        先决条件: 0 &lt;= index &lt; size()</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>index</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>index</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=k>raise</span> <span class=ne>IndexError</span><span class=p>(</span><span class=s2>&quot;读取操作出错, 数组索引越界(不在数组逻辑边界范围内)&quot;</span><span class=p>)</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>

    <span class=k>def</span> <span class=fm>__setitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>newItem</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        下标运算符用于在索引处进行替换.</span>
<span class=sd>        先决条件: 0 &lt;= index &lt; size()</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>index</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>index</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=k>raise</span> <span class=ne>IndexError</span><span class=p>(</span><span class=s2>&quot;更新操作出错, 数组索引越界(不在数组逻辑边界范围内)&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>=</span> <span class=n>newItem</span>

    <span class=k>def</span> <span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        两个数组相等则返回True, 否则返回False</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># 判断两个数组是否是同一个对象，注意，不是它们的值是否相等</span>
        <span class=k>if</span> <span class=bp>self</span> <span class=ow>is</span> <span class=n>other</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>True</span>
        <span class=c1># 判断两个对象类型是否一样</span>
        <span class=k>if</span> <span class=nb>type</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>type</span><span class=p>(</span><span class=n>other</span><span class=p>):</span>
            <span class=k>return</span> <span class=kc>False</span>
        <span class=c1># 判断两个数组大小是否一样</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>!=</span> <span class=n>other</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=k>return</span> <span class=kc>False</span>
        <span class=c1># 比较两个数组的值是否一样</span>
        <span class=k>for</span> <span class=n>index</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()):</span>
            <span class=k>if</span> <span class=bp>self</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>!=</span> <span class=n>other</span><span class=p>[</span><span class=n>index</span><span class=p>]:</span>
                <span class=k>return</span> <span class=kc>False</span>
        <span class=k>return</span> <span class=kc>True</span>

    <span class=k>def</span> <span class=nf>grow</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;增大数组物理尺寸&quot;&quot;&quot;</span>
        <span class=c1># 基于当前物理尺寸加倍，并将fillValue赋值底层列表的新元素</span>
        <span class=k>for</span> <span class=n>count</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>insert</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>newItem</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;在数组指定索引处插入新元素&quot;&quot;&quot;</span>
        <span class=c1># 当数组的物理尺寸和逻辑尺寸一样时，则增加物理尺寸</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>grow</span><span class=p>()</span>
        <span class=c1># 插入新元素</span>
        <span class=c1># 当插入位置大于或等于最大逻辑位置，则在数组末端插入新元素</span>
        <span class=c1># 当插入位置介于数组逻辑位置的中间，则从插入位置起将剩余数组元素向尾部平移一个位置</span>
        <span class=k>if</span> <span class=n>index</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()]</span> <span class=o>=</span> <span class=n>newItem</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>index</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

            <span class=c1># 将数组元素向尾部平移一个位置</span>
            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>(),</span> <span class=n>index</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>):</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>

            <span class=c1># 插入新元素</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>=</span> <span class=n>newItem</span>

        <span class=c1># 增加数组的逻辑尺寸</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span> <span class=o>+=</span> <span class=mi>1</span>

    <span class=k>def</span> <span class=nf>shrink</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        减少数组的物理尺寸</span>
<span class=sd>        当:</span>
<span class=sd>        - 数组的逻辑尺寸小于或等于其物理尺寸的1/4</span>
<span class=sd>        - 并且它的物理尺寸至少是这个数组建立时默认容量的2倍时</span>
<span class=sd>        则把数组的物理尺寸减小到原来的一半，并且也不会小于其默认容量</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># 在逻辑尺寸和物理尺寸的一半之间选择最大值作为数组收缩后的物理尺寸</span>
        <span class=n>newSize</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>capacity</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>//</span> <span class=mi>2</span><span class=p>)</span>
        <span class=c1># 释放多余的数组空间</span>
        <span class=k>for</span> <span class=n>count</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-</span> <span class=n>newSize</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>

    <span class=k>def</span> <span class=nf>pop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        删除指定索引值的数组元素,并返回删除的数组元素值</span>
<span class=sd>        先决条件: 0 &lt;= index &lt; size()</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>index</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>index</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>():</span>
            <span class=k>raise</span> <span class=ne>IndexError</span><span class=p>(</span><span class=s2>&quot;删除操作出错, 数组索引越界(不在数组逻辑边界范围内)&quot;</span><span class=p>)</span>

        <span class=c1># 保存即将被删除的数组元素值</span>
        <span class=n>itemToReturn</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>

        <span class=c1># 将数组元素向头部平移一个位置</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span>

        <span class=c1># 将数组尾部的空余位赋值fillValue，默认是None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span>

        <span class=c1># 减少数组逻辑尺寸</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logicalSize</span> <span class=o>-=</span> <span class=mi>1</span>

        <span class=c1># 减少数组物理尺寸</span>
        <span class=c1># 当:</span>
        <span class=c1># - 数组的逻辑尺寸小于或等于其物理尺寸的1/4</span>
        <span class=c1># - 并且它的物理尺寸至少是这个数组建立时默认容量的2倍时</span>
        <span class=c1># 则把数组的物理尺寸减小到原来的一半，并且也不会小于其默认容量</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&lt;=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>//</span> <span class=mi>4</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>shrink</span><span class=p>()</span>

        <span class=c1># 返回被删除元素的值</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Item </span><span class=si>{</span><span class=n>itemToReturn</span><span class=si>}</span><span class=s1> was deleted&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>itemToReturn</span>


<span class=k>class</span> <span class=nc>Grid</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;描述一个二维数组。&quot;&quot;&quot;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>rows</span><span class=p>,</span> <span class=n>columns</span><span class=p>,</span> <span class=n>fillValue</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>rows</span> <span class=o>=</span> <span class=n>rows</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>columns</span> <span class=o>=</span> <span class=n>columns</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span> <span class=o>=</span> <span class=n>fillValue</span>
        <span class=c1># 按行数初始化数组y轴物理尺寸</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=n>rows</span><span class=p>,</span> <span class=n>fillValue</span><span class=p>)</span>
        <span class=c1># 按列数初始化数组x轴物理尺寸，并赋值到y轴数组，填充None值</span>
        <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>rows</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>row</span><span class=p>]</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=n>columns</span><span class=p>,</span> <span class=n>fillValue</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>getHeight</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回二维数组的y轴的大小(物理尺寸), 即数组的行数&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>getWidth</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回二维数组的x轴的大小(物理尺寸), 即数组的列数&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>

    <span class=k>def</span> <span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回二维数组指定行和列索引对应的元素值&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>

    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回二维数组的字符串形式&quot;&quot;&quot;</span>
        <span class=n>result</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
        <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>getHeight</span><span class=p>()):</span>
            <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>getWidth</span><span class=p>()):</span>
                <span class=n>result</span> <span class=o>+=</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>])</span> <span class=o>+</span> <span class=s2>&quot; &quot;</span>
            <span class=n>result</span> <span class=o>+=</span> <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span>
        <span class=k>return</span> <span class=n>result</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>my_grid</span> <span class=o>=</span> <span class=n>Grid</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>my_grid</span><span class=p>)</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>

<span class=c1># 运行结果</span>
<span class=c1># 1 1 1 1 1 </span>
<span class=c1># 1 1 1 1 1 </span>
<span class=c1># 1 1 1 1 1 </span>
<span class=c1># 1 1 1 1 1 </span>
<span class=c1># 1 1 1 1 1 </span>
</code></pre></div> <h3 id=434>4.3.4.参差不齐的网格和多维数组<a class=headerlink href=#434 title="Permanent link"> ¶</a></h3> <p>到目前为止，我们所讨论的网格都是二维并且是矩形的。我们也可以把网格创建成参差不齐的样子，也可以创建高于两个维度的网格。</p> <p>参差不齐的网格有固定的行数，但是每一行里的数据列数各有不同。列表数组或数组是可以实现这种网格的合适结构。</p> <p>比如，可以创建一个三维数组的时候需要指定它的深度、高度以及宽度。因此可以给数组类型添加一个叫作<code>getDepth</code>的方法，从而像<code>getWidth</code>和<code>getHeight</code>方法一样再得到这个维度的相关数据。在这个实现里，每个元素都可以通过3个作为索引的整数进行访问，也可以通过有3层循环的控制语句结构来使用它。</p> <h3 id=435>4.3.5.练习题<a class=headerlink href=#435 title="Permanent link"> ¶</a></h3> <p>1．什么是二维数组（网格）？</p> <p>解答：二维数组，有时被称为网格，是一个数据结构，它允许我们将数据以表格形式组织起来，即数据在两个维度上进行组织。可以把二维数组看作是一个数组的数组。例如，在 Python 中，一个二维数组可以是一个列表的列表。</p> <p>在二维数组中，每个元素都由两个索引确定，通常称为行索引和列索引。可以这样理解：首先选定一个行，然后再在该行中选择一个元素。用任何一种编程语言创建和操作二维数组的具体语法都不尽相同，但是原理是一样的。</p> <p>在 Python 中，创建二维数组的例子如下：</p> <div class=highlight><pre><span></span><code><span class=c1># 创建一个 3x3 的二维数组</span>
<span class=n>grid</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>]]</span>

<span class=c1># 访问二维数组中特定的元素</span>
<span class=nb>print</span><span class=p>(</span><span class=n>grid</span><span class=p>[</span><span class=mi>1</span><span class=p>][</span><span class=mi>2</span><span class=p>])</span>  <span class=c1># 输出：6</span>
</code></pre></div> <p>2．请描述一个可能会用到二维数组的应用程序。</p> <p>解答：二维数组在各种类型的应用程序中都被广泛使用。一个常见的例子是在处理图像或像素的应用中。</p> <p>图像可以被看作一个二维数组（或者在彩色图像中，是一个三维数组，三个通道分别是红、绿、蓝），其中每个元素表示一个像素。二维数组中的行和列对应于图像的宽度和高度，元素值通常代表像素的颜色深度。</p> <p>例如，以下 Python 代码创建了一个简单的灰度图像，并使用 matplotlib 库显示它：</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>

<span class=c1># 创建一个 10x10 的二维数组，每个元素值为 0-255 之间的随机整数</span>
<span class=n>image</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>256</span><span class=p>,</span> <span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span>

<span class=c1># 显示这个图像</span>
<span class=n>plt</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>cmap</span><span class=o>=</span><span class=s1>&#39;gray&#39;</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></div> <p>在这个例子中，我们使用了 NumPy 库来创建和操作二维数组（在 NumPy 中，这种结构被称为 ndarray）。这是处理大规模数值数据的一个非常好的工具，尤其是对于涉及到科学计算和数据分析的应用程序。 此外，二维数组也广泛应用于游戏开发（如棋盘游戏，如国际象棋或井字游戏的棋盘可以用二维数组来表示）、物理模拟、系统动力学模仿、地理信息系统（地图可以表示为二维数组的高程数据）等许多领域。</p> <p>3．编写一个程序，使之可以在Grid对象里搜索一个负整数。循环应该在遇到网格里的第一个负整数的地方终止，这时变量row和column应该被设置为这个负数的位置。如果在网格里找不到负数，那么变量row和column应该等于网格的行数和列数。</p> <p>解答：在Grid类中添加下面的方法，可以实现提名中的要求</p> <div class=highlight><pre><span></span><code>    <span class=k>def</span> <span class=nf>find_negative</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回第一个负整数的索引值&quot;&quot;&quot;</span>
        <span class=n>target_row</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>target_col</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>getHeight</span><span class=p>()):</span>
            <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>getWidth</span><span class=p>()):</span>
                <span class=c1># 如果当前元素是负数</span>
                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
                <span class=c1># 更新 row 和 column 为该元素的位置</span>
                    <span class=n>target_row</span> <span class=o>=</span> <span class=n>row</span>
                    <span class=n>target_col</span> <span class=o>=</span> <span class=n>col</span>
                    <span class=c1># 终止循环</span>
                    <span class=k>break</span>
            <span class=c1># 如果已找到负数，终止外层循环</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
                <span class=k>break</span>
        <span class=c1># 返回负数的位置，或者如果没有找到负数，返回行数和列数</span>
        <span class=k>return</span> <span class=n>row</span><span class=p>,</span> <span class=n>col</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>random</span>

<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>

    <span class=n>my_grid</span> <span class=o>=</span> <span class=n>Grid</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=o>-</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>my_grid</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>my_grid</span><span class=o>.</span><span class=n>find_negative</span><span class=p>())</span>
</code></pre></div> <p>4．说说运行下面这段代码后网格里的内容是什么。</p> <div class=highlight><pre><span></span><code><span class=n>matrix</span> <span class=o>=</span> <span class=n>Grid</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>matrix</span><span class=o>.</span><span class=n>getHeight</span><span class=p>()):</span>
     <span class=k>for</span> <span class=n>column</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>matrix</span><span class=o>.</span><span class=n>getWidth</span><span class=p>()):</span>
         <span class=n>matrix</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=n>row</span> <span class=o>*</span> <span class=n>column</span>
</code></pre></div> <p>解答：这段代码首先创建了一个3x3的网格（或二维数组），然后使用两个嵌套的for循环来遍历这个网格的每一个元素。对于网格中的每一个元素，它的值被设置为其行索引乘以列索引。由于第一行和第一列的索引都是0，所以第一行和第一列的元素值都是0（因为任何数乘以0都等于0）。其它元素的值等于它们的行索引乘以列索引。</p> <div class=highlight><pre><span></span><code><span class=mi>0</span> <span class=mi>0</span> <span class=mi>0</span>
<span class=mi>0</span> <span class=mi>1</span> <span class=mi>2</span>
<span class=mi>0</span> <span class=mi>2</span> <span class=mi>4</span>
</code></pre></div> <p>5．编写一段代码以创建一个参差不齐的网格，它的行分别用来存储3个、6个和9个元素。</p> <p>解答：使用列表的列表（即列表的嵌套）来创建参差不齐的网格。下面是Python实现代码：</p> <div class=highlight><pre><span></span><code><span class=c1># 创建空网格</span>
<span class=n>grid</span> <span class=o>=</span> <span class=p>[]</span>

<span class=c1># 为网格添加行</span>
<span class=n>grid</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=s2>&quot;&quot;</span><span class=p>]</span> <span class=o>*</span> <span class=mi>3</span><span class=p>)</span>    <span class=c1># 第一行3个元素</span>
<span class=n>grid</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=s2>&quot;&quot;</span><span class=p>]</span> <span class=o>*</span> <span class=mi>6</span><span class=p>)</span>    <span class=c1># 第二行6个元素</span>
<span class=n>grid</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=s2>&quot;&quot;</span><span class=p>]</span> <span class=o>*</span> <span class=mi>9</span><span class=p>)</span>    <span class=c1># 第三行9个元素</span>

<span class=c1># 打印网格</span>
<span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>grid</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>row</span><span class=p>)</span>
</code></pre></div> <p>上面代码创建一个具有三行的网格，其中第一行有三个元素，第二行有六个元素，第三行有九个元素。每个元素最初都被设置为一个空字符串，这个网格的形状将类似于：</p> <div class=highlight><pre><span></span><code><span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>]</span>
<span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>]</span>
<span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>]</span>
</code></pre></div> <p>6．提供一个把Grid类用作数据结构来实现三维array类的策略。</p> <p>解答：代码实现如下：</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>ThreeDArray</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;描述一个三维数组。&quot;&quot;&quot;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>rows</span><span class=p>,</span> <span class=n>columns</span><span class=p>,</span> <span class=n>fillValue</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>depth</span> <span class=o>=</span> <span class=n>depth</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>rows</span> <span class=o>=</span> <span class=n>rows</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>columns</span> <span class=o>=</span> <span class=n>columns</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span> <span class=o>=</span> <span class=n>fillValue</span>
        <span class=c1># 初始化三维数组，按照深度初始化每一层为一个二维数组</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=n>depth</span><span class=p>,</span> <span class=n>fillValue</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>depth</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>d</span><span class=p>]</span> <span class=o>=</span> <span class=n>Grid</span><span class=p>(</span><span class=n>rows</span><span class=p>,</span> <span class=n>columns</span><span class=p>,</span> <span class=n>fillValue</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>getDepth</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回三维数组的z轴大小, 即数组的深度&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>get_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;获取指定深度、行和列的元素&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span>

    <span class=k>def</span> <span class=nf>set_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>,</span> <span class=n>new_value</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;设置指定深度、行和列的元素&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_value</span>

    <span class=k>def</span> <span class=nf>add_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;在指定深度、行和列添加元素 &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&quot;元素添加失败&quot;</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>remove_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;在指定深度、行和列删除元素 &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&quot;元素删除失败&quot;</span><span class=p>)</span>

    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>result</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
        <span class=k>for</span> <span class=n>depth</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>getDepth</span><span class=p>()):</span>
            <span class=n>result</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;Depth </span><span class=si>{</span><span class=n>depth</span><span class=si>}</span><span class=s2>:</span><span class=se>\n</span><span class=s2>&quot;</span>
            <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>rows</span><span class=p>):</span>
                <span class=k>for</span> <span class=n>column</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>columns</span><span class=p>):</span>
                    <span class=n>result</span> <span class=o>+=</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>])</span> <span class=o>+</span> <span class=s2>&quot;</span><span class=se>\t</span><span class=s2>&quot;</span>
                <span class=n>result</span> <span class=o>+=</span> <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span>
        <span class=k>return</span> <span class=n>result</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;---Initial 3D Array---&quot;</span><span class=p>)</span>
    <span class=n>my_3d</span> <span class=o>=</span> <span class=n>ThreeDArray</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>9</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>my_3d</span><span class=p>)</span>

    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;---Add element into 3D Array---&quot;</span><span class=p>)</span>
    <span class=n>my_3d</span><span class=o>.</span><span class=n>add_element</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
    <span class=n>my_3d</span><span class=o>.</span><span class=n>add_element</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
    <span class=n>my_3d</span><span class=o>.</span><span class=n>add_element</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>my_3d</span><span class=p>)</span>

    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;---Remove element from 3D Array---&quot;</span><span class=p>)</span>
    <span class=n>my_3d</span><span class=o>.</span><span class=n>remove_element</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>my_3d</span><span class=p>)</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>

<span class=c1># 运行结果</span>
<span class=c1># ---Initial 3D Array---</span>
<span class=c1># Depth 0:</span>
<span class=c1># 9       9</span>
<span class=c1># 9       9</span>
<span class=c1># Depth 1:</span>
<span class=c1># 9       9</span>
<span class=c1># 9       9</span>
<span class=c1># Depth 2:</span>
<span class=c1># 9       9</span>
<span class=c1># 9       9</span>

<span class=c1># ---Add element into 3D Array---</span>
<span class=c1># Depth 0:</span>
<span class=c1># 9       9</span>
<span class=c1># 9       0</span>
<span class=c1># Depth 1:</span>
<span class=c1># 9       9</span>
<span class=c1># 9       1</span>
<span class=c1># Depth 2:</span>
<span class=c1># 9       9</span>
<span class=c1># 9       2</span>

<span class=c1># ---Remove element from 3D Array---</span>
<span class=c1># Depth 0:</span>
<span class=c1># 9       9</span>
<span class=c1># 9       0</span>
<span class=c1># Depth 1:</span>
<span class=c1># 9       9</span>
<span class=c1># 9       9</span>
<span class=c1># Depth 2:</span>
<span class=c1># 9       9</span>
<span class=c1># 9       2</span>
</code></pre></div> <p>7．编写一段代码：这段代码会把三维数组里每个单元的值都初始化为它的3个索引位置。例如，如果位置是（深度、行、列），则对于位置（2、3、3）来说，它的值就是233。</p> <p>解答：修改上面的代码中的<code>__init__</code>和<code>__str__</code>方法，代码实现如下。</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>ThreeDArray</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;描述一个三维数组。&quot;&quot;&quot;</span>

    <span class=c1># def __init__(self, depth, rows, columns, fillValue=None):</span>
    <span class=c1>#     self.depth = depth</span>
    <span class=c1>#     self.rows = rows</span>
    <span class=c1>#     self.columns = columns</span>
    <span class=c1>#     self.fillValue = fillValue</span>
    <span class=c1>#     # 初始化三维数组，按照深度初始化每一层为一个二维数组</span>
    <span class=c1>#     self.data = Array(depth, fillValue)</span>
    <span class=c1>#     for d in range(depth):</span>
    <span class=c1>#         self.data[d] = Grid(rows, columns, fillValue)</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>rows</span><span class=p>,</span> <span class=n>columns</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>depth</span> <span class=o>=</span> <span class=n>depth</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>rows</span> <span class=o>=</span> <span class=n>rows</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>columns</span> <span class=o>=</span> <span class=n>columns</span>
        <span class=c1># 初始化三维数组，按照深度初始化每一层为一个二维数组</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=n>depth</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>depth</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>d</span><span class=p>]</span> <span class=o>=</span> <span class=n>Grid</span><span class=p>(</span><span class=n>rows</span><span class=p>,</span> <span class=n>columns</span><span class=p>)</span>
            <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>rows</span><span class=p>):</span>
                <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>columns</span><span class=p>):</span>
                    <span class=c1># 将每个位置的索引拼接成字符串作为元素值</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>d</span><span class=p>][</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>d</span><span class=p>)</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>r</span><span class=p>)</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>getDepth</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回三维数组的z轴大小, 即数组的深度&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>get_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;获取指定深度、行和列的元素&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span>

    <span class=k>def</span> <span class=nf>set_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>,</span> <span class=n>new_value</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;设置指定深度、行和列的元素&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_value</span>

    <span class=k>def</span> <span class=nf>add_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;在指定深度、行和列添加元素 &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&quot;元素添加失败&quot;</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>remove_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;在指定深度、行和列删除元素 &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&quot;元素删除失败&quot;</span><span class=p>)</span>

    <span class=c1># def __str__(self):</span>
    <span class=c1>#     result = &quot;&quot;</span>
    <span class=c1>#     for depth in range(self.getDepth()):</span>
    <span class=c1>#         result += f&quot;Depth {depth}:\n&quot;</span>
    <span class=c1>#         for row in range(self.rows):</span>
    <span class=c1>#             for column in range(self.columns):</span>
    <span class=c1>#                 result += str(self.data[depth][row][column]) + &quot;\t&quot;</span>
    <span class=c1>#             result += &quot;\n&quot;</span>
    <span class=c1>#     return result</span>

    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>result</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
        <span class=k>for</span> <span class=n>depth</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>getDepth</span><span class=p>()):</span>
            <span class=n>result</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;Depth </span><span class=si>{</span><span class=n>depth</span><span class=si>}</span><span class=s2>:</span><span class=se>\n</span><span class=s2>&quot;</span>
            <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>rows</span><span class=p>):</span>
                <span class=k>for</span> <span class=n>column</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>columns</span><span class=p>):</span>
                    <span class=n>result</span> <span class=o>+=</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>])</span> <span class=o>+</span> <span class=s2>&quot;</span><span class=se>\t</span><span class=s2>&quot;</span>
                <span class=n>result</span> <span class=o>+=</span> <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span>
        <span class=k>return</span> <span class=n>result</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>my_3d</span> <span class=o>=</span> <span class=n>ThreeDArray</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>my_3d</span><span class=p>)</span>  <span class=c1># 打印初始状态</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>

<span class=c1># 运行结果</span>
<span class=c1># Depth 0:</span>
<span class=c1># 000     001     002     003</span>
<span class=c1># 010     011     012     013</span>
<span class=c1># 020     021     022     023</span>
<span class=c1># 030     031     032     033</span>
<span class=c1># Depth 1:</span>
<span class=c1># 100     101     102     103</span>
<span class=c1># 110     111     112     113</span>
<span class=c1># 120     121     122     123</span>
<span class=c1># 130     131     132     133</span>
<span class=c1># Depth 2:</span>
<span class=c1># 200     201     202     203</span>
<span class=c1># 210     211     212     213</span>
<span class=c1># 220     221     222     223</span>
<span class=c1># 230     231     232     233</span>
</code></pre></div> <p>8．编写一段代码：这段代码可以显示出三维数组里的所有元素。打印出的每一行数据都应该代表给定行和列里的所有元素，而深度将从第一个位置向后递归到最后一个位置。遍历应该从第1行、第1列以及第一个深度位置开始，依次遍历所有的深度、列和行。</p> <p>解答：添加了一个方法<code>printAllElements</code>，代码实现如下：</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>ThreeDArray</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;描述一个三维数组。&quot;&quot;&quot;</span>

    <span class=c1># def __init__(self, depth, rows, columns, fillValue=None):</span>
    <span class=c1>#     self.depth = depth</span>
    <span class=c1>#     self.rows = rows</span>
    <span class=c1>#     self.columns = columns</span>
    <span class=c1>#     self.fillValue = fillValue</span>
    <span class=c1>#     # 初始化三维数组，按照深度初始化每一层为一个二维数组</span>
    <span class=c1>#     self.data = Array(depth, fillValue)</span>
    <span class=c1>#     for d in range(depth):</span>
    <span class=c1>#         self.data[d] = Grid(rows, columns, fillValue)</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>rows</span><span class=p>,</span> <span class=n>columns</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>depth</span> <span class=o>=</span> <span class=n>depth</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>rows</span> <span class=o>=</span> <span class=n>rows</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>columns</span> <span class=o>=</span> <span class=n>columns</span>
        <span class=c1># 初始化三维数组，按照深度初始化每一层为一个二维数组</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>Array</span><span class=p>(</span><span class=n>depth</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>depth</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>d</span><span class=p>]</span> <span class=o>=</span> <span class=n>Grid</span><span class=p>(</span><span class=n>rows</span><span class=p>,</span> <span class=n>columns</span><span class=p>)</span>
            <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>rows</span><span class=p>):</span>
                <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>columns</span><span class=p>):</span>
                    <span class=c1># 将每个位置的索引拼接成字符串作为元素值</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>d</span><span class=p>][</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>d</span><span class=p>)</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>r</span><span class=p>)</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>getDepth</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;返回三维数组的z轴大小, 即数组的深度&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>get_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;获取指定深度、行和列的元素&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span>

    <span class=k>def</span> <span class=nf>set_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>,</span> <span class=n>new_value</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;设置指定深度、行和列的元素&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_value</span>

    <span class=k>def</span> <span class=nf>add_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;在指定深度、行和列添加元素 &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&quot;元素添加失败&quot;</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>remove_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>depth</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>column</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;在指定深度、行和列删除元素 &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>fillValue</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&quot;元素删除失败&quot;</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>printAllElements</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;打印三维数组中的所有元素。&quot;&quot;&quot;</span>
        <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>rows</span><span class=p>):</span>
            <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>columns</span><span class=p>):</span>
                <span class=k>for</span> <span class=n>depth</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>depth</span><span class=p>):</span>
                    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Element at position (</span><span class=si>{</span><span class=n>row</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>col</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>depth</span><span class=si>}</span><span class=s2>): </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=c1># def __str__(self):</span>
    <span class=c1>#     result = &quot;&quot;</span>
    <span class=c1>#     for depth in range(self.getDepth()):</span>
    <span class=c1>#         result += f&quot;Depth {depth}:\n&quot;</span>
    <span class=c1>#         for row in range(self.rows):</span>
    <span class=c1>#             for column in range(self.columns):</span>
    <span class=c1>#                 result += str(self.data[depth][row][column]) + &quot;\t&quot;</span>
    <span class=c1>#             result += &quot;\n&quot;</span>
    <span class=c1>#     return result</span>

    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>result</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
        <span class=k>for</span> <span class=n>depth</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>getDepth</span><span class=p>()):</span>
            <span class=n>result</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;Depth </span><span class=si>{</span><span class=n>depth</span><span class=si>}</span><span class=s2>:</span><span class=se>\n</span><span class=s2>&quot;</span>
            <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>rows</span><span class=p>):</span>
                <span class=k>for</span> <span class=n>column</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>columns</span><span class=p>):</span>
                    <span class=n>result</span> <span class=o>+=</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>depth</span><span class=p>][</span><span class=n>row</span><span class=p>][</span><span class=n>column</span><span class=p>])</span> <span class=o>+</span> <span class=s2>&quot;</span><span class=se>\t</span><span class=s2>&quot;</span>
                <span class=n>result</span> <span class=o>+=</span> <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span>
        <span class=k>return</span> <span class=n>result</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>my_3d</span> <span class=o>=</span> <span class=n>ThreeDArray</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>my_3d</span><span class=p>)</span>  <span class=c1># 打印初始状态</span>
    <span class=n>my_3d</span><span class=o>.</span><span class=n>printAllElements</span><span class=p>()</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>

<span class=c1># 运行结果</span>
<span class=c1># Depth 0:</span>
<span class=c1># 000     001     002     003</span>
<span class=c1># 010     011     012     013</span>
<span class=c1># 020     021     022     023</span>
<span class=c1># 030     031     032     033</span>
<span class=c1># Depth 1:</span>
<span class=c1># 100     101     102     103</span>
<span class=c1># 110     111     112     113</span>
<span class=c1># 120     121     122     123</span>
<span class=c1># 130     131     132     133</span>
<span class=c1># Depth 2:</span>
<span class=c1># 200     201     202     203</span>
<span class=c1># 210     211     212     213</span>
<span class=c1># 220     221     222     223</span>
<span class=c1># 230     231     232     233</span>

<span class=c1># Element at position (0, 0, 0): 000</span>
<span class=c1># Element at position (0, 0, 1): 100</span>
<span class=c1># Element at position (0, 0, 2): 200</span>
<span class=c1># Element at position (0, 1, 0): 001</span>
<span class=c1># Element at position (0, 1, 1): 101</span>
<span class=c1># Element at position (0, 1, 2): 201</span>
<span class=c1># Element at position (0, 2, 0): 002</span>
<span class=c1># Element at position (0, 2, 1): 102</span>
<span class=c1># Element at position (0, 2, 2): 202</span>
<span class=c1># Element at position (0, 3, 0): 003</span>
<span class=c1># Element at position (0, 3, 1): 103</span>
<span class=c1># Element at position (0, 3, 2): 203</span>
<span class=c1># Element at position (1, 0, 0): 010</span>
<span class=c1># Element at position (1, 0, 1): 110</span>
<span class=c1># Element at position (1, 0, 2): 210</span>
<span class=c1># Element at position (1, 1, 0): 011</span>
<span class=c1># Element at position (1, 1, 1): 111</span>
<span class=c1># Element at position (1, 1, 2): 211</span>
<span class=c1># Element at position (1, 2, 0): 012</span>
<span class=c1># Element at position (1, 2, 1): 112</span>
<span class=c1># Element at position (1, 2, 2): 212</span>
<span class=c1># Element at position (1, 3, 0): 013</span>
<span class=c1># Element at position (1, 3, 1): 113</span>
<span class=c1># Element at position (1, 3, 2): 213</span>
<span class=c1># Element at position (2, 0, 0): 020</span>
<span class=c1># Element at position (2, 0, 1): 120</span>
<span class=c1># Element at position (2, 0, 2): 220</span>
<span class=c1># Element at position (2, 1, 0): 021</span>
<span class=c1># Element at position (2, 1, 1): 121</span>
<span class=c1># Element at position (2, 1, 2): 221</span>
<span class=c1># Element at position (2, 2, 0): 022</span>
<span class=c1># Element at position (2, 2, 1): 122</span>
<span class=c1># Element at position (2, 2, 2): 222</span>
<span class=c1># Element at position (2, 3, 0): 023</span>
<span class=c1># Element at position (2, 3, 1): 123</span>
<span class=c1># Element at position (2, 3, 2): 223</span>
<span class=c1># Element at position (3, 0, 0): 030</span>
<span class=c1># Element at position (3, 0, 1): 130</span>
<span class=c1># Element at position (3, 0, 2): 230</span>
<span class=c1># Element at position (3, 1, 0): 031</span>
<span class=c1># Element at position (3, 1, 1): 131</span>
<span class=c1># Element at position (3, 1, 2): 231</span>
<span class=c1># Element at position (3, 2, 0): 032</span>
<span class=c1># Element at position (3, 2, 1): 132</span>
<span class=c1># Element at position (3, 2, 2): 232</span>
<span class=c1># Element at position (3, 3, 0): 033</span>
<span class=c1># Element at position (3, 3, 1): 133</span>
<span class=c1># Element at position (3, 3, 2): 233</span>
</code></pre></div> <h2 id=44>4.4.链接结构<a class=headerlink href=#44 title="Permanent link"> ¶</a></h2> <h3 id=441>4.4.1.单向链接结构和双向链接结构<a class=headerlink href=#441 title="Permanent link"> ¶</a></h3> <h3 id=442>4.4.2.非连续内存和节点<a class=headerlink href=#442 title="Permanent link"> ¶</a></h3> <h3 id=443>4.4.3.定义单向链接节点类<a class=headerlink href=#443 title="Permanent link"> ¶</a></h3> <h3 id=444>4.4.4.使用单向链接节点类<a class=headerlink href=#444 title="Permanent link"> ¶</a></h3> <h3 id=445>4.4.5.练习题<a class=headerlink href=#445 title="Permanent link"> ¶</a></h3> <p>1．用框和指针绘制测试程序里第一个循环所创建的节点的示意图。</p> <p>2．当节点变量引用的是None时，如果程序员尝试访问节点的数据字段，则会发生什么？如何防止这种情况的发生？</p> <p>3．编写一段代码：这段代码会把一个被填满的数组里的元素都转移为单向链接结构里的数据。这个操作应保留元素的顺序不变。</p> <h2 id=45>4.5.单向链接结构上的操作<a class=headerlink href=#45 title="Permanent link"> ¶</a></h2> <h3 id=451>4.5.1.遍历<a class=headerlink href=#451 title="Permanent link"> ¶</a></h3> <h3 id=452>4.5.2.搜索<a class=headerlink href=#452 title="Permanent link"> ¶</a></h3> <h3 id=453>4.5.3.替换<a class=headerlink href=#453 title="Permanent link"> ¶</a></h3> <h3 id=454>4.5.4.在开始处插入<a class=headerlink href=#454 title="Permanent link"> ¶</a></h3> <h3 id=455>4.5.5.在结尾处插入<a class=headerlink href=#455 title="Permanent link"> ¶</a></h3> <h3 id=456>4.5.6.在开始处删除<a class=headerlink href=#456 title="Permanent link"> ¶</a></h3> <h3 id=457>4.5.7.在结尾处删除<a class=headerlink href=#457 title="Permanent link"> ¶</a></h3> <h3 id=458>4.5.8.在任意位置处插入<a class=headerlink href=#458 title="Permanent link"> ¶</a></h3> <h3 id=459>4.5.9.在任意位置处删除<a class=headerlink href=#459 title="Permanent link"> ¶</a></h3> <h3 id=4510>4.5.10.复杂度的权衡：时间、空间和单向链接结构<a class=headerlink href=#4510 title="Permanent link"> ¶</a></h3> <h3 id=4511>4.5.11.练习题<a class=headerlink href=#4511 title="Permanent link"> ¶</a></h3> <p>1．假设已经找到了从单向链接结构里删除元素的位置，请说明从这个时候开始完成删除操作的运行时复杂度。</p> <p>2．可以对单向链接结构里按顺序排列的元素执行二分搜索吗？如果不可以，为什么？</p> <p>3．请说明为什么Python列表会使用数组而不是链接结构来保存它的元素。</p> <h2 id=46>4.6.链接上的变化<a class=headerlink href=#46 title="Permanent link"> ¶</a></h2> <h3 id=461>4.6.1.包含虚拟头节点的环状链接结构<a class=headerlink href=#461 title="Permanent link"> ¶</a></h3> <h3 id=462>4.6.2.双向链接结构<a class=headerlink href=#462 title="Permanent link"> ¶</a></h3> <h3 id=463>4.6.3.练习题<a class=headerlink href=#463 title="Permanent link"> ¶</a></h3> <p>1．包含虚拟头节点的环状链接结构给程序员带来了什么好处？</p> <p>2．和单向链接结构相比，请描述双向链接结构的一个好处和一个额外开销。</p> <h2 id=47>4.7.小结<a class=headerlink href=#47 title="Permanent link"> ¶</a></h2> <ul> <li>数据结构是一个表示多项集里所包含数据的对象。</li> <li>数组是一种在常数时间内支持对位置逐项随机访问的数据结构。在创建数组时，会为它分配若干个用来存放数据的内存空间，并且数组的长度会保持不变。插入和删除操作需要移动数据元素，并且可能需要创建一个新的、更大或更小的数组。</li> <li>二维数组里的每个数据值都位于矩形网格的行和列上。</li> <li>链接结构是由0个或多个节点组成的数据结构。每个节点都包含一个数据元素和一个或多个指向其他节点的链接。</li> <li>单向链接结构的节点包含数据元素和到下一个节点的链接。双向链接结构里的节点还包含到前一个节点的链接。</li> <li>在链接结构里进行插入或删除操作不需要移动数据元素，每次最多只会创建一个节点。但是，在链接结构里执行插入、删除和访问操作需要的时间复杂度都是线性的。</li> <li>在链接结构里使用头节点可以简化某些操作，如添加或删除元素。</li> </ul> <h2 id=48>4.8.复习题<a class=headerlink href=#48 title="Permanent link"> ¶</a></h2> <p>1．数组和链接结构都是：</p> <ul> <li>抽象数据类型（ADT）</li> <li>数据结构</li> </ul> <p>2．数组的长度：</p> <ul> <li>在创建之后大小是固定的</li> <li>在创建之后大小可以增加或减少</li> </ul> <p>3．在数组里进行随机访问支持在：</p> <ul> <li>常数时间里访问数据</li> <li>线性时间里访问数据</li> </ul> <p>4．单向链接结构里的数据包含在：</p> <ul> <li>单元里</li> <li>节点里</li> </ul> <p>5．对单向链接结构执行的大多数操作都需要：</p> <ul> <li>常数时间</li> <li>线性时间</li> </ul> <p>6．从以下哪种类型里删除第一个元素需要常数时间：</p> <ul> <li>数组</li> <li>单向链接结构</li> </ul> <p>7．在下面哪种情况下，数组里使用的内存会少于单向链接结构的：</p> <ul> <li>不到一半的位置放置了数据</li> <li>一半以上的位置放置了数据</li> </ul> <p>8．当数组的内存不足以保存数据时，最好创建一个新的数组，这个新数组应该：</p> <ul> <li>大小比旧数组多1个位置</li> <li>大小是旧数组的2倍</li> </ul> <p>9．对于单向链接结构，当你在什么地方执行插入操作会得到最坏情况下的运行时：</p> <ul> <li>在结构的开头</li> <li>在结构的末尾</li> </ul> <p>10．双向链接结构让程序员可以移动到：</p> <ul> <li>给定节点的后一个节点或前一个节点</li> <li>给定节点的后一个节点</li> </ul> <h2 id=49>4.9.编程练习<a class=headerlink href=#49 title="Permanent link"> ¶</a></h2> <p>在前6个项目里，你将修改在本章定义的Array类，从而让它更像Python的list类。对于这些项目的答案，请包含你对Array类所做修改的代码测试。</p> <p>1．为Array类添加一个实例变量<code>logicalSize</code>。这个变量的初始值为<code>0</code>，用来记录数组里当前已经包含的元素数量。然后为Array类添加<code>size()</code>方法，这个方法用来返回数组的逻辑尺寸。<code>__len__</code>方法依然会返回数组的容量，也就是它的物理尺寸。</p> <p>2．为Array类的<code>__getitem__</code>和_<code>_setitem__</code>方法添加先验条件。它们的先验条件是<code>0&lt;=index &lt; size()</code>。如果不满足先验条件，就引发异常。</p> <p>3．将<code>grow</code>和<code>shrink</code>方法添加到Array类。它们能够基于本章所讨论的策略来增加或减少数组里所包含的列表长度。在实现时，要保证数组的物理尺寸不会缩小到用户指定的容量之下，并且在增加数组尺寸时，数组的内存单元将会用默认值来填充。</p> <p>4．将方法<code>insert</code>和<code>pop</code>添加到Array类中。它们基于本章已经讨论过的策略，在需要的时候对数组的长度进行调整。<code>insert</code>方法会接收一个位置和一个元素值作为参数，然后把这个元素插入指定的位置。如果位置大于或等于数组的逻辑尺寸，那么这个方法会把元素插入数组里当前可获得的最后一个元素之后。<code>pop</code>方法会接收一个位置作为参数，然后删除并返回这个位置的元素。<code>pop</code>方法的先验条件是<code>0&lt;=index &lt; size()</code>。<code>pop</code>方法还应该把腾出来的数组内存单元重置为填充值。</p> <p>5．将方法<code>__eq__</code>添加到Array类中。当Array对象作为<code>==</code>运算符的左操作数时，Python会运行这个方法。如果这个方法的参数也是一个Array对象，并且它的逻辑尺寸和左操作数相同，且在两个数组里每个逻辑位置上的元素都相等，那么这个方法会返回<code>True</code>；否则，这个方法返回<code>False</code>。</p> <p>6．为了让Array类和列表一样，应该删除<code>__iter__</code>方法的当前实现。请解释这为什么是一个好建议，并说明在这个情况下应该如何对<code>__str__</code>方法进行修改。</p> <p>7．<code>Matrix</code>类可以执行线性代数里的某些运算，比如矩阵运算。开发一个使用内置运算符进行算术运算的<code>Matrix</code>类，这个<code>Matrix</code>类应扩展自<code>Grid</code>类。在接下来的4个项目里，你应定义一些用来操作链接结构的函数。在解答的过程中，你应该继续使用本章定义的<code>Node</code>和<code>TwoWayNode</code>类。创建一个测试模块以包含你的函数定义和用来测试它们的代码。</p> <p>8．定义一个叫作<code>length</code>的函数（不是<code>len</code>），这个函数会接受一个单向链接结构作为参数，并能够返回结构里的元素数量。</p> <p>9．定义一个叫作<code>insert</code>的函数，这个函数具有把元素插入单向链接结构中指定位置的功能。这个函数有3个参数：元素、位置以及一个链接结构（这个链接结构可能为空）。这个函数能够返回修改之后的链接结构。如果传递的位置大于或等于链接结构的长度，那么这个函数会把元素插入它的末尾。这个函数的调用示例是<code>head =insert(1,data,head)</code>，其中<code>head</code>是一个变量，这个变量要么为空链接，要么指向链接结构的第一个节点。</p> <p>10．定义一个叫作<code>pop</code>的函数，这个函数能够在单向链接结构的指定位置上删除元素。这个函数的第一个参数是位置，它的先验条件是<code>0&lt;=position&lt;结构的长度</code>。它的第二个参数是一个链接结构，很明显它不应该为空。这个函数将会返回一个元组，包含修改后的链接结构和删除的元素。它的调用示例是<code>(head, item) = pop(1,head)</code>。</p> <p>11．定义一个函数<code>makeTwoWay</code>，这个函数会接受一个单向链接结构作为参数，然后生成并返回一个包含单向链接结构里的元素的双向链接结构。（注意：这个函数不应该对作为参数的链接结构进行任何修改。）</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../03_TimeComplexity/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 搜索、排序以及复杂度分析" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> 搜索、排序以及复杂度分析 </div> </div> </a> <a href=../05_InterfacePolymorphism/ class="md-footer__link md-footer__link--next" aria-label="Next: 接口、实现和多态" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> 接口、实现和多态 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.instant", "navigation.top"], "search": "../../../assets/javascripts/workers/search.fcfe8b6d.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.b1047164.min.js></script> </body> </html>