<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://huyuhui001.github.io/mySite/python/DataAnalysis/ch06/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.4.3"><title>绘图与可视化 - 知行斋</title><link rel=stylesheet href=../../../assets/stylesheets/main.6b80c2a2.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.cbb835fc.min.css><meta name=theme-color content=#009485><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=teal data-md-color-accent=green> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=知行斋 class="md-header__button md-logo" aria-label=知行斋 data-md-component=logo> <img src=../../../assets/logo.jpg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 知行斋 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 绘图与可视化 </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/huyuhui001/mySite title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> huyuhui001/mySite </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Knowledge and Action </a> </li> <li class=md-tabs__item> <a href=../../../linux/ class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../k8s/ class=md-tabs__link> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> Python </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=知行斋 class="md-nav__button md-logo" aria-label=知行斋 data-md-component=logo> <img src=../../../assets/logo.jpg alt=logo> </a> 知行斋 </label> <div class=md-nav__source> <a href=https://github.com/huyuhui001/mySite title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> huyuhui001/mySite </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> Knowledge and Action <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Knowledge and Action" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Knowledge and Action </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> About </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Linux data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux/ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2> Linux SRE <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Linux SRE" data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Linux SRE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux/SRE/01-fundamentals/ class=md-nav__link> 第一章 Linux基础 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/02-filesystem/ class=md-nav__link> 第二章 文件系统 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/03-identity-security/ class=md-nav__link> 第三章 身份与安全 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/04-TextTools/ class=md-nav__link> 第四章 文本编辑 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/05-RegExpress/ class=md-nav__link> 第五章 正则表达式 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/06-FileLookup/ class=md-nav__link> 第六章 文件查找 </a> </li> <li class=md-nav__item> <a href=../../../linux/SRE/07-FilePacking/ class=md-nav__link> 第七章 文件打包和解包 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> SUSE Linux Administration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="SUSE Linux Administration" data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> SUSE Linux Administration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux/Administration/01/ class=md-nav__link> Linux File System Overview </a> </li> <li class=md-nav__item> <a href=../../../linux/Administration/02/ class=md-nav__link> Useful Commands </a> </li> <li class=md-nav__item> <a href=../../../linux/Administration/03/ class=md-nav__link> Shell </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4> SUSE Enterprise Storage Foundation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="SUSE Enterprise Storage Foundation" data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> SUSE Enterprise Storage Foundation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux/SES/linux_ses_memo/ class=md-nav__link> SUSE Enterprise Storage Foundation </a> </li> <li class=md-nav__item> <a href=../../../linux/SES/linux_ses_demo/ class=md-nav__link> SUSE Enterprise Storage Basic Operation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Kubernetes data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2 type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2> CKA Learning Memo <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CKA Learning Memo" data-md-level=2> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> CKA Learning Memo </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_1 type=checkbox id=__nav_3_2_1> <label class=md-nav__link for=__nav_3_2_1> Installation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Installation data-md-level=3> <label class=md-nav__title for=__nav_3_2_1> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/installation/single-local/ class=md-nav__link> Single Node Installation </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/installation/multiple-local/ class=md-nav__link> Multiple Nodes Installation </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/installation/aliyun-ubuntu/ class=md-nav__link> Installation on Aliyun ECS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_2 type=checkbox id=__nav_3_2_2> <label class=md-nav__link for=__nav_3_2_2> Docker <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Docker data-md-level=3> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/docker/ class=md-nav__link> Fundamentals </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_3 type=checkbox id=__nav_3_2_3> <label class=md-nav__link for=__nav_3_2_3> Foundamentals <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Foundamentals data-md-level=3> <label class=md-nav__title for=__nav_3_2_3> <span class="md-nav__icon md-icon"></span> Foundamentals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/memo/ class=md-nav__link> Memo </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/basics/ class=md-nav__link> kubectl basics </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_4 type=checkbox id=__nav_3_2_4> <label class=md-nav__link for=__nav_3_2_4> Core Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Core Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_3_2_4> <span class="md-nav__icon md-icon"></span> Core Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/pod/ class=md-nav__link> Pod </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/deployment/ class=md-nav__link> Deployment </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/service/ class=md-nav__link> Service </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_5 type=checkbox id=__nav_3_2_5> <label class=md-nav__link for=__nav_3_2_5> Application Modeling <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Application Modeling" data-md-level=3> <label class=md-nav__title for=__nav_3_2_5> <span class="md-nav__icon md-icon"></span> Application Modeling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/namespace/ class=md-nav__link> Namespace </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/statefulset/ class=md-nav__link> StatefulSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/daemonset/ class=md-nav__link> DaemonSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/job/ class=md-nav__link> Job and Cronjob </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/configuration/ class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/secrets/ class=md-nav__link> Secrets </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/persistence/ class=md-nav__link> Persistence </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/rbac/ class=md-nav__link> Role Based Access Control (RBAC) </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/ingress/ class=md-nav__link> Ingress </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_6 type=checkbox id=__nav_3_2_6> <label class=md-nav__link for=__nav_3_2_6> Advanced Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Advanced Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_3_2_6> <span class="md-nav__icon md-icon"></span> Advanced Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/scheduling/ class=md-nav__link> Scheduling </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/hpa/ class=md-nav__link> Horizontal Pod Autoscaling </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/policy/ class=md-nav__link> Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/networkpolicy/ class=md-nav__link> Network Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/clustermgt/ class=md-nav__link> Cluster Management </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_7 type=checkbox id=__nav_3_2_7> <label class=md-nav__link for=__nav_3_2_7> Operating Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Operating Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_3_2_7> <span class="md-nav__icon md-icon"></span> Operating Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/healthcheck/ class=md-nav__link> Health Check </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/helming/ class=md-nav__link> Helming </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_8 type=checkbox id=__nav_3_2_8> <label class=md-nav__link for=__nav_3_2_8> Topics <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Topics data-md-level=3> <label class=md-nav__title for=__nav_3_2_8> <span class="md-nav__icon md-icon"></span> Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/casestudy-operation-resources/ class=md-nav__link> Operations on Resources </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/casestudy-health-check/ class=md-nav__link> Health Check </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/casestudy-calico/ class=md-nav__link> Calico Installation </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/kyma/ class=md-nav__link> Kyma </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3 type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3> CKA学习笔记 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=CKA学习笔记 data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> CKA学习笔记 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_1 type=checkbox id=__nav_3_3_1> <label class=md-nav__link for=__nav_3_3_1> 安装 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=安装 data-md-level=3> <label class=md-nav__title for=__nav_3_3_1> <span class="md-nav__icon md-icon"></span> 安装 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/installation/single-local/ class=md-nav__link> 单节点虚拟机安装Kubernetes </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/installation/multiple-local/ class=md-nav__link> 多节点虚拟机安装Kubernetes </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/installation/aliyun-ubuntu/ class=md-nav__link> 阿里云ECS安装Kubernetes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_2 type=checkbox id=__nav_3_3_2> <label class=md-nav__link for=__nav_3_3_2> Docker <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Docker data-md-level=3> <label class=md-nav__title for=__nav_3_3_2> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/docker/ class=md-nav__link> Docker基础 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_3 type=checkbox id=__nav_3_3_3> <label class=md-nav__link for=__nav_3_3_3> 基础知识 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=基础知识 data-md-level=3> <label class=md-nav__title for=__nav_3_3_3> <span class="md-nav__icon md-icon"></span> 基础知识 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/memo/ class=md-nav__link> Kubernetes随笔 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/overview/ class=md-nav__link> Kubernetes集群概览 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/basics/ class=md-nav__link> kubectl基础 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_4 type=checkbox id=__nav_3_3_4> <label class=md-nav__link for=__nav_3_3_4> 核心概念 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=核心概念 data-md-level=3> <label class=md-nav__title for=__nav_3_3_4> <span class="md-nav__icon md-icon"></span> 核心概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/pod/ class=md-nav__link> Pod </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/deployment/ class=md-nav__link> Deployment </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/service/ class=md-nav__link> Service </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_5 type=checkbox id=__nav_3_3_5> <label class=md-nav__link for=__nav_3_3_5> 应用体系 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=应用体系 data-md-level=3> <label class=md-nav__title for=__nav_3_3_5> <span class="md-nav__icon md-icon"></span> 应用体系 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/namespace/ class=md-nav__link> Namespace </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/statefulset/ class=md-nav__link> StatefulSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/daemonset/ class=md-nav__link> DaemonSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/job/ class=md-nav__link> Job and Cronjob </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/configuration/ class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/secrets/ class=md-nav__link> secrets </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/persistence/ class=md-nav__link> Persistence </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/rbac/ class=md-nav__link> RBAC鉴权 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/ingress/ class=md-nav__link> Ingress-nginx </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_6 type=checkbox id=__nav_3_3_6> <label class=md-nav__link for=__nav_3_3_6> 进阶概念 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=进阶概念 data-md-level=3> <label class=md-nav__title for=__nav_3_3_6> <span class="md-nav__icon md-icon"></span> 进阶概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/scheduling/ class=md-nav__link> Scheduling </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/hpa/ class=md-nav__link> Horizontal Pod Autoscaling (HPA) </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/policy/ class=md-nav__link> Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/networkpolicy/ class=md-nav__link> Network Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/clustermgt/ class=md-nav__link> Cluster Management </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_7 type=checkbox id=__nav_3_3_7> <label class=md-nav__link for=__nav_3_3_7> 日常维护 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=日常维护 data-md-level=3> <label class=md-nav__title for=__nav_3_3_7> <span class="md-nav__icon md-icon"></span> 日常维护 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/healthcheck/ class=md-nav__link> 健康检查 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/helming/ class=md-nav__link> Helm Chart </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_8 type=checkbox id=__nav_3_3_8> <label class=md-nav__link for=__nav_3_3_8> 主题讨论 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=主题讨论 data-md-level=3> <label class=md-nav__title for=__nav_3_3_8> <span class="md-nav__icon md-icon"></span> 主题讨论 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/casestudy-operation-resources/ class=md-nav__link> Kubernetes资源常见操作 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/casestudy-health-check/ class=md-nav__link> 健康检查 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/casestudy-calico/ class=md-nav__link> 安装Calico </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_4 type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4> Demos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Demos data-md-level=2> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/demo/cap_on_kyma/ class=md-nav__link> Build CAP Application on Kyma </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Python基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python基础 data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Python基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Foundation/ch00/ class=md-nav__link> Python安装 </a> </li> <li class=md-nav__item> <a href=../../Foundation/ch01/ class=md-nav__link> Python语言基础 </a> </li> <li class=md-nav__item> <a href=../../Foundation/ch02/ class=md-nav__link> Python打包和解包 </a> </li> <li class=md-nav__item> <a href=../../Foundation/ch03/ class=md-nav__link> Python内置函数及文件 </a> </li> <li class=md-nav__item> <a href=../../Foundation/ch04/ class=md-nav__link> Python面向对象概念 </a> </li> <li class=md-nav__item> <a href=../../Foundation/ch05/ class=md-nav__link> Python面向对象三大特性 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3 checked> <label class=md-nav__link for=__nav_4_3> Python数据分析基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python数据分析基础 data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Python数据分析基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ch01/ class=md-nav__link> NumPy基础 </a> </li> <li class=md-nav__item> <a href=../ch10/ class=md-nav__link> NumPy进阶 </a> </li> <li class=md-nav__item> <a href=../ch02/ class=md-nav__link> Pandas入门 </a> </li> <li class=md-nav__item> <a href=../ch03/ class=md-nav__link> 数据载入、存储及文件格式 </a> </li> <li class=md-nav__item> <a href=../ch04/ class=md-nav__link> 数据清洗与准备 </a> </li> <li class=md-nav__item> <a href=../ch05/ class=md-nav__link> 数据规整：连接、联合与重塑 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 绘图与可视化 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 绘图与可视化 </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#matplotlib-api class=md-nav__link> 简明matplotlib API入门 </a> <nav class=md-nav aria-label="简明matplotlib API入门"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 图片与子图 </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 颜色、标记和线类型 </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 刻度、标签和图例 </a> <nav class=md-nav aria-label=刻度、标签和图例> <ul class=md-nav__list> <li class=md-nav__item> <a href=#matplotlib class=md-nav__link> matplotlib设置 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pandasseaborn class=md-nav__link> 使用pandas和seaborn绘图 </a> <nav class=md-nav aria-label=使用pandas和seaborn绘图> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 折线图 </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> 直方图和密度图 </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> 散点图或点图 </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> 分面网格和分类数据 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#python class=md-nav__link> 其他Python可视化工具 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../ch07/ class=md-nav__link> 数据聚合与分组操作 </a> </li> <li class=md-nav__item> <a href=../ch08/ class=md-nav__link> 时间序列 </a> </li> <li class=md-nav__item> <a href=../ch09/ class=md-nav__link> 高阶pandas </a> </li> <li class=md-nav__item> <a href=../ch11/ class=md-nav__link> Python建模库介绍 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4 type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4> 数据结构和算法 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=数据结构和算法 data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 数据结构和算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../DataStructure/01_PythonFundmantal/ class=md-nav__link> 基础知识回顾 </a> </li> <li class=md-nav__item> <a href=../../DataStructure/02_CollectionsOverview/ class=md-nav__link> 多项集的概述 </a> </li> <li class=md-nav__item> <a href=../../DataStructure/03_TimeComplexity/ class=md-nav__link> 搜索、排序以及复杂度分析 </a> </li> <li class=md-nav__item> <a href=../../DataStructure/04_ArrayChain/ class=md-nav__link> 数组和链接结构 </a> </li> <li class=md-nav__item> <a href=../../DataStructure/05_InterfacePolymorphism/ class=md-nav__link> 接口、实现和多态 </a> </li> <li class=md-nav__item> <a href=../../DataStructure/06_InheritanceAbstractClass/ class=md-nav__link> 继承与抽象类 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5 type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5> Effective Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Effective Python" data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Effective Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule01/ class=md-nav__link> 第01条 查询自己使用的Python版本 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule02/ class=md-nav__link> 第02条 遵循PEP 8风格指南 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule03/ class=md-nav__link> 第03条 了解bytes与str的区别 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule04/ class=md-nav__link> 第04条 用支持插值的f-string取代C风格的格式字符串与str.format方法 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule05/ class=md-nav__link> 第05条 用辅助函数取代复杂的表达式 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule06/ class=md-nav__link> 第06条 把数据结构直接拆分到多个变量里，不要专门通过下标访问 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule07/ class=md-nav__link> 第07条 尽量用enumerate取代range </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule08/ class=md-nav__link> 第08条 用zip函数同时遍历两个迭代器 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule09/ class=md-nav__link> 第09条 不要在for与while循环后面写else块 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule10/ class=md-nav__link> 第10条 用赋值表达式减少重复代码 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule11/ class=md-nav__link> 第11条 学会对序列做切片 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule12/ class=md-nav__link> 第12条 不要在切片里同时指定起止下标与步进 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule13/ class=md-nav__link> 第13条 通过带星号的unpacking操作来捕获多个元素,不要用切片 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule14/ class=md-nav__link> 第14条 用sort方法的key参数来表示复杂的排序逻辑 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule15/ class=md-nav__link> 第15条 不要过分依赖给字典添加条目时所用的顺序 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule16/ class=md-nav__link> 第16条 用get处理键不在字典中的情况,不要使用in与KeyError </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule17/ class=md-nav__link> 第17条 用defaultdict处理内部状态中缺失的元素,而不要用setdefault </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule18/ class=md-nav__link> 第18条 学会利用__missing__构造依赖键的默认值 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule19/ class=md-nav__link> 第19条 不要把函数返回的多个数值拆分到三个以上的变量中 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule20/ class=md-nav__link> 第20条 遇到意外状况时应该抛出异常,不要返回None </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule21/ class=md-nav__link> 第21条 了解如何在闭包里面使用外围作用域中的变量 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule22/ class=md-nav__link> 第22条 用数量可变的位置参数给函数设计清晰的参数列表 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule23/ class=md-nav__link> 第23条 用关键字参数来表示可选的行为 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule24/ class=md-nav__link> 第24条 用None和docstring来描述默认值会变的参数 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule25/ class=md-nav__link> 第25条 用只能以关键字指定和只能按位置传入的参数来设计清晰的参数列表 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule26/ class=md-nav__link> 第26条 用functools.wraps定义函数修饰器 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule27/ class=md-nav__link> 第27条 用列表推导取代map与filter </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule28/ class=md-nav__link> 第28条 控制推导逻辑的子表达式不要超过两个 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule29/ class=md-nav__link> 第29条 用赋值表达式消除推导中的重复代码 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule30/ class=md-nav__link> 第30条 不要让函数直接返回列表，应该让它逐个生成列表里的值 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule31/ class=md-nav__link> 第31条 谨慎地迭代函数所收到的参数 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule32/ class=md-nav__link> 第32条 考虑用生成器表达式改写数据量较大的列表推导 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule33/ class=md-nav__link> 第33条 通过yield from把多个生成器连起来用 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule34/ class=md-nav__link> 第34条 不要用send给生成器注入数据 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule35/ class=md-nav__link> 第35条 不要通过throw变换生成器的状态 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule36/ class=md-nav__link> 第36条 考虑用itertools拼装迭代器与生成器 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule37/ class=md-nav__link> 第37条 用组合起来的类来实现多层结构，不要用嵌套的内置类型 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule38/ class=md-nav__link> 第38条 让简单的接口接受函数，而不是类的实例 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule39/ class=md-nav__link> 第39条 通过@classmethod多态来构造同一体系中的各类对象 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule40/ class=md-nav__link> 第40条 通过super初始化超类 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule41/ class=md-nav__link> 第41条 考虑用mix-in类来表示可组合的功能 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule42/ class=md-nav__link> 第42条 优先考虑用public属性表示应受保护的数据,不要用private属性表示 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule43/ class=md-nav__link> 第43条 自定义的容器类型应该从collections.abc继承 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule44/ class=md-nav__link> 第44条 用纯属性与修饰器取代旧式的setter与getter方法 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule45/ class=md-nav__link> 第45条 考虑用@property实现新的属性访问逻辑,不要急着重构原有的代码 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule46/ class=md-nav__link> 第46条 用描述符来改写需要复用的@property方法 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule47/ class=md-nav__link> 第47条 针对惰性属性使用__getattr__、__getattribute__及__setattr__ </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule48/ class=md-nav__link> 第48条 用__init_subclass__验证子类写得是否正确 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule49/ class=md-nav__link> 第49条 用__init_subclass__记录现有的子类 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule50/ class=md-nav__link> 第50条 用__set_name__给类属性加注解 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule51/ class=md-nav__link> 第51条 优先考虑通过类修饰器来提供可组合的扩充功能，不要使用元类 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule52/ class=md-nav__link> 第52条 用subprocess管理子进程 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule53/ class=md-nav__link> 第53条 可以用线程执行阻塞式I/O,但不要用它做并行计算 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule54/ class=md-nav__link> 第54条 利用Lock防止多个线程争用同一份数据 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule55/ class=md-nav__link> 第55条 用Queue来协调各线程之间的工作进度 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule56/ class=md-nav__link> 第56条 学会判断什么场合必须做并发 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule57/ class=md-nav__link> 第57条 不要在每次fan-out时都新建一批Thread实例 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule58/ class=md-nav__link> 第58条 学会正确地重构代码,以便用Queue做并发 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule59/ class=md-nav__link> 第59条 如果必须用线程做并发,那就考虑通过ThreadPoolExecutor实现 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule60/ class=md-nav__link> 第60条 用协程实现高并发的I/O </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule61/ class=md-nav__link> 第61条 学会用asyncio改写那些通过线程实现的I/O </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule62/ class=md-nav__link> 第62条 结合线程与协程,将代码顺利迁移到asyncio </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule63/ class=md-nav__link> 第63条 让asyncio的事件循环保持畅通,以便进一步提升程序的响应能力 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule64/ class=md-nav__link> 第64条 考虑用concurrent.futures实现真正的并行计算 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule65/ class=md-nav__link> 第65条 合理利用try/except/else/finally结构中的每个代码块 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule66/ class=md-nav__link> 第66条 考虑用contextlib和with语句来改写可复用的try/finally代码 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule67/ class=md-nav__link> 第67条 用datetime模块处理本地时间,不要用time模块 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule68/ class=md-nav__link> 第68条 用copyreg实现可靠的pickle操作 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule69/ class=md-nav__link> 第69条 在需要准确计算的场合,用decimal表示相应的数值 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule70/ class=md-nav__link> 第70条 先分析性能，然后再优化 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule71/ class=md-nav__link> 第71条 优先考虑用deque实现生产者-消费者队列 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule72/ class=md-nav__link> 第72条 考虑用bisect搜索已排序的序列 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule73/ class=md-nav__link> 第73条 学会使用heapq制作优先级队列 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule74/ class=md-nav__link> 第74条 考虑用memoryview与bytearray来实现无须拷贝的bytes操作 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule75/ class=md-nav__link> 第75条 通过repr字符串输出调试信息 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule76/ class=md-nav__link> 第76条 在TestCase子类里验证相关的行为 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule77/ class=md-nav__link> 第77条 把测试前、后的准备与清理逻辑写在setUp、tearDown、setUpModule与tearDownModule中,以防用例之间互相干扰 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule78/ class=md-nav__link> 第78条 用Mock来模拟受测代码所依赖的复杂函数 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule79/ class=md-nav__link> 第79条 把受测代码所依赖的系统封装起来，以便于模拟和测试 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule80/ class=md-nav__link> 第80条 考虑用pdb做交互调试 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule81/ class=md-nav__link> 第81条 用tracemalloc来掌握内存的使用与泄漏情况 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule82/ class=md-nav__link> 第82条 学会寻找由其他Python开发者所构建的模块 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule83/ class=md-nav__link> 第83条 用虚拟环境隔离项目,并重建依赖关系 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule84/ class=md-nav__link> 第84条 每一个函数、类与模块都要写docstring </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule85/ class=md-nav__link> 第85条 用包来安排模块,以提供稳固的API </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule86/ class=md-nav__link> 第86条 考虑用模块级别的代码配置不同的部署环境 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule87/ class=md-nav__link> 第87条 为自编的模块定义根异常,让调用者能够专门处理与此API有关的异常 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule88/ class=md-nav__link> 第88条 用适当的方式打破循环依赖关系 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule89/ class=md-nav__link> 第89条 重构时考虑通过warnings提醒开发者API已经发生变化 </a> </li> <li class=md-nav__item> <a href=../../Pythonic90Rules/Rule90/ class=md-nav__link> 第90条 考虑通过typing做静态分析,以消除bug </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6 type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6> Demos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Demos data-md-level=2> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Demo/CourseSystem/ class=md-nav__link> 选课系统 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#matplotlib-api class=md-nav__link> 简明matplotlib API入门 </a> <nav class=md-nav aria-label="简明matplotlib API入门"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 图片与子图 </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 颜色、标记和线类型 </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 刻度、标签和图例 </a> <nav class=md-nav aria-label=刻度、标签和图例> <ul class=md-nav__list> <li class=md-nav__item> <a href=#matplotlib class=md-nav__link> matplotlib设置 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pandasseaborn class=md-nav__link> 使用pandas和seaborn绘图 </a> <nav class=md-nav aria-label=使用pandas和seaborn绘图> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 折线图 </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> 直方图和密度图 </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> 散点图或点图 </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> 分面网格和分类数据 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#python class=md-nav__link> 其他Python可视化工具 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/huyuhui001/mySite/edit/main/docs/python/DataAnalysis/ch06.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=_1>绘图与可视化<a class=headerlink href=#_1 title="Permanent link"> ¶</a></h1> <h2 id=matplotlib-api>简明matplotlib API入门<a class=headerlink href=#matplotlib-api title="Permanent link"> ¶</a></h2> <div class=highlight><pre><span></span><code>import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
from io import BytesIO
</code></pre></div> <p>执行<code>plt.show()</code>时报错： <code>UserWarning: Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.</code></p> <p>执行下面命令，得到<code>plt</code>的<code>backend</code>是用<code>agg</code>。 <div class=highlight><pre><span></span><code>plt.get_backend()
</code></pre></div></p> <p>例如：下面两种表达方式效果一样。 <div class=highlight><pre><span></span><code>ax.plot(x, y, &#39;g--&#39;)
ax.plot(x, y, linestyle=&#39;--&#39;, color=&#39;g&#39;)
Out[6]: &#39;agg&#39;
</code></pre></div></p> <p>安装下面几个包： <div class=highlight><pre><span></span><code>sudo zypper in python-tk python3-tk
sudo zypper in plplot-tcltk-devel plplot-tcltk-libs
pip install tk
</code></pre></div></p> <p>添加下面到python代码中。 <div class=highlight><pre><span></span><code>import matplotlib.pyplot as plt
mpl.use(&#39;TkAgg&#39;)
</code></pre></div></p> <p>执行后报下面错误： <code>your Python may not be configured for Tk</code></p> <p>进入python源码目录，重新编译例如：下面两种表达方式效果一样。 <div class=highlight><pre><span></span><code>ax.plot(x, y, &#39;g--&#39;)
ax.plot(x, y, linestyle=&#39;--&#39;, color=&#39;g&#39;)
james@lizard:/opt/Python-3.9.6&gt; sudo make
james@lizard:/opt/Python-3.9.6&gt; sudo make install
</code></pre></div></p> <p>问题解决，即使不加入<code>mpl.use('TkAgg')</code>，执行<code>plt.show()</code>也是可以输出图像。</p> <h3 id=_2>图片与子图<a class=headerlink href=#_2 title="Permanent link"> ¶</a></h3> <p><code>matplotlib</code>所绘制的图位于图片（Figure）对象中。可以使用<code>plt.figure</code>生成一个新的图片。 使用<code>add_subplot</code>创建一个或多个子图（subplot）。</p> <p><code>plt</code>与<code>ax</code>绘图。 <div class=highlight><pre><span></span><code>fig = plt.figure()
# plt: 先生成了一个画布，然后在这个画布上隐式的生成一个画图区域来进行画图
# plt.plot([1, 2, 3, 4])
# plt.show()
# ax: 先生成一个画布（2×2的区域，最多放四个图形），然后在此画布上，选定一个子区域画了一个子图（序号1代表第一个区域）
ax1 = fig.add_subplot(2, 2, 1)  # 也可以写成fig.add_subplot(221)
ax1.plot([1, 2, 3, 4], [1, 4, 3, 2])  # 输出图片到第一个区域。
# 第一个参数是数据集里各个数据点的X值的集合
# 第二个参数数据集里各个数据点的Y值的集合。
# 不是数学上常见的成对坐标点如(x1,y1)、(x2,y2)、...、(xn,yn)的格式，而是 (x1,x2,...,xn)和(y1,y2,...,yn) 。
plt.show()
</code></pre></div></p> <p>看下面例子，增加子图后的数据可视化效果。 <div class=highlight><pre><span></span><code>fig = plt.figure()
ax1 = fig.add_subplot(2, 2, 1)
ax2 = fig.add_subplot(2, 2, 2)
ax3 = fig.add_subplot(2, 2, 3)
ax1.plot(np.random.randn(50).cumsum(), &#39;k--&#39;)  # 在第三个区域输出图像。&#39;k--’是用于绘制黑色分段线的style选项。
ax2.hist(np.random.randn(100), bins=20, color=&#39;k&#39;, alpha=0.3)
ax3.scatter(np.arange(30), np.arange(30) + 3 * np.random.randn(30))
plt.show()
</code></pre></div></p> <p><code>plt.subplots</code> 通过<code>matplotlib</code>的<code>subplots</code>方法，使用子图网格创建图片，然后返回包含了已生成子图对象的NumPy数组。 数组<code>axes</code>可以像二维数组那样方便地进行索引，例如，<code>axes[0, 1]</code>。</p> <p><code>plt.subplots</code>参数选项：</p> <ul> <li>nrows：可选的，整型，默认为1。子图网格的行数。</li> <li>ncols：可选的，整型，默认为1。子图网格的列数。</li> <li>sharex：可选的，默认为False。可选值如下：<ul> <li>True或all，所有子图共享x轴</li> <li>False或none，每个子图的x轴都是独立的</li> <li>row，每行子图共享一个x轴</li> <li>col，每列子图共享一个x轴</li> </ul> </li> <li>sharey：类似于sharex，设置y轴的共享方式。当某列共享一个x轴时，只有底部的子图会创建x轴标记。同样的，如果某行共享一个y轴时，只有行的第一列子图会创建y轴标记。</li> <li>squeeze ：可选的，布尔型，默认为True。是否压缩返回的Axes数组。如果为True，当只有一个子图，即nrows和ncols均为1时，返回一个单独的Axes对象，当有N*1和1*M个子图时，返回一个一维Axes对象数组。当有N*M个子图（N&gt;1，M&gt;1）时，返回二维数组。如果为False，则总是返回二维数组。</li> <li>num：可选的，整型或字符串，默认为None。是matplotlib.pyplot.figure的关键字，用于设置图像数字或标签。如果未设置此参数，会创建一个新的图像，并递增图像编号，figure对象会将编号保存在number属性中。如果设置了此参数，并且存在参数指定的图像，则会返回此图像的引用，如果不存在则会创建新的图像并返回它的引用。如果是字符串，则窗口标题会被设置为此字符串的值。</li> <li>subplot_kw：可选的，字典类型。包含传递给用于创建子图的调用add_subplot的关键字参数。</li> <li>gridspec_kw：可选的，字典类型。包含传递给用于创建子图网格的GridSpec构造函数的关键字参数。</li> </ul> <div class=highlight><pre><span></span><code>fig, axes = plt.subplots(2, 3)
print(axes)  # 将生成的axes对象放入NumPy数组。
# [[&lt;AxesSubplot:&gt; &lt;AxesSubplot:&gt; &lt;AxesSubplot:&gt;]
#  [&lt;AxesSubplot:&gt; &lt;AxesSubplot:&gt; &lt;AxesSubplot:&gt;]]
</code></pre></div> <p>调整子图周围的间距。 默认情况下，<code>matplotlib</code>会在子图的外部和子图之间留出一定的间距。 这个间距都是相对于图的高度和宽度来指定的，手动调整图的大小，那么间距会自动调整。 也可以使用图对象上的<code>subplots_adjust</code>方法更改间距，也可以用作顶层函数。 <div class=highlight><pre><span></span><code>fig, axes = plt.subplots(2, 2, sharex=True, sharey=True)

for i in range(2):
    for j in range(2):
        axes[i, j].hist(np.random.randn(500), bins=50, color=&#39;k&#39;, alpha=0.5)

plt.subplots_adjust(wspace=0, hspace=0)
plt.show()
</code></pre></div></p> <p>上面输出图像的轴标签是存在重叠的。<code>matplotlib</code>并不检查标签是否重叠，因此在类似情况下你需要通过显式指定刻度位置和刻度标签的方法来修复轴标签。</p> <h3 id=_3>颜色、标记和线类型<a class=headerlink href=#_3 title="Permanent link"> ¶</a></h3> <p><code>matplotlib</code>的主函数<code>plot</code>接收带有<code>x</code>和<code>y</code>轴的数组以及一些可选的字符串缩写参数来指明颜色和线类型。 例如：下面两种表达方式效果一样。</p> <ul> <li><code>ax.plot(x, y, 'g--')</code></li> <li><code>ax.plot(x, y, linestyle='--', color='g')</code></li> </ul> <div class=highlight><pre><span></span><code>data = np.random.randn(30).cumsum()
plt.plot(data, &#39;ko--&#39;)
plt.show()
# 上面的代码可以写得更为显式：
plt.plot(data, color=&#39;k&#39;, linestyle=&#39;dashed&#39;, marker=&#39;o&#39;)
plt.show()
plt.plot(data, color=&#39;k&#39;, linestyle=&#39;dashed&#39;, marker=&#39;o&#39;, label=&#39;Default&#39;)
plt.show()
plt.plot(data, color=&#39;k&#39;, linestyle=&#39;dashed&#39;, marker=&#39;o&#39;, label=&#39;steps-post&#39;, drawstyle=&#39;steps-post&#39;)
plt.show()
</code></pre></div> <h3 id=_4>刻度、标签和图例<a class=headerlink href=#_4 title="Permanent link"> ¶</a></h3> <p>对于大多数图表修饰工作，有两种主要的方式：使用程序性的pyplot接口（即matplotlib.pyplot）和更多面向对象的原生matplotlib API。</p> <p><code>pyplot</code>接口设计为交互式使用，包含了像<code>xlim</code>、<code>xticks</code>和<code>xticklabels</code>等方法。这些方法分别控制了绘图范围、刻度位置以及刻度标签。</p> <ul> <li>在没有函数参数的情况下调用，返回当前的参数值（例如<code>plt.xlim()</code>返回当前的x轴绘图范围）。</li> <li>传入参数的情况下调用，并设置参数值（例如<code>plt.xlim（[0, 10]）</code>会将<code>x</code>轴的范围设置为0到10）。</li> </ul> <p>所有的这些方法都会在当前活动的或最近创建的<code>AxesSubplot</code>上生效。 这些方法中的每一个对应于子图自身的两个方法。比如<code>xlim</code>对应于<code>ax.get_lim</code>和<code>ax.set_lim</code>。 推荐使用<code>subplot</code>的实例方法，因为这样更为显式（尤其是在处理多个子图时）。 <div class=highlight><pre><span></span><code>data = np.random.randn(1000).cumsum()
fig = plt.figure()

# 设定子图
ax = fig.add_subplot(1, 1, 1)

# 设定x轴对应参数：
# 设定x轴刻度
ax.set_xticks([0, 250, 500, 750, 1000])
# 设定x轴标签
ax.set_xticklabels([&#39;one(0)&#39;, &#39;two(250)&#39;, &#39;three(500)&#39;, &#39;four(750)&#39;, &#39;five(1000)&#39;], rotation=30, fontsize=&#39;small&#39;)
# 给x轴一个名称
ax.set_xlabel(&#39;Stages&#39;)

# 设定y轴对应参数：
# 未指定的参数由系统默认产生。
ax.set_ylabel(&#39;Steps&#39;)

# 给子图添加一个标题
ax.set_title(&#39;My first matplotlib plot&#39;)

# 给子图添加一个图例（如：给子图内一个图形曲线添加一个label）
ax.plot(data, &#39;k--&#39;, label=&#39;Label One&#39;)

# loc参数告诉matplotlib在哪里放置图表。legend方法有多个其他的位置参数loc。
ax.legend(loc=&#39;best&#39;)  # 或者plt.legend(loc=&#39;best&#39;) 。

# 在图形坐标为(0, 0)的位置添加一个lable
ax.text(0, 0, &#39;Hello World1&#39;, family=&#39;monospace&#39;, fontsize=10)

# 给子图添加annotate。用一个箭头指向要注释的地方，再写上一段话的行为，叫做annotate。
# * s: 注释的内容，一段文字；
# * xytext: 这段文字所处的位置;
# * xy: 箭头指向的位置；
# * arrowprops: 通过arrowstyle表明箭头的风格或种类。
ax.annotate(&#39;Zero is here!&#39;, xytext=(20, 20), xy=(1, 1), arrowprops=dict(arrowstyle=&#39;-&gt;&#39;))

# 给子图添加一些图形
# matplotlib含有表示多种常见图形的对象，这些对象的引用是patches。
# 一些图形，比如Rectangle（矩形）和Circle（圆形），可以在matplotlib.pyplot中找到，但图形的全集位于matplotlib.patches。
rect = plt.Rectangle((10, 5), 100, 15, color=&#39;k&#39;, alpha=0.3)
circ = plt.Circle((200, 9), 95, color=&#39;b&#39;, alpha=0.3)
pgon = plt.Polygon([[500, 5], [600, -5], [700, 30]], color=&#39;g&#39;, alpha=0.5)

ax.add_patch(rect)
ax.add_patch(circ)
ax.add_patch(pgon)

# 将图片保存到文件
# 文件类型是从文件扩展名中推断出来的。所以如果你使用．pdf，则会得到一个PDF。
# 几个重要的选项：dpi，它控制每英寸点数的分辨率；bbox_inches，可以修剪实际图形的空白。
plt.savefig(&#39;../examples/figpath.png&#39;, dpi=400, bbox_inches=&#39;tight&#39;)

# saveifg并非一定是写到硬盘的，它可以将图片写入到所有的文件型对象中，例如BytesIO
buffer = BytesIO()
plt.savefig(buffer)
plot_data = buffer.getvalue()

plt.show()
</code></pre></div></p> <h4 id=matplotlib>matplotlib设置<a class=headerlink href=#matplotlib title="Permanent link"> ¶</a></h4> <p><code>matplotlib</code>配置了配色方案和默认设置，通过全局参数来定制，包括图形大小、子图间距、颜色、字体大小和网格样式等等。 使用<code>rc</code>方法是使用Python编程修改配置的一种方式。 <code>rc</code>的第一个参数是你想要自定义的组件，比如<code>'figure'、'axes'、'xtick'、'ytick'、'grid'、'legend'</code>等等。 之后，可以按照关键字参数的序列指定新参数。</p> <p>字典是一种在程序中设置选项的简单方式。比如： <div class=highlight><pre><span></span><code>plt.rc(&#39;figure&#39;, figsize=(10, 10))
font_options = {
    &#39;family&#39;: &#39;monospace&#39;, 
    &#39;weight&#39;: &#39;bold&#39;, 
    &#39;size&#39;: &#39;small&#39;
}
plt.rc(&#39;font&#39;, **font_options)
</code></pre></div></p> <h2 id=pandasseaborn>使用pandas和seaborn绘图<a class=headerlink href=#pandasseaborn title="Permanent link"> ¶</a></h2> <p>pandas自身有很多内建方法可以简化从DataFrame和Series对象生成可视化的过程。 另一个库是<a href=https://seaborn.pydata.org/ >seaborn</a>。 <code>seaborn</code>简化了很多常用可视化类型的生成。 导入<code>seaborn</code>会修改默认的matplotlib配色方案和绘图样式，这会提高图表的可读性和美观性。 即使不使用seaborn的API，也可以导入seaborn来为通用matplotlib图表提供更好的视觉美观度。 <div class=highlight><pre><span></span><code>import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
</code></pre></div></p> <h3 id=_5>折线图<a class=headerlink href=#_5 title="Permanent link"> ¶</a></h3> <p>Series和DataFrame都有一个<code>plot</code>属性，用于绘制基本的图形。默认情况下，<code>plot()</code>绘制的是折线图。</p> <p>Series的<code>plot</code>参数：</p> <ul> <li>ax: matplotlib子图对象axes，如果没有传值，则使用当前活动的子图默认使用gca()</li> <li>alpha: 图片不透明度（0到1）</li> <li>data: 数据序列Series</li> <li>figsize: 图像尺寸，tuple(宽度，高度)，注意这里的单位是英寸</li> <li>fontsize: 设置刻度标签（xticks, yticks）的大小</li> <li>grid: 网格线（默认是打开的）</li> <li>kind: 图类型：折线图，柱形图，横向柱形图，直方图，箱线图，密度图，面积图，饼图</li> <li>label: 列的别名，作用在图例上</li> <li>legend: 图例</li> <li>loglog: x,y轴都使用对数刻度</li> <li>logx: x轴使用对数刻度</li> <li>logy: y轴使用对数刻度</li> <li>mark_right: 双 y 轴时，在图例中的列标签旁增加显示 (right) 标识</li> <li>position: 柱形图的柱子的位置设置</li> <li>rot: 改变刻度标签（xticks, yticks）的旋转度（0到360）</li> <li>secondary_y: 双 y 轴，在右边的第二个 y 轴</li> <li>style: 线的样式，比如'ko--'</li> <li>table: 将数据以表格的形式展示出来</li> <li>title: 标题</li> <li>use_index: 是否使用索引作为x刻度标签</li> <li>xerr: 带误差线的柱形图</li> <li>xlim: 横轴坐标刻度的取值范围</li> <li>xticks: x轴刻度标签</li> <li>yerr: 带误差线的柱形图</li> <li>ylim: 纵轴坐标刻度的取值范围</li> <li>yticks: y轴刻度标签</li> <li>**kwds: matplotlib plot方法的其他参数</li> </ul> <p>DataFrame的<code>plot</code>参数：</p> <ul> <li>x : 指数据框列的标签或位置参数</li> <li>y : 指数据框列的标签或位置参数</li> <li>kind :</li> <li>'line' : 折线图</li> <li>'bar' : 条形图</li> <li>'barh' : 横向条形图</li> <li>'hist' : 柱状图</li> <li>'box' : 箱线图</li> <li>'kde' : Kernel的密度估计图，主要对柱状图添加Kernel 概率密度线</li> <li>'density' : 'kde'</li> <li>'area' : area plot</li> <li>'pie' : 饼图</li> <li>'scatter' : 散点图 需要传入columns方向的索引</li> <li>'hexbin' : hexbin plot</li> <li>ax : 子图(axes, 也可以理解成坐标轴) 要在其上进行绘制的matplotlib subplot对象。如果没有设置，则使用当前matplotlib subplot。其中，变量和函数通过改变figure和axes中的元素（例如：title,label,点和线等等）一起描述figure和axes，也就是在画布上绘图。</li> <li>subplots : 判断图片中是否有子图</li> <li>sharex : 如果有子图，子图共x轴刻度，标签</li> <li>sharey : 如果有子图，子图共y轴刻度，标签</li> <li>layout : 子图的行列布局</li> <li>figsize : 图片尺寸大小</li> <li>use_index : 默认用索引做x轴</li> <li>title : 图片的标题用字符串</li> <li>grid : 图片是否有网格</li> <li>legend : 子图的图例，添加一个subplot图例(默认为True)</li> <li>style : 对每列折线图设置线的类型</li> <li>logx : 设置x轴刻度是否取对数</li> <li>logy : 设置y轴刻度是否取对数</li> <li>loglog : 同时设置x，y轴刻度是否取对数</li> <li>xticks : 设置x轴刻度值，序列形式（比如列表）</li> <li>yticks : 设置y轴刻度，序列形式（比如列表）</li> <li>xlim : 设置坐标轴x的范围，列表或元组形式</li> <li>ylim : 设置坐标轴y的范围，列表或元组形式</li> <li>rot : 设置轴标签（轴刻度）的显示旋转度数</li> <li>fontsize : 设置轴刻度的字体大小</li> <li>colormap : 设置图的区域颜色</li> <li>colorbar : 图片柱子</li> <li>position : Specify relative alignments for bar plot layout. From 0 (left/bottom-end) to 1 (right/top-end). Default is 0.5 (center)</li> <li>layout : 布局(rows, columns) for the layout of the plot</li> <li>table : 如果为正，则选择DataFrame类型的数据并且转换匹配matplotlib的布局</li> <li>yerr : 带误差线的柱形图</li> <li>xerr : 带误差线的柱形图</li> <li>stacked : 生成堆积柱状图</li> <li>sort_columns : 以字母表顺序绘制各列，默认使用前列顺序</li> <li>secondary_y : 设置第二个y轴（右y轴）</li> <li>mark_right : When using a secondary_y axis, automatically mark the column labels with “(right)” in the legend</li> <li>kwds : Options to pass to matplotlib plotting method</li> </ul> <p>Series</p> <div class=highlight><pre><span></span><code>data1 = np.random.randn(10).cumsum(0)
s1 = pd.Series(
    data1,
    index=np.arange(0, 100, 10),
)
print(s1)
fig, axes = plt.subplots(3, 1)  # 3个子图
s1.plot.bar(ax=axes[0], color=&#39;k&#39;, alpha=0.7)  # 条形图(子图0)，color=&#39;k’(柱子的颜色设置为黑色)，alpha=0.7(图像的填充色设置为部分透明)
s1.plot.barh(ax=axes[1], color=&#39;k&#39;, alpha=0.7)  # 横向条形图(子图1)
s1.value_counts().plot.pie(ax=axes[2])  # 通过value_counts()对Series值频率进行可视化
plt.show()
</code></pre></div> <p>DataFrame</p> <div class=highlight><pre><span></span><code>data2 = np.random.randn(10, 4).cumsum(0)
df1 = pd.DataFrame(
    data2,
    columns=pd.Index([&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;], name=&#39;Genus&#39;),
    index=np.arange(0, 100, 10)
)
print(df1)
fig, axes = plt.subplots(2, 1)  # 2个子图
df1.plot.kde(ax=axes[0], alpha=0.7, grid=&#39;True&#39;, title=&#39;KDE Figure&#39;, sharex=True)
df1.plot.bar(ax=axes[1], grid=&#39;True&#39;, title=&#39;Line Figure&#39;, sharex=True, use_index=False, stacked=True)
# 因为共享x轴，所以在KDE子图中指定use_index=False看不出效果。
# DataFrame的列名称&quot;Genus&quot;被用作了图例标题
# stacked=True来生成堆积柱状图
plt.show()
</code></pre></div> <p>实例：绘制一个堆积柱状图，用于展示每个派对在每天的数据点占比。</p> <p><a href=https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.crosstab.html>交叉表</a>是一种常用的分类汇总表格，用于频数分布统计，主要价值在于描述了变量间关系的深刻含义。</p> <p>虽然两个（或以上）变量可以是分类的或数量的，但是以都是分类的情形最为常见。 Pandas的<code>crosstab()</code>方法能够快速构建交叉表，并可以通过参数加以个性化的设置。其中，第一个参数将构成交叉表的行，第二个参数将构成交叉表的列。</p> <div class=highlight><pre><span></span><code>tips = pd.read_csv(&#39;../examples/tips.csv&#39;)
print(tips)
#      total_bill   tip smoker   day    time  size
# 0         16.99  1.01     No   Sun  Dinner     2
# 1         10.34  1.66     No   Sun  Dinner     3
# 2         21.01  3.50     No   Sun  Dinner     3
# 3         23.68  3.31     No   Sun  Dinner     2
# 4         24.59  3.61     No   Sun  Dinner     4
# ..          ...   ...    ...   ...     ...   ...
# 239       29.03  5.92     No   Sat  Dinner     3
# 240       27.18  2.00    Yes   Sat  Dinner     2
# 241       22.67  2.00    Yes   Sat  Dinner     2
# 242       17.82  1.75     No   Sat  Dinner     2
# 243       18.78  3.00     No  Thur  Dinner     2
# [244 rows x 6 columns]

party_counts = pd.crosstab(tips[&#39;day&#39;], tips[&#39;size&#39;])  # 对原始数据的day和size进行聚合，并构建交叉表，day作为行，size作为列。
print(party_counts)
# size  1   2   3   4  5  6
# day
# Fri   1  16   1   1  0  0
# Sat   2  53  18  13  1  0
# Sun   0  39  15  18  3  1
# Thur  1  48   4   5  1  3

# 没有太多的1人和6人派对，舍弃这些数据
party_counts = party_counts.loc[:, 2:5]
print(party_counts)
# size   2   3   4  5
# day
# Fri   16   1   1  0
# Sat   53  18  13  1
# Sun   39  15  18  3
# Thur  48   4   5  1

# 标准化至和为1：沿0轴（行）对每列求和，每行各值除以和，以确保每一行的值和为1，然后进行绘图
party_pcts = party_counts.div(party_counts.sum(1), axis=0)
print(party_pcts)
# size         2         3         4         5
# day
# Fri   0.888889  0.055556  0.055556  0.000000
# Sat   0.623529  0.211765  0.152941  0.011765
# Sun   0.520000  0.200000  0.240000  0.040000
# Thur  0.827586  0.068966  0.086207  0.017241

party_counts.plot.bar()
plt.show()
</code></pre></div> <p>可以看到本数据集中的派对数量在周末会增加。</p> <p>实例：使用seaborn进行按星期日期计算小费百分比。</p> <p>Seaborn要求数据的输入类型为pandas的Dataframe或Numpy数组。 <div class=highlight><pre><span></span><code>tips[&#39;tip_pct&#39;] = tips[&#39;tip&#39;] / (tips[&#39;total_bill&#39;] - tips[&#39;tip&#39;])
print(tips)
#      total_bill   tip smoker   day    time  size   tip_pct
# 0         16.99  1.01     No   Sun  Dinner     2  0.063204
# 1         10.34  1.66     No   Sun  Dinner     3  0.191244
# 2         21.01  3.50     No   Sun  Dinner     3  0.199886
# 3         23.68  3.31     No   Sun  Dinner     2  0.162494
# 4         24.59  3.61     No   Sun  Dinner     4  0.172069
# ..          ...   ...    ...   ...     ...   ...       ...
# 239       29.03  5.92     No   Sat  Dinner     3  0.256166
# 240       27.18  2.00    Yes   Sat  Dinner     2  0.079428
# 241       22.67  2.00    Yes   Sat  Dinner     2  0.096759
# 242       17.82  1.75     No   Sat  Dinner     2  0.108899
# 243       18.78  3.00     No  Thur  Dinner     2  0.190114
# [244 rows x 7 columns]

# barplot: 将点估计和置信区间显示为矩形条。条形图表示具有每个矩形的高度的数值变量的集中趋势的估计，并且使用误差条提供围绕该估计的不确定性的一些指示
# 柱子的值是tip_pct的平均值
# 柱子上画出的黑线代表的是95%的置信区间（置信区间可以通过可选参数进行设置）
# hue选项，允许我们通过一个额外的分类值将数据分离
# 带参数hue=&#39;time&#39;时，四个不同颜色的柱子，每个柱子上有置信区间的黑线，刻度0.00~0.30，步长0.05
# 不带参数hue=&#39;time&#39;时，两个不同颜色的柱子，分别代表Dinner和Lunch，不是每个柱子上都有置信区间的黑线，刻度0.00~0.30，步长0.05
sns.barplot(x=&#39;tip_pct&#39;, y=&#39;day&#39;, data=tips, hue=&#39;time&#39;, orient=&#39;h&#39;)  # 根据星期日期和时间计算的小费百分比
# sns.barplot(x=&#39;tip_pct&#39;, y=&#39;day&#39;, data=tips, orient=&#39;h&#39;)
sns.set(style=&quot;darkgrid&quot;, palette=&quot;deep&quot;)  # style=&quot;whitegrid&quot;
plt.show()
</code></pre></div></p> <h3 id=_6>直方图和密度图<a class=headerlink href=#_6 title="Permanent link"> ¶</a></h3> <p>直方图是一种条形图，用于给出值频率的离散显示。数据点被分成离散的，均匀间隔的箱，并且绘制每个箱中数据点的数量。</p> <div class=highlight><pre><span></span><code>tips[&#39;tip_pct&#39;].plot.hist(bins=50)  # 小费百分比的直方图
plt.show()
</code></pre></div> <p>密度图是一种与直方图相关的图表类型，它通过计算可能产生观测数据的连续概率分布估计而产生。 通常的做法是将这种分布近似为“内核”的混合，也就是像正态分布那样简单的分布。 因此，密度图也被称为内核密度估计图（KDE）。 <div class=highlight><pre><span></span><code>tips[&#39;tip_pct&#39;].plot.density() # 小费百分比密度图
plt.show()
</code></pre></div></p> <p>绘制直方图和连续密度估计<code>sns.displot()</code>。 <div class=highlight><pre><span></span><code>sns.distplot(tips[&#39;tip_pct&#39;], bins=100, color=&#39;k&#39;)
plt.show()
# FutureWarning: `distplot` is a deprecated function and will be removed in a future version.
# Please adapt your code to use either `displot` (a figure-level function with similar flexibility)
# or `histplot` (an axes-level function for histograms).
</code></pre></div></p> <h3 id=_7>散点图或点图<a class=headerlink href=#_7 title="Permanent link"> ¶</a></h3> <p>点图或散点图可以用于检验两个一维数据序列之间的关系。</p> <p>实例：从<code>statsmodels</code>项目中载入了macrodata数据集，并选择了一些变量，之后计算对数差。 <div class=highlight><pre><span></span><code>macro = pd.read_csv(&#39;../examples/macrodata.csv&#39;)
print(macro.head(5))
#      year  quarter   realgdp  realcons  ...  unemp      pop  infl  realint
# 0  1959.0      1.0  2710.349    1707.4  ...    5.8  177.146  0.00     0.00
# 1  1959.0      2.0  2778.801    1733.7  ...    5.1  177.830  2.34     0.74
# 2  1959.0      3.0  2775.488    1751.8  ...    5.3  178.657  2.74     1.09
# 3  1959.0      4.0  2785.204    1753.7  ...    5.6  179.386  0.27     4.06
# 4  1960.0      1.0  2847.699    1770.5  ...    5.2  180.007  2.31     1.19
# [5 rows x 14 columns]

data = macro[[&#39;cpi&#39;, &#39;m1&#39;, &#39;tbilrate&#39;, &#39;unemp&#39;]]
print(data.head(5))
#      cpi     m1  tbilrate  unemp
# 0  28.98  139.7      2.82    5.8
# 1  29.15  141.7      3.08    5.1
# 2  29.35  140.5      3.82    5.3
# 3  29.37  140.0      4.33    5.6
# 4  29.54  139.6      3.50    5.2

trans_data = np.log(data).diff().dropna()
print(trans_data[-5:])
#           cpi        m1  tbilrate     unemp
# 198 -0.007904  0.045361 -0.396881  0.105361
# 199 -0.021979  0.066753 -2.277267  0.139762
# 200  0.002340  0.010286  0.606136  0.160343
# 201  0.008419  0.037461 -0.200671  0.127339
# 202  0.008894  0.012202 -0.405465  0.042560
</code></pre></div></p> <p>用<code>seaborn</code>的<code>regplot</code>方法绘制散点图，并拟合出一个条线性回归线。(<a href=https://seaborn.pydata.org/ >seaborn文档</a>) <div class=highlight><pre><span></span><code>sns.regplot(&#39;m1&#39;, &#39;unemp&#39;, data=trans_data)
plt.title(&#39;Changes in log %s versus log %s &#39; % (&#39;m1&#39;, &#39;unemp&#39;))
plt.show()
</code></pre></div></p> <p>在探索性数据分析中，能够查看一组变量中的所有散点图是有帮助的，这被称为成对图或散点图矩阵。 Seaborn有一个方便的<code>pairplot</code>函数，它支持在对角线上放置每个变量的直方图或密度估计值。 <code>plot_ksw</code>参数能够将配置选项传递给非对角元素上的各个绘图调用。 <div class=highlight><pre><span></span><code>sns.pairplot(trans_data, diag_kind=&#39;kde&#39;, plot_kws={&#39;alpha&#39;: 0.2})
plt.show()
</code></pre></div></p> <h3 id=_8>分面网格和分类数据<a class=headerlink href=#_8 title="Permanent link"> ¶</a></h3> <p>如果数据集有额外的分组维度怎么办？使用分面网格是利用多种分组变量对数据进行可视化的方式。 seaborn拥有一个有效的内建函数<code>factorplot</code>，它可以简化多种分面绘图。 <div class=highlight><pre><span></span><code>sns.factorplot(x=&#39;day&#39;, y=&#39;tip_pct&#39;, hue=&#39;time&#39;, col=&#39;smoker&#39;, kind=&#39;bar&#39;, data=tips[tips.tip_pct &lt; 1])
plt.show()
# UserWarning: The `factorplot` function has been renamed to `catplot`.
# The original name will be removed in a future release. Please update your code.
# Note that the default `kind` in `factorplot` (`&#39;point&#39;`) has changed `&#39;strip&#39;` in `catplot`.
sns.catplot(x=&#39;day&#39;, y=&#39;tip_pct&#39;, hue=&#39;time&#39;, col=&#39;smoker&#39;, kind=&#39;box&#39;, data=tips[tips.tip_pct &lt; 0.5])
plt.show()
</code></pre></div></p> <h2 id=python>其他Python可视化工具<a class=headerlink href=#python title="Permanent link"> ¶</a></h2> <p>自2010年以来，很多开发工作都集中在创建web交互式图形上。 借助像<a href=http://bokeh.pydata.org/ >Bokeh</a> 和 <a href=https://github.com/plotly/plotly.py>Plotly</a> 这样的工具，在web浏览器中创建动态的、交互式图像的工作现在已经可以实现。 可视化是一个活跃的研究领域。</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ch05/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 数据规整：连接、联合与重塑" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> 数据规整：连接、联合与重塑 </div> </div> </a> <a href=../ch07/ class="md-footer__link md-footer__link--next" aria-label="Next: 数据聚合与分组操作" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> 数据聚合与分组操作 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.instant", "navigation.top"], "search": "../../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.2ab50757.min.js></script> </body> </html>