<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://huyuhui001.github.io/mySite/linux/SRE/01-fundamentals/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.4.3"><title>第一章 Linux基础 - 知行斋 Knowledge and Action</title><link rel=stylesheet href=../../../assets/stylesheets/main.6b80c2a2.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.cbb835fc.min.css><meta name=theme-color content=#009485><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=teal data-md-color-accent=green> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#linux class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="知行斋 Knowledge and Action" class="md-header__button md-logo" aria-label="知行斋 Knowledge and Action" data-md-component=logo> <img src=../../../assets/logo.jpg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 知行斋 Knowledge and Action </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 第一章 Linux基础 </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/huyuhui001/mySite title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> huyuhui001/mySite </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Knowledge and Action </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> Linux </a> </li> <li class=md-tabs__item> <a href=../../../k8s/ class=md-tabs__link> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../../python/ class=md-tabs__link> Python </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="知行斋 Knowledge and Action" class="md-nav__button md-logo" aria-label="知行斋 Knowledge and Action" data-md-component=logo> <img src=../../../assets/logo.jpg alt=logo> </a> 知行斋 Knowledge and Action </label> <div class=md-nav__source> <a href=https://github.com/huyuhui001/mySite title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> huyuhui001/mySite </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> Knowledge and Action <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Knowledge and Action" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Knowledge and Action </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> About </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Linux data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 type=checkbox id=__nav_2_2 checked> <label class=md-nav__link for=__nav_2_2> Linux SRE <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Linux SRE" data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Linux SRE </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 第一章 Linux基础 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 第一章 Linux基础 </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1 class=md-nav__link> 1.官方文档 </a> </li> <li class=md-nav__item> <a href=#2 class=md-nav__link> 2.系统环境 </a> <nav class=md-nav aria-label=2.系统环境> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21rocky class=md-nav__link> 2.1.Rocky </a> </li> <li class=md-nav__item> <a href=#22ubuntu class=md-nav__link> 2.2.Ubuntu </a> </li> <li class=md-nav__item> <a href=#23opensuse class=md-nav__link> 2.3.openSUSE </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> 3.常用命令 </a> <nav class=md-nav aria-label=3.常用命令> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31 class=md-nav__link> 3.1.修改提示符风格 </a> </li> <li class=md-nav__item> <a href=#32linux class=md-nav__link> 3.2.Linux的内外部命令 </a> </li> <li class=md-nav__item> <a href=#33cpu class=md-nav__link> 3.3.CPU信息 </a> </li> <li class=md-nav__item> <a href=#34 class=md-nav__link> 3.4.内存使用状态 </a> </li> <li class=md-nav__item> <a href=#35 class=md-nav__link> 3.5.硬盘和分区情况 </a> </li> <li class=md-nav__item> <a href=#36 class=md-nav__link> 3.6.系统架构信息 </a> </li> <li class=md-nav__item> <a href=#37 class=md-nav__link> 3.7.内核版本 </a> </li> <li class=md-nav__item> <a href=#38 class=md-nav__link> 3.8.操作系统版本 </a> </li> <li class=md-nav__item> <a href=#39 class=md-nav__link> 3.9.日期和时间 </a> </li> <li class=md-nav__item> <a href=#310 class=md-nav__link> 3.10.用户登录信息 </a> </li> <li class=md-nav__item> <a href=#311 class=md-nav__link> 3.11.会话管理工具 </a> </li> <li class=md-nav__item> <a href=#312echo class=md-nav__link> 3.12.echo命令 </a> </li> <li class=md-nav__item> <a href=#313man class=md-nav__link> 3.13.man命令 </a> </li> <li class=md-nav__item> <a href=#314tr class=md-nav__link> 3.14.tr命令 </a> </li> <li class=md-nav__item> <a href=#315tee class=md-nav__link> 3.15.tee命令 </a> </li> <li class=md-nav__item> <a href=#316lang class=md-nav__link> 3.16.语言环境LANG </a> </li> <li class=md-nav__item> <a href=#317 class=md-nav__link> 3.17.符号$用法 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../02-filesystem/ class=md-nav__link> 第二章 文件系统 </a> </li> <li class=md-nav__item> <a href=../03-identity-security/ class=md-nav__link> 第三章 身份与安全 </a> </li> <li class=md-nav__item> <a href=../04-TextTools/ class=md-nav__link> 第四章 文本编辑 </a> </li> <li class=md-nav__item> <a href=../05-RegExpress/ class=md-nav__link> 第五章 正则表达式 </a> </li> <li class=md-nav__item> <a href=../06-FileLookup/ class=md-nav__link> 第六章 文件查找 </a> </li> <li class=md-nav__item> <a href=../07-FilePacking/ class=md-nav__link> 第七章 文件打包和解包 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> SUSE Linux Administration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="SUSE Linux Administration" data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> SUSE Linux Administration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Administration/01/ class=md-nav__link> Linux File System Overview </a> </li> <li class=md-nav__item> <a href=../../Administration/02/ class=md-nav__link> Useful Commands </a> </li> <li class=md-nav__item> <a href=../../Administration/03/ class=md-nav__link> Shell </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4> SUSE Enterprise Storage Foundation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="SUSE Enterprise Storage Foundation" data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> SUSE Enterprise Storage Foundation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../SES/linux_ses_memo/ class=md-nav__link> SUSE Enterprise Storage Foundation </a> </li> <li class=md-nav__item> <a href=../../SES/linux_ses_demo/ class=md-nav__link> SUSE Enterprise Storage Basic Operation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Kubernetes data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2 type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2> CKA Learning Memo <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CKA Learning Memo" data-md-level=2> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> CKA Learning Memo </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_1 type=checkbox id=__nav_3_2_1> <label class=md-nav__link for=__nav_3_2_1> Installation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Installation data-md-level=3> <label class=md-nav__title for=__nav_3_2_1> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/installation/single-local/ class=md-nav__link> Single Node Installation </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/installation/multiple-local/ class=md-nav__link> Multiple Nodes Installation </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/installation/aliyun-ubuntu/ class=md-nav__link> Installation on Aliyun ECS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_2 type=checkbox id=__nav_3_2_2> <label class=md-nav__link for=__nav_3_2_2> Docker <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Docker data-md-level=3> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/docker/ class=md-nav__link> Fundamentals </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_3 type=checkbox id=__nav_3_2_3> <label class=md-nav__link for=__nav_3_2_3> Foundamentals <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Foundamentals data-md-level=3> <label class=md-nav__title for=__nav_3_2_3> <span class="md-nav__icon md-icon"></span> Foundamentals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/memo/ class=md-nav__link> Memo </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/basics/ class=md-nav__link> kubectl basics </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_4 type=checkbox id=__nav_3_2_4> <label class=md-nav__link for=__nav_3_2_4> Core Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Core Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_3_2_4> <span class="md-nav__icon md-icon"></span> Core Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/pod/ class=md-nav__link> Pod </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/deployment/ class=md-nav__link> Deployment </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/service/ class=md-nav__link> Service </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_5 type=checkbox id=__nav_3_2_5> <label class=md-nav__link for=__nav_3_2_5> Application Modeling <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Application Modeling" data-md-level=3> <label class=md-nav__title for=__nav_3_2_5> <span class="md-nav__icon md-icon"></span> Application Modeling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/namespace/ class=md-nav__link> Namespace </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/statefulset/ class=md-nav__link> StatefulSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/daemonset/ class=md-nav__link> DaemonSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/job/ class=md-nav__link> Job and Cronjob </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/configuration/ class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/secrets/ class=md-nav__link> Secrets </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/persistence/ class=md-nav__link> Persistence </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/rbac/ class=md-nav__link> Role Based Access Control (RBAC) </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/ingress/ class=md-nav__link> Ingress </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_6 type=checkbox id=__nav_3_2_6> <label class=md-nav__link for=__nav_3_2_6> Advanced Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Advanced Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_3_2_6> <span class="md-nav__icon md-icon"></span> Advanced Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/scheduling/ class=md-nav__link> Scheduling </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/hpa/ class=md-nav__link> Horizontal Pod Autoscaling </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/policy/ class=md-nav__link> Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/networkpolicy/ class=md-nav__link> Network Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/clustermgt/ class=md-nav__link> Cluster Management </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_7 type=checkbox id=__nav_3_2_7> <label class=md-nav__link for=__nav_3_2_7> Operating Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Operating Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_3_2_7> <span class="md-nav__icon md-icon"></span> Operating Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/healthcheck/ class=md-nav__link> Health Check </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/helming/ class=md-nav__link> Helming </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2_8 type=checkbox id=__nav_3_2_8> <label class=md-nav__link for=__nav_3_2_8> Topics <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Topics data-md-level=3> <label class=md-nav__title for=__nav_3_2_8> <span class="md-nav__icon md-icon"></span> Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/casestudy-operation-resources/ class=md-nav__link> Operations on Resources </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/casestudy-health-check/ class=md-nav__link> Health Check </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/casestudy-calico/ class=md-nav__link> Calico Installation </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_en/foundamentals/kyma/ class=md-nav__link> Kyma </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3 type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3> CKA学习笔记 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=CKA学习笔记 data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> CKA学习笔记 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_1 type=checkbox id=__nav_3_3_1> <label class=md-nav__link for=__nav_3_3_1> 安装 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=安装 data-md-level=3> <label class=md-nav__title for=__nav_3_3_1> <span class="md-nav__icon md-icon"></span> 安装 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/installation/single-local/ class=md-nav__link> 单节点虚拟机安装Kubernetes </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/installation/multiple-local/ class=md-nav__link> 多节点虚拟机安装Kubernetes </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/installation/aliyun-ubuntu/ class=md-nav__link> 阿里云ECS安装Kubernetes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_2 type=checkbox id=__nav_3_3_2> <label class=md-nav__link for=__nav_3_3_2> Docker <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Docker data-md-level=3> <label class=md-nav__title for=__nav_3_3_2> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/docker/ class=md-nav__link> Docker基础 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_3 type=checkbox id=__nav_3_3_3> <label class=md-nav__link for=__nav_3_3_3> 基础知识 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=基础知识 data-md-level=3> <label class=md-nav__title for=__nav_3_3_3> <span class="md-nav__icon md-icon"></span> 基础知识 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/memo/ class=md-nav__link> Kubernetes随笔 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/overview/ class=md-nav__link> Kubernetes集群概览 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/basics/ class=md-nav__link> kubectl基础 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_4 type=checkbox id=__nav_3_3_4> <label class=md-nav__link for=__nav_3_3_4> 核心概念 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=核心概念 data-md-level=3> <label class=md-nav__title for=__nav_3_3_4> <span class="md-nav__icon md-icon"></span> 核心概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/pod/ class=md-nav__link> Pod </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/deployment/ class=md-nav__link> Deployment </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/service/ class=md-nav__link> Service </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_5 type=checkbox id=__nav_3_3_5> <label class=md-nav__link for=__nav_3_3_5> 应用体系 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=应用体系 data-md-level=3> <label class=md-nav__title for=__nav_3_3_5> <span class="md-nav__icon md-icon"></span> 应用体系 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/namespace/ class=md-nav__link> Namespace </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/statefulset/ class=md-nav__link> StatefulSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/daemonset/ class=md-nav__link> DaemonSet </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/job/ class=md-nav__link> Job and Cronjob </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/configuration/ class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/secrets/ class=md-nav__link> secrets </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/persistence/ class=md-nav__link> Persistence </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/rbac/ class=md-nav__link> RBAC鉴权 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/ingress/ class=md-nav__link> Ingress-nginx </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_6 type=checkbox id=__nav_3_3_6> <label class=md-nav__link for=__nav_3_3_6> 进阶概念 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=进阶概念 data-md-level=3> <label class=md-nav__title for=__nav_3_3_6> <span class="md-nav__icon md-icon"></span> 进阶概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/scheduling/ class=md-nav__link> Scheduling </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/hpa/ class=md-nav__link> Horizontal Pod Autoscaling (HPA) </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/policy/ class=md-nav__link> Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/networkpolicy/ class=md-nav__link> Network Policy </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/clustermgt/ class=md-nav__link> Cluster Management </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_7 type=checkbox id=__nav_3_3_7> <label class=md-nav__link for=__nav_3_3_7> 日常维护 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=日常维护 data-md-level=3> <label class=md-nav__title for=__nav_3_3_7> <span class="md-nav__icon md-icon"></span> 日常维护 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/healthcheck/ class=md-nav__link> 健康检查 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/helming/ class=md-nav__link> Helm Chart </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_8 type=checkbox id=__nav_3_3_8> <label class=md-nav__link for=__nav_3_3_8> 主题讨论 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=主题讨论 data-md-level=3> <label class=md-nav__title for=__nav_3_3_8> <span class="md-nav__icon md-icon"></span> 主题讨论 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/casestudy-operation-resources/ class=md-nav__link> Kubernetes资源常见操作 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/casestudy-health-check/ class=md-nav__link> 健康检查 </a> </li> <li class=md-nav__item> <a href=../../../k8s/cka_cn/foundamentals/casestudy-calico/ class=md-nav__link> 安装Calico </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_4 type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4> Demos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Demos data-md-level=2> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/demo/cap_on_kyma/ class=md-nav__link> Build CAP Application on Kyma </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../python/ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Python基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python基础 data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Python基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../python/Foundation/ch00/ class=md-nav__link> Python安装 </a> </li> <li class=md-nav__item> <a href=../../../python/Foundation/ch01/ class=md-nav__link> Python语言基础 </a> </li> <li class=md-nav__item> <a href=../../../python/Foundation/ch02/ class=md-nav__link> Python打包和解包 </a> </li> <li class=md-nav__item> <a href=../../../python/Foundation/ch03/ class=md-nav__link> Python内置函数及文件 </a> </li> <li class=md-nav__item> <a href=../../../python/Foundation/ch04/ class=md-nav__link> Python面向对象概念 </a> </li> <li class=md-nav__item> <a href=../../../python/Foundation/ch05/ class=md-nav__link> Python面向对象三大特性 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3> Python数据分析基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python数据分析基础 data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Python数据分析基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch01/ class=md-nav__link> NumPy基础 </a> </li> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch10/ class=md-nav__link> NumPy进阶 </a> </li> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch02/ class=md-nav__link> Pandas入门 </a> </li> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch03/ class=md-nav__link> 数据载入、存储及文件格式 </a> </li> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch04/ class=md-nav__link> 数据清洗与准备 </a> </li> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch05/ class=md-nav__link> 数据规整：连接、联合与重塑 </a> </li> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch06/ class=md-nav__link> 绘图与可视化 </a> </li> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch07/ class=md-nav__link> 数据聚合与分组操作 </a> </li> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch08/ class=md-nav__link> 时间序列 </a> </li> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch09/ class=md-nav__link> 高阶pandas </a> </li> <li class=md-nav__item> <a href=../../../python/DataAnalysis/ch11/ class=md-nav__link> Python建模库介绍 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4 type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4> 数据结构和算法 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=数据结构和算法 data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 数据结构和算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../python/DataStructure/01_PythonFundmantal/ class=md-nav__link> 基础知识回顾 </a> </li> <li class=md-nav__item> <a href=../../../python/DataStructure/02_CollectionsOverview/ class=md-nav__link> 多项集的概述 </a> </li> <li class=md-nav__item> <a href=../../../python/DataStructure/03_TimeComplexity/ class=md-nav__link> 搜索、排序以及复杂度分析 </a> </li> <li class=md-nav__item> <a href=../../../python/DataStructure/04_ArrayChain/ class=md-nav__link> 数组和链接结构 </a> </li> <li class=md-nav__item> <a href=../../../python/DataStructure/05_InterfacePolymorphism/ class=md-nav__link> 接口、实现和多态 </a> </li> <li class=md-nav__item> <a href=../../../python/DataStructure/06_InheritanceAbstractClass/ class=md-nav__link> 继承与抽象类 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5 type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5> Effective Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Effective Python" data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Effective Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule01/ class=md-nav__link> 第01条 查询自己使用的Python版本 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule02/ class=md-nav__link> 第02条 遵循PEP 8风格指南 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule03/ class=md-nav__link> 第03条 了解bytes与str的区别 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule04/ class=md-nav__link> 第04条 用支持插值的f-string取代C风格的格式字符串与str.format方法 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule05/ class=md-nav__link> 第05条 用辅助函数取代复杂的表达式 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule06/ class=md-nav__link> 第06条 把数据结构直接拆分到多个变量里，不要专门通过下标访问 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule07/ class=md-nav__link> 第07条 尽量用enumerate取代range </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule08/ class=md-nav__link> 第08条 用zip函数同时遍历两个迭代器 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule09/ class=md-nav__link> 第09条 不要在for与while循环后面写else块 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule10/ class=md-nav__link> 第10条 用赋值表达式减少重复代码 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule11/ class=md-nav__link> 第11条 学会对序列做切片 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule12/ class=md-nav__link> 第12条 不要在切片里同时指定起止下标与步进 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule13/ class=md-nav__link> 第13条 通过带星号的unpacking操作来捕获多个元素,不要用切片 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule14/ class=md-nav__link> 第14条 用sort方法的key参数来表示复杂的排序逻辑 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule15/ class=md-nav__link> 第15条 不要过分依赖给字典添加条目时所用的顺序 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule16/ class=md-nav__link> 第16条 用get处理键不在字典中的情况,不要使用in与KeyError </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule17/ class=md-nav__link> 第17条 用defaultdict处理内部状态中缺失的元素,而不要用setdefault </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule18/ class=md-nav__link> 第18条 学会利用__missing__构造依赖键的默认值 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule19/ class=md-nav__link> 第19条 不要把函数返回的多个数值拆分到三个以上的变量中 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule20/ class=md-nav__link> 第20条 遇到意外状况时应该抛出异常,不要返回None </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule21/ class=md-nav__link> 第21条 了解如何在闭包里面使用外围作用域中的变量 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule22/ class=md-nav__link> 第22条 用数量可变的位置参数给函数设计清晰的参数列表 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule23/ class=md-nav__link> 第23条 用关键字参数来表示可选的行为 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule24/ class=md-nav__link> 第24条 用None和docstring来描述默认值会变的参数 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule25/ class=md-nav__link> 第25条 用只能以关键字指定和只能按位置传入的参数来设计清晰的参数列表 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule26/ class=md-nav__link> 第26条 用functools.wraps定义函数修饰器 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule27/ class=md-nav__link> 第27条 用列表推导取代map与filter </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule28/ class=md-nav__link> 第28条 控制推导逻辑的子表达式不要超过两个 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule29/ class=md-nav__link> 第29条 用赋值表达式消除推导中的重复代码 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule30/ class=md-nav__link> 第30条 不要让函数直接返回列表，应该让它逐个生成列表里的值 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule31/ class=md-nav__link> 第31条 谨慎地迭代函数所收到的参数 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule32/ class=md-nav__link> 第32条 考虑用生成器表达式改写数据量较大的列表推导 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule33/ class=md-nav__link> 第33条 通过yield from把多个生成器连起来用 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule34/ class=md-nav__link> 第34条 不要用send给生成器注入数据 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule35/ class=md-nav__link> 第35条 不要通过throw变换生成器的状态 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule36/ class=md-nav__link> 第36条 考虑用itertools拼装迭代器与生成器 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule37/ class=md-nav__link> 第37条 用组合起来的类来实现多层结构，不要用嵌套的内置类型 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule38/ class=md-nav__link> 第38条 让简单的接口接受函数，而不是类的实例 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule39/ class=md-nav__link> 第39条 通过@classmethod多态来构造同一体系中的各类对象 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule40/ class=md-nav__link> 第40条 通过super初始化超类 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule41/ class=md-nav__link> 第41条 考虑用mix-in类来表示可组合的功能 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule42/ class=md-nav__link> 第42条 优先考虑用public属性表示应受保护的数据,不要用private属性表示 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule43/ class=md-nav__link> 第43条 自定义的容器类型应该从collections.abc继承 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule44/ class=md-nav__link> 第44条 用纯属性与修饰器取代旧式的setter与getter方法 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule45/ class=md-nav__link> 第45条 考虑用@property实现新的属性访问逻辑,不要急着重构原有的代码 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule46/ class=md-nav__link> 第46条 用描述符来改写需要复用的@property方法 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule47/ class=md-nav__link> 第47条 针对惰性属性使用__getattr__、__getattribute__及__setattr__ </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule48/ class=md-nav__link> 第48条 用__init_subclass__验证子类写得是否正确 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule49/ class=md-nav__link> 第49条 用__init_subclass__记录现有的子类 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule50/ class=md-nav__link> 第50条 用__set_name__给类属性加注解 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule51/ class=md-nav__link> 第51条 优先考虑通过类修饰器来提供可组合的扩充功能，不要使用元类 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule52/ class=md-nav__link> 第52条 用subprocess管理子进程 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule53/ class=md-nav__link> 第53条 可以用线程执行阻塞式I/O,但不要用它做并行计算 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule54/ class=md-nav__link> 第54条 利用Lock防止多个线程争用同一份数据 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule55/ class=md-nav__link> 第55条 用Queue来协调各线程之间的工作进度 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule56/ class=md-nav__link> 第56条 学会判断什么场合必须做并发 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule57/ class=md-nav__link> 第57条 不要在每次fan-out时都新建一批Thread实例 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule58/ class=md-nav__link> 第58条 学会正确地重构代码,以便用Queue做并发 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule59/ class=md-nav__link> 第59条 如果必须用线程做并发,那就考虑通过ThreadPoolExecutor实现 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule60/ class=md-nav__link> 第60条 用协程实现高并发的I/O </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule61/ class=md-nav__link> 第61条 学会用asyncio改写那些通过线程实现的I/O </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule62/ class=md-nav__link> 第62条 结合线程与协程,将代码顺利迁移到asyncio </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule63/ class=md-nav__link> 第63条 让asyncio的事件循环保持畅通,以便进一步提升程序的响应能力 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule64/ class=md-nav__link> 第64条 考虑用concurrent.futures实现真正的并行计算 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule65/ class=md-nav__link> 第65条 合理利用try/except/else/finally结构中的每个代码块 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule66/ class=md-nav__link> 第66条 考虑用contextlib和with语句来改写可复用的try/finally代码 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule67/ class=md-nav__link> 第67条 用datetime模块处理本地时间,不要用time模块 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule68/ class=md-nav__link> 第68条 用copyreg实现可靠的pickle操作 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule69/ class=md-nav__link> 第69条 在需要准确计算的场合,用decimal表示相应的数值 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule70/ class=md-nav__link> 第70条 先分析性能，然后再优化 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule71/ class=md-nav__link> 第71条 优先考虑用deque实现生产者-消费者队列 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule72/ class=md-nav__link> 第72条 考虑用bisect搜索已排序的序列 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule73/ class=md-nav__link> 第73条 学会使用heapq制作优先级队列 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule74/ class=md-nav__link> 第74条 考虑用memoryview与bytearray来实现无须拷贝的bytes操作 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule75/ class=md-nav__link> 第75条 通过repr字符串输出调试信息 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule76/ class=md-nav__link> 第76条 在TestCase子类里验证相关的行为 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule77/ class=md-nav__link> 第77条 把测试前、后的准备与清理逻辑写在setUp、tearDown、setUpModule与tearDownModule中,以防用例之间互相干扰 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule78/ class=md-nav__link> 第78条 用Mock来模拟受测代码所依赖的复杂函数 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule79/ class=md-nav__link> 第79条 把受测代码所依赖的系统封装起来，以便于模拟和测试 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule80/ class=md-nav__link> 第80条 考虑用pdb做交互调试 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule81/ class=md-nav__link> 第81条 用tracemalloc来掌握内存的使用与泄漏情况 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule82/ class=md-nav__link> 第82条 学会寻找由其他Python开发者所构建的模块 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule83/ class=md-nav__link> 第83条 用虚拟环境隔离项目,并重建依赖关系 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule84/ class=md-nav__link> 第84条 每一个函数、类与模块都要写docstring </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule85/ class=md-nav__link> 第85条 用包来安排模块,以提供稳固的API </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule86/ class=md-nav__link> 第86条 考虑用模块级别的代码配置不同的部署环境 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule87/ class=md-nav__link> 第87条 为自编的模块定义根异常,让调用者能够专门处理与此API有关的异常 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule88/ class=md-nav__link> 第88条 用适当的方式打破循环依赖关系 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule89/ class=md-nav__link> 第89条 重构时考虑通过warnings提醒开发者API已经发生变化 </a> </li> <li class=md-nav__item> <a href=../../../python/Pythonic90Rules/Rule90/ class=md-nav__link> 第90条 考虑通过typing做静态分析,以消除bug </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6 type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6> Demos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Demos data-md-level=2> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../python/Demo/CourseSystem/ class=md-nav__link> 选课系统 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1 class=md-nav__link> 1.官方文档 </a> </li> <li class=md-nav__item> <a href=#2 class=md-nav__link> 2.系统环境 </a> <nav class=md-nav aria-label=2.系统环境> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21rocky class=md-nav__link> 2.1.Rocky </a> </li> <li class=md-nav__item> <a href=#22ubuntu class=md-nav__link> 2.2.Ubuntu </a> </li> <li class=md-nav__item> <a href=#23opensuse class=md-nav__link> 2.3.openSUSE </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> 3.常用命令 </a> <nav class=md-nav aria-label=3.常用命令> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31 class=md-nav__link> 3.1.修改提示符风格 </a> </li> <li class=md-nav__item> <a href=#32linux class=md-nav__link> 3.2.Linux的内外部命令 </a> </li> <li class=md-nav__item> <a href=#33cpu class=md-nav__link> 3.3.CPU信息 </a> </li> <li class=md-nav__item> <a href=#34 class=md-nav__link> 3.4.内存使用状态 </a> </li> <li class=md-nav__item> <a href=#35 class=md-nav__link> 3.5.硬盘和分区情况 </a> </li> <li class=md-nav__item> <a href=#36 class=md-nav__link> 3.6.系统架构信息 </a> </li> <li class=md-nav__item> <a href=#37 class=md-nav__link> 3.7.内核版本 </a> </li> <li class=md-nav__item> <a href=#38 class=md-nav__link> 3.8.操作系统版本 </a> </li> <li class=md-nav__item> <a href=#39 class=md-nav__link> 3.9.日期和时间 </a> </li> <li class=md-nav__item> <a href=#310 class=md-nav__link> 3.10.用户登录信息 </a> </li> <li class=md-nav__item> <a href=#311 class=md-nav__link> 3.11.会话管理工具 </a> </li> <li class=md-nav__item> <a href=#312echo class=md-nav__link> 3.12.echo命令 </a> </li> <li class=md-nav__item> <a href=#313man class=md-nav__link> 3.13.man命令 </a> </li> <li class=md-nav__item> <a href=#314tr class=md-nav__link> 3.14.tr命令 </a> </li> <li class=md-nav__item> <a href=#315tee class=md-nav__link> 3.15.tee命令 </a> </li> <li class=md-nav__item> <a href=#316lang class=md-nav__link> 3.16.语言环境LANG </a> </li> <li class=md-nav__item> <a href=#317 class=md-nav__link> 3.17.符号$用法 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/huyuhui001/mySite/edit/main/docs/linux/SRE/01-fundamentals.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=linux>第一章 Linux基础<a class=headerlink href=#linux title="Permanent link"> ¶</a></h1> <h2 id=1>1.官方文档<a class=headerlink href=#1 title="Permanent link"> ¶</a></h2> <p><a href=https://docs.rockylinux.org/books/ >Rocky Linux Instructional Books</a></p> <p><a href=https://doc.opensuse.org/ >openSUSE Documentation</a></p> <p><a href=https://docs.ubuntu.com/ >Ubuntu Documentation</a></p> <h2 id=2>2.系统环境<a class=headerlink href=#2 title="Permanent link"> ¶</a></h2> <h3 id=21rocky>2.1.Rocky<a class=headerlink href=#21rocky title="Permanent link"> ¶</a></h3> <p>使用版本：<code>Rocky 9.0</code>。</p> <p>从网站下载Rocky系统<a href=https://www.rockylinux.org/download/ >ISO镜像</a>，或者通过<code>wget</code>命令下载Rocky系统ISO镜像。</p> <div class=highlight><pre><span></span><code>wget https://download.rockylinux.org/pub/rocky/9.0/isos/x86_64/Rocky-9.0-x86_64-dvd.iso
</code></pre></div> <p>安装时我选择了激活<code>root</code>用户，选择了Server模式安装（没有GUI）。</p> <p>以<code>root</code>登录，执行下面命令修改<code>sudo</code>权限。</p> <div class=highlight><pre><span></span><code>visudo
</code></pre></div> <p>并激活下面一行（不设密码，方便练习）：</p> <div class=highlight><pre><span></span><code>%wheel  <span class=nv>ALL</span><span class=o>=(</span>ALL<span class=o>)</span>       NOPASSWD: ALL
</code></pre></div> <p>创建用户<code>vagrant</code>，并设置<code>wheel</code>为主要组和修改密码。</p> <div class=highlight><pre><span></span><code>adduser vagrant
usermod -g wheel vagrant
passwd vagrant
</code></pre></div> <p>设定hostname（包括别名），并查看结果。</p> <div class=highlight><pre><span></span><code>hostnamectl set-hostname --static <span class=s2>&quot;rocky9&quot;</span>
hostnamectl set-hostname --pretty <span class=s2>&quot;rocky9&quot;</span>

hostnamectl
cat /etc/hostname
</code></pre></div> <p>小贴士：</p> <blockquote> <p>由systemd控制的主机名的服务配置信息：<code>/usr/lib/systemd/system/systemd-hostnamed.service</code></p> </blockquote> <p>Rocky的软件源的配置信息保存在目录<code>/etc/yum.repos.d/</code>下。如果访问默认源比较慢，可以更新阿里源或者科大源。</p> <p>更换阿里源。</p> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s|^mirrorlist=|#mirrorlist=|g&#39;</span> <span class=se>\</span>
    -e <span class=s1>&#39;s|^#baseurl=http://dl.rockylinux.org/$contentdir|baseurl=https://mirrors.aliyun.com/rockylinux|g&#39;</span> <span class=se>\</span>
    -i.bak <span class=se>\</span>
    /etc/yum.repos.d/Rocky-*.repo
</code></pre></div> <p>更换科大源。</p> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s|^mirrorlist=|#mirrorlist=|g&#39;</span> <span class=se>\</span>
    -e <span class=s1>&#39;s|^#baseurl=http://dl.rockylinux.org/$contentdir|baseurl=https://mirrors.ustc.edu.cn/rocky|g&#39;</span> <span class=se>\</span>
    -i.bak <span class=se>\</span>
    /etc/yum.repos.d/rocky-extras.repo <span class=se>\</span>
    /etc/yum.repos.d/rocky.repo
</code></pre></div> <p>刷新缓存。</p> <div class=highlight><pre><span></span><code>dnf makecache
</code></pre></div> <h3 id=22ubuntu>2.2.Ubuntu<a class=headerlink href=#22ubuntu title="Permanent link"> ¶</a></h3> <p>使用版本：<code>Ubuntu 2204</code>。</p> <p>设定root用户的密码。</p> <div class=highlight><pre><span></span><code>sudo passwd root
</code></pre></div> <p>通过安装时已创建的用户<code>vagrant</code>登录。执行下面命令修改<code>sudo</code>权限。</p> <div class=highlight><pre><span></span><code>sudo visudo
</code></pre></div> <p>添加<code>vagrant</code>到特权用户（Rocky和openSUSE不需要添加），并激活sudo一行（不设密码，方便练习）：</p> <div class=highlight><pre><span></span><code><span class=c1># User privilege specification</span>
root    <span class=nv>ALL</span><span class=o>=(</span>ALL:ALL<span class=o>)</span> ALL
vagrant <span class=nv>ALL</span><span class=o>=(</span>ALL:ALL<span class=o>)</span> ALL

<span class=c1># Allow members of group sudo to execute any command</span>
sudo    <span class=nv>ALL</span><span class=o>=(</span>ALL:ALL<span class=o>)</span> NOPASSWD: ALL
</code></pre></div> <p>修改用户<code>vagrant</code>的主要组为<code>sudo</code>。</p> <div class=highlight><pre><span></span><code>sudo usermod -g sudo vagrant
</code></pre></div> <p>修改主机名和别名。</p> <div class=highlight><pre><span></span><code>sudo hostnamectl set-hostname ubuntu2204
sudo hostnamectl set-hostname ubuntu2204 --pretty
</code></pre></div> <p>小贴士：</p> <blockquote> <p>如何处理<code>Username is not in the sudoers file. This incident will be reported</code>问题。</p> <p>如果没有初始化<code>root</code>用户的密码，且当前用户也无法执行<code>sudo</code>命令，可以通过下面步骤通过recovery救援模式进行恢复。</p> <ul> <li>按<code>shift</code>键开机，进入grub启动菜单。（VMWare也适用）</li> <li>向下移动高亮条，选择菜单<code>Advanced options for Ubuntu</code>，并确认回车。</li> <li>选择带有<code>recovery mode</code>的内核，确认回车。</li> <li>向下移动高亮条，选择菜单<code>root Drop to root shell prompt</code>，并确认回车。</li> <li>回车确认<code>press Enter for maintenance</code>。</li> <li>出现<code>root</code>的命令提示符后，执行命令<code>mount -o rw,remount /</code>。</li> <li>执行命令<code>passwd</code>给<code>root</code>设定密码。</li> <li>执行命令<code>adduser username sudo</code>把指定用户加入<code>sudo</code>组。</li> <li>执行命令<code>visudo</code>进行必要的修正或修改。</li> </ul> </blockquote> <h3 id=23opensuse>2.3.openSUSE<a class=headerlink href=#23opensuse title="Permanent link"> ¶</a></h3> <p>使用版本：<code>Leap 15.4</code>。</p> <p>选择服务器模式安装，无图形界面。安装中不创建用户。</p> <p>创建用户<code>vagrant</code>，并设置<code>wheel</code>为主要组。</p> <div class=highlight><pre><span></span><code>useradd -m -g wheel -G root -c <span class=s2>&quot;vagrant&quot;</span> vagrant
passwd vagrant
</code></pre></div> <p>执行<code>visudo</code>命令，激活下面一行，添加<code>sudo</code>权限。</p> <div class=highlight><pre><span></span><code><span class=gp>%</span>wheel <span class=nv>ALL</span><span class=o>=(</span>ALL<span class=o>)</span> NOPASSWD: ALL
</code></pre></div> <p>修改主机名和别名。</p> <div class=highlight><pre><span></span><code>sudo hostnamectl set-hostname lizard
sudo hostnamectl set-hostname lizard --pretty
</code></pre></div> <h2 id=3>3.常用命令<a class=headerlink href=#3 title="Permanent link"> ¶</a></h2> <p>说明：</p> <blockquote> <p>默认当前操作用户为<code>vagrant</code>。</p> </blockquote> <h3 id=31>3.1.修改提示符风格<a class=headerlink href=#31 title="Permanent link"> ¶</a></h3> <p>执行下面命令可以看到当前系统的命令提示符格式。</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=nv>$PS1</span>
</code></pre></div> <p>各系统默认设置是有差异的。</p> <div class=highlight><pre><span></span><code><span class=c1># Rocky</span>
<span class=o>[</span><span class=se>\u</span>@<span class=se>\h</span> <span class=se>\W</span><span class=o>]</span><span class=se>\$</span>

<span class=c1># Ubuntu</span>
<span class=se>\[\e</span><span class=o>]</span><span class=m>0</span><span class=p>;</span><span class=se>\u</span>@<span class=se>\h</span>: <span class=se>\w\a\]</span><span class=si>${</span><span class=nv>debian_chroot</span><span class=p>:+(</span><span class=nv>$debian_chroot</span><span class=p>)</span><span class=si>}</span><span class=se>\[\0</span><span class=m>33</span><span class=o>[</span><span class=m>01</span><span class=p>;</span>32m<span class=se>\]\u</span>@<span class=se>\h\[\0</span><span class=m>33</span><span class=o>[</span>00m<span class=se>\]</span>:<span class=se>\[\0</span><span class=m>33</span><span class=o>[</span><span class=m>01</span><span class=p>;</span>34m<span class=se>\]\w\[\0</span><span class=m>33</span><span class=o>[</span>00m<span class=se>\]\$</span>

<span class=c1># openSUSE</span>
<span class=se>\u</span>@<span class=se>\h</span>:<span class=se>\w</span>&gt;
</code></pre></div> <p>小贴士：</p> <blockquote> <p>bash可识别的转义序列有下面这些：</p> <ul> <li><code>\u</code> : 当前用户的账号名称</li> <li><code>\h</code> : 主机名第一部分</li> <li><code>\H</code> : 完整的主机名称</li> <li><code>\w</code> : 完整的工作目录名称（如 "/home/username/mywork"）</li> <li><code>\W</code> : 当前工作目录的"基名 (basename)"（如 "mywork")</li> <li><code>\t</code> : 显示时间为24小时格式，如：HH:MM:SS</li> <li><code>\T</code> : 显示时间为12小时格式</li> <li><code>\A</code> : 显示时间为24小时格式：HH:MM</li> <li><code>\@</code> : 带有 am/pm 的 12 小时制时间</li> <li><code>\d</code> : 代表日期，格式为weekday month date，例如："Mon Aug 1"</li> <li><code>\s</code> : shell 的名称（如 "bash")</li> <li><code>\v</code> : bash的版本（如 2.04）</li> <li><code>\V</code> : bash的版本（包括补丁级别）</li> <li><code>\n</code> : 换行符</li> <li><code>\r</code> : 回车符</li> <li><code>\\</code> : 反斜杠</li> <li><code>\a</code> : ASCII 响铃字符（也可以键入<code>07</code>）</li> <li><code>\e</code> : ASCII 转义字符（也可以键入<code>33</code>)</li> <li><code>\[</code> : 这个序列应该出现在不移动光标的字符序列（如颜色转义序列）之前。它使bash能够正确计算自动换行</li> <li><code>\]</code> : 这个序列应该出现在非打印字符序列之后</li> <li><code>\#</code> : 下达的第几个命令</li> <li><code>\$</code> : 提示字符，如果是root用户，提示符为<code>#</code> ，普通用户则为<code>$</code></li> </ul> </blockquote> <p>在PS1中设置字符颜色的格式为：<code>[\e[F;Bm]........[\e[0m]</code>，其中<code>[\e[0m]</code>作为颜色设定的结束。 其中"F"为字体颜色，编号为30-37，"B"为背景颜色，编号为40-47。</p> <p>小贴士：</p> <blockquote> <p>颜色对照表:</p> <ul> <li>F:30 , B:40 : 黑色</li> <li>F:31 , B:41 : 红色</li> <li>F:32 , B:42 : 绿色</li> <li>F:33 , B:43 : 黄色</li> <li>F:34 , B:44 : 蓝色</li> <li>F:35 , B:45 : 紫红色</li> <li>F:36 , B:46 : 青蓝色</li> <li>F:37 , B:47 : 白色</li> </ul> </blockquote> <p>以下面的PS1设定为例说明颜色设定。</p> <div class=highlight><pre><span></span><code><span class=nv>PS1</span><span class=o>=</span><span class=s2>&quot;\[\e[37;40m\][\[\e[32;40m\]\u\[\e[37;40m\]@\h:\[\e[36;40m\]\w\[\e[0m\]]\$ &quot;</span>
</code></pre></div> <p>拆解分析：</p> <div class=highlight><pre><span></span><code><span class=go>PS1=&quot;</span>
<span class=go>  \[\e[37;40m\]  # 整个提示符区域前景白色，背景黑色</span>
<span class=go>  [              # 显示字符[</span>
<span class=go>  \[\e[32;40m\]  # 修饰后面的\u，前景绿色，背景黑色</span>
<span class=go>  \u             # 显示当前用户的账号名称</span>
<span class=go>  \[\e[37;40m\]  # 修饰后面的字符@和主机名</span>
<span class=go>  @              # 显示字符@</span>
<span class=go>  \h             # 显示主机名</span>
<span class=go>  :              # 显示字符:</span>
<span class=go>  \[\e[36;40m\]  # 修饰后面的\w，前景青蓝色，背景黑色</span>
<span class=go>  \w             # 显示完整工作目录</span>
<span class=go>  \[\e[0m\]      # 结束颜色设定</span>
<span class=go>  ]              # 显示字符]</span>
<span class=go>  \$&quot;            # 如果是root用户，提示符为# ，普通用户则为$</span>
</code></pre></div> <p>对不同主机做不同设置：</p> <div class=highlight><pre><span></span><code><span class=c1># Rocky</span>
<span class=nv>PS1</span><span class=o>=</span><span class=s2>&quot;\[\e[37;40m\][\[\e[32;40m\]\u\[\e[37;40m\]@\h:\[\e[36;40m\]\w\[\e[0m\]]\$ &quot;</span>

<span class=c1># Ubuntu</span>
<span class=nv>PS1</span><span class=o>=</span><span class=s2>&quot;\[\e[37;40m\][\[\e[32;40m\]\u\[\e[33;40m\]@\h:\[\e[36;40m\]\w\[\e[0m\]]\$ &quot;</span>

<span class=c1># openSUSE</span>
<span class=nv>PS1</span><span class=o>=</span><span class=s2>&quot;\[\e[37;40m\][\[\e[32;40m\]\u\[\e[35;40m\]@\h:\[\e[36;40m\]\w\[\e[0m\]]\$ &quot;</span>
</code></pre></div> <p>将上述PS1的设定，追加到当前用户的<code>~/.bashrc</code>文件末尾，以实现对当前用户的提示符风格做持久保存。</p> <h3 id=32linux>3.2.Linux的内外部命令<a class=headerlink href=#32linux title="Permanent link"> ¶</a></h3> <p><em>内部命令</em> (internal command)实际上是shell程序的一部分，包含的是一些比较简单的linux系统命令，这些命令由shell程序识别并在shell程序内部完成运行，通常在linux系统加载运行时shell就被加载并驻留在系统内存中。</p> <p><em>外部命令</em> (external command)是linux系统中的实用程序部分，系统加载时并不随系统一起被加载到内存中，而是在需要时才将其调用内存。通常外部命令的实体并不包含在shell中，但是其命令执行过程是由shell程序控制的。</p> <p>比如：</p> <p>执行命令<code>type -t cp</code>，系统返回结果是<code>file</code>，外部命令。</p> <p>执行命令<code>type -t cd</code>，系统返回结果<code>builtin</code>，内部命令。</p> <p>执行命令<code>enable -a cp</code>，系统返回<code>-bash: enable: cp: not a shell builtin</code>，也可以判断是否为内部命令。</p> <p>对于内部命令，可以通过enable命令来启用或者禁用。</p> <div class=highlight><pre><span></span><code><span class=c1># 禁用cd命令</span>
<span class=nb>enable</span> -n <span class=nb>cd</span>

<span class=c1># 查看所有被禁用的命令</span>
<span class=nb>enable</span> -n

<span class=c1># 启用cd命令</span>
<span class=nb>enable</span> <span class=nb>cd</span>
</code></pre></div> <p>对于命令，可以通过<code>whereis</code>命令来查看路径。</p> <div class=highlight><pre><span></span><code>whereis cp
whereis <span class=nb>cd</span>
</code></pre></div> <h3 id=33cpu>3.3.CPU信息<a class=headerlink href=#33cpu title="Permanent link"> ¶</a></h3> <div class=highlight><pre><span></span><code>lscpu
cat /proc/cpuinfo
</code></pre></div> <h3 id=34>3.4.内存使用状态<a class=headerlink href=#34 title="Permanent link"> ¶</a></h3> <div class=highlight><pre><span></span><code>free
cat /proc/meminfo
</code></pre></div> <h3 id=35>3.5.硬盘和分区情况<a class=headerlink href=#35 title="Permanent link"> ¶</a></h3> <div class=highlight><pre><span></span><code>lsblk
</code></pre></div> <p>openSUSE在VMWare默认安装的状态：</p> <div class=highlight><pre><span></span><code>NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
sda      <span class=m>8</span>:0    <span class=m>0</span>  200G  <span class=m>0</span> disk 
├─sda1   <span class=m>8</span>:1    <span class=m>0</span>    8M  <span class=m>0</span> part 
├─sda2   <span class=m>8</span>:2    <span class=m>0</span>  198G  <span class=m>0</span> part /home
│                               /var
│                               /opt
│                               /usr/local
│                               /root
│                               /tmp
│                               /srv
│                               /boot/grub2/x86_64-efi
│                               /boot/grub2/i386-pc
│                               /.snapshots
│                               /
└─sda3   <span class=m>8</span>:3    <span class=m>0</span>    2G  <span class=m>0</span> part <span class=o>[</span>SWAP<span class=o>]</span>
sr0     <span class=m>11</span>:0    <span class=m>1</span>  <span class=m>3</span>.8G  <span class=m>0</span> rom 
</code></pre></div> <p>Ubuntu在VMWare默认安装的状态：</p> <div class=highlight><pre><span></span><code>NAME                      MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
loop0                       <span class=m>7</span>:0    <span class=m>0</span> <span class=m>61</span>.9M  <span class=m>1</span> loop /snap/core20/1405
loop1                       <span class=m>7</span>:1    <span class=m>0</span> <span class=m>63</span>.2M  <span class=m>1</span> loop /snap/core20/1623
loop2                       <span class=m>7</span>:2    <span class=m>0</span> <span class=m>79</span>.9M  <span class=m>1</span> loop /snap/lxd/22923
loop3                       <span class=m>7</span>:3    <span class=m>0</span>   48M  <span class=m>1</span> loop /snap/snapd/17029
loop4                       <span class=m>7</span>:4    <span class=m>0</span>  103M  <span class=m>1</span> loop /snap/lxd/23541
loop5                       <span class=m>7</span>:5    <span class=m>0</span>   48M  <span class=m>1</span> loop /snap/snapd/17336
sda                         <span class=m>8</span>:0    <span class=m>0</span>   50G  <span class=m>0</span> disk 
├─sda1                      <span class=m>8</span>:1    <span class=m>0</span>    1M  <span class=m>0</span> part 
├─sda2                      <span class=m>8</span>:2    <span class=m>0</span>    2G  <span class=m>0</span> part /boot
└─sda3                      <span class=m>8</span>:3    <span class=m>0</span>   48G  <span class=m>0</span> part 
  └─ubuntu--vg-ubuntu--lv <span class=m>253</span>:0    <span class=m>0</span>   24G  <span class=m>0</span> lvm  /
sr0                        <span class=m>11</span>:0    <span class=m>1</span>  <span class=m>1</span>.4G  <span class=m>0</span> rom 
</code></pre></div> <p>Rocky在VMWare默认安装的状态：</p> <div class=highlight><pre><span></span><code>NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
sda           <span class=m>8</span>:0    <span class=m>0</span>   50G  <span class=m>0</span> disk 
├─sda1        <span class=m>8</span>:1    <span class=m>0</span>    1G  <span class=m>0</span> part /boot
└─sda2        <span class=m>8</span>:2    <span class=m>0</span>   49G  <span class=m>0</span> part 
  ├─rl-root <span class=m>253</span>:0    <span class=m>0</span> <span class=m>45</span>.1G  <span class=m>0</span> lvm  /
  └─rl-swap <span class=m>253</span>:1    <span class=m>0</span>  <span class=m>3</span>.9G  <span class=m>0</span> lvm  <span class=o>[</span>SWAP<span class=o>]</span>
sr0          <span class=m>11</span>:0    <span class=m>1</span>  <span class=m>7</span>.9G  <span class=m>0</span> rom
</code></pre></div> <h3 id=36>3.6.系统架构信息<a class=headerlink href=#36 title="Permanent link"> ¶</a></h3> <div class=highlight><pre><span></span><code>arch
</code></pre></div> <p>openSUSE，Ubuntu和Rocky的返回结果都是<code>x86_64</code>。</p> <h3 id=37>3.7.内核版本<a class=headerlink href=#37 title="Permanent link"> ¶</a></h3> <div class=highlight><pre><span></span><code>uname -r
</code></pre></div> <p>三个发行版返回的结果不尽相同：</p> <div class=highlight><pre><span></span><code><span class=c1># openSUSE</span>
<span class=m>5</span>.14.21-150400.24.21-default

<span class=c1># Ubuntu</span>
<span class=m>5</span>.15.0-52-generic

<span class=c1># Rocky</span>
<span class=m>5</span>.14.0-70.17.1.el9_0.x86_64
</code></pre></div> <h3 id=38>3.8.操作系统版本<a class=headerlink href=#38 title="Permanent link"> ¶</a></h3> <div class=highlight><pre><span></span><code>cat /etc/os-release
cat /etc/issue

<span class=c1># Rocky 9</span>
sudo cat /etc/redhat-release
</code></pre></div> <div class=highlight><pre><span></span><code>lsb-release -a
lsb_release -cs
lsb_release -is
lsb_release -rs
</code></pre></div> <p>在openSUSE中，需要安装<code>lsb-release</code>包。执行<code>lsb-release -a</code>和<code>lsb_release -a</code>返回的结果是一样的。</p> <div class=highlight><pre><span></span><code>sudo zypper <span class=k>in</span> lsb-release
</code></pre></div> <p>在Ubuntu中，需要安装<code>lsb-release</code>包。只能执行<code>lsb_release -a</code>。</p> <div class=highlight><pre><span></span><code>sudo apt install lsb-release
</code></pre></div> <p>在Rocky 9中，找不到<code>lsb-release</code>相关的包。</p> <h3 id=39>3.9.日期和时间<a class=headerlink href=#39 title="Permanent link"> ¶</a></h3> <p>显示默认格式的当前日期。</p> <div class=highlight><pre><span></span><code>date
</code></pre></div> <p>三个系统的默认日期格式略有不同。</p> <div class=highlight><pre><span></span><code><span class=c1># openSUSE</span>
Mon <span class=m>24</span> Oct <span class=m>2022</span> <span class=m>09</span>:28:06 AM CST

<span class=c1># Ubuntu</span>
Mon Oct <span class=m>24</span> <span class=m>01</span>:28:09 AM UTC <span class=m>2022</span>

<span class=c1># Rocky</span>
Mon Oct <span class=m>24</span> <span class=m>09</span>:24:01 AM CST <span class=m>2022</span>
</code></pre></div> <p>显示自1970-01-01 00:00:00 UTC到当前的秒数。</p> <div class=highlight><pre><span></span><code>date +%s
</code></pre></div> <p>将上一命令中的描述转换为系统默认日期格式。</p> <div class=highlight><pre><span></span><code>date -d @<span class=sb>`</span>date +%s<span class=sb>`</span>
date --date<span class=o>=</span>@<span class=s1>&#39;1666575347&#39;</span>
</code></pre></div> <p>显示硬件时钟。</p> <p><code>hwclock</code> 也被称为 Real Time Clock (RTC)。</p> <p>在Rocky9中，<code>clock</code>有一个软连接指向<code>hwclock</code>：<code>/usr/sbin/clock -&gt; hwclock</code>。在openSUSE和Ubuntu中只有<code>hwclock</code>。</p> <div class=highlight><pre><span></span><code>ll /usr/sbin/clock
ll /usr/sbin/hwclock
</code></pre></div> <p>读取RTC时间。</p> <div class=highlight><pre><span></span><code>sudo hwclock --get
sudo hwclock -r
</code></pre></div> <p>校准时间：</p> <ul> <li><code>-s, –hctosys</code> : 以RTC硬件时间来校准系统时间。</li> <li><code>-w, –systohoc</code> : 以系统时间来校准RTC硬件时间。</li> </ul> <p>显示当前系统时区。</p> <div class=highlight><pre><span></span><code>ll /etc/localtime
</code></pre></div> <p>系统可能会返回不同结果，例如：</p> <div class=highlight><pre><span></span><code>/etc/localtime -&gt; /usr/share/zoneinfo/Asia/Shanghai
/etc/localtime -&gt; /usr/share/zoneinfo/Etc/UTC
</code></pre></div> <p>显示当前可以时区列表。</p> <div class=highlight><pre><span></span><code>timedatectl list-timezones
timedatectl list-timezones <span class=p>|</span> grep -i Asia
</code></pre></div> <p>修改当前系统时区。</p> <div class=highlight><pre><span></span><code>sudo timedatectl set-timezone Asia/Shanghai
</code></pre></div> <p>显示日历。</p> <div class=highlight><pre><span></span><code>cal -y
</code></pre></div> <p>openSUSE和Rocky中，使用<code>cal</code>命令需要安装<code>util-linux</code>包。 Ubuntu中，使用<code>cal</code>命令需要安装<code>ncal</code>包。</p> <div class=highlight><pre><span></span><code>sudo apt install ncal

sudo zypper se util-linux
sudo yum install util-linux
</code></pre></div> <h3 id=310>3.10.用户登录信息<a class=headerlink href=#310 title="Permanent link"> ¶</a></h3> <ul> <li><code>whoami</code>：当前登录用户</li> <li><code>who</code>：系统当前所有的登录会话</li> <li><code>w</code>：系统当前所有的登录会话及所作的操作</li> </ul> <p>提示：</p> <blockquote> <p>MOTD is the abbreviation of "Message Of The Day", and it is used to display a message when a remote user login to the Linux Operating system using SSH. Linux administrators often need to display different messages on the login of the user, like displaying custom information about the server or any necessary information.</p> </blockquote> <p>编辑文件<code>/etc/motd</code>可以自定义"Message Of The Day"的信息。</p> <p>Ubuntu 2204新安装后没有这个文件，需要自己创建。 openSUSE新安装后有预定义的信息。 Rocky9 新安装后有该文件，空白文件无内容。</p> <h3 id=311>3.11.会话管理工具<a class=headerlink href=#311 title="Permanent link"> ¶</a></h3> <p><code>screen</code>工具</p> <ul> <li><code>screen -S &lt;your_name&gt;</code> (Create new screen session)</li> <li><code>screen -ls</code> (list current screen sessions)</li> <li><code>screen -x &lt;your_name&gt;</code> (Attach to existing screeen session, sync between both)</li> <li><code>screen -r &lt;your_name&gt;</code> (Reattach existing screen session)</li> </ul> <p><code>tmux</code>工具</p> <p><code>tmux</code> 是指 <em>Terminal Multiplexer</em>.</p> <p>安装<code>tmux</code>工具。</p> <div class=highlight><pre><span></span><code><span class=c1># Rocky</span>
sudo yum install tmux

<span class=c1># Ubuntu</span>
sudo apt install tmux

<span class=c1># openSUSE</span>
sudo zypper <span class=k>in</span> tmux
</code></pre></div> <p>常用方法：</p> <ul> <li><code>tmux new -s &lt;your_name&gt;</code> (Create new session)</li> <li><code>tmux detach</code> (Detach current session)</li> <li><code>tmux ls</code> (list current sessions)</li> <li><code>tmux attach -t &lt;your_name&gt;</code> (Reattach existing session)</li> <li><code>tmux switch -t &lt;your_name&gt;</code> (Switch to another session)</li> <li><code>tmux kill-session -t &lt;your_name&gt;</code> (Kill existing session)</li> <li><code>tmux list-keys</code> (List all short keys)</li> <li><code>tmux list-commands</code> (List commands and parameters)</li> <li><code>tmux info</code> (List all sessions info)</li> <li><code>tmux split-window</code> (Split window)</li> </ul> <h3 id=312echo>3.12.<code>echo</code>命令<a class=headerlink href=#312echo title="Permanent link"> ¶</a></h3> <p><code>echo</code>命令中可以输出变量，如果变量是用是单引号引起来，表示这个变量不用IFS替换！！</p> <ul> <li><code>echo "Home=$HOME"</code>的输出结果是<code>Home=/home/vagrant</code></li> <li><code>echo 'Home=$HOME'</code>的输出结果是<code>Home=$HOME</code></li> </ul> <p><code>echo -e</code>启用<code>\</code>字符的解释功能，比如：</p> <ul> <li><code>echo -e "a\x0Ab"</code>，输出字符<code>a</code>和<code>b</code>，中间<code>\x0A</code>代表十六进制<code>OA</code>（即回车）</li> <li><code>echo -e "\x4A \x41 \x4D \x45 \x53"</code>，输出结果是<code>J A M E S</code></li> </ul> <p>提示：</p> <blockquote> <p>以通过man 7 ascii来查看各进制的含义。</p> </blockquote> <p><code>echo -e</code>输出带颜色字符。</p> <p>示例：</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span> -e <span class=s2>&quot;\e[35m 紫色 \e[0m&quot;</span>
<span class=nb>echo</span> -e <span class=s2>&quot;\e[43m 黄底 \e[0m&quot;</span>
<span class=nb>echo</span> -e <span class=s2>&quot;\e[93m 黑底黄字 \e[0m&quot;</span>
</code></pre></div> <p>参考信息：</p> <blockquote> <p>字体颜色：</p> <ul> <li><code>\e[30m</code>： 黑色</li> <li><code>\e[31m</code>： 红色</li> <li><code>\e[32m</code>： 绿色</li> <li><code>\e[33m</code>： 黄色</li> <li><code>\e[34m</code>： 蓝色</li> <li><code>\e[35m</code>： 紫色</li> <li><code>\e[36m</code>： 青色</li> <li><code>\e[37m</code>： 白色</li> <li><code>\e[40m</code>： 黑底</li> <li><code>\e[41m</code>： 红底</li> <li><code>\e[42m</code>： 绿底</li> <li><code>\e[43m</code>： 黄底</li> <li><code>\e[44m</code>： 蓝底</li> <li><code>\e[45m</code>： 紫底</li> <li><code>\e[46m</code>： 青底</li> <li><code>\e[47m</code>： 白底</li> </ul> <p>背景颜色：</p> <ul> <li><code>\e[90m</code>： 黑底黑字</li> <li><code>\e[91m</code>： 黑底红字</li> <li><code>\e[92m</code>： 黑底绿字</li> <li><code>\e[93m</code>： 黑底黄字</li> <li><code>\e[94m</code>： 黑底蓝字</li> <li><code>\e[95m</code>： 黑底紫字</li> <li><code>\e[96m</code>： 黑底青字</li> <li><code>\e[97m</code>： 黑底白字</li> </ul> <p>控制属性：</p> <ul> <li><code>\e[0m</code> 关闭所有属性</li> <li><code>\e[1m</code> 设置高亮度</li> <li><code>\e[4m</code> 下划线</li> <li><code>\e[5m</code> 闪烁</li> <li><code>\e[7m</code> 反显，撞色显示，显示为白字黑底，或者显示为黑底白字</li> <li><code>\e[8m</code> 消影，字符颜色将会与背景颜色相同</li> <li><code>\e[nA</code> 光标上移 n 行</li> <li><code>\e[nB</code> 光标下移 n 行</li> <li><code>\e[nC</code> 光标右移 n 行</li> <li><code>\e[nD</code> 光标左移 n 行</li> <li><code>\e[y;xH</code> 设置光标位置</li> <li><code>\e[2J</code> 清屏</li> <li><code>\e[K</code> 清除从光标到行尾的内容</li> <li><code>\e[s</code> 保存光标位置</li> <li><code>\e[u</code> 恢复光标位置</li> <li><code>\e[?25</code> 隐藏光标</li> <li><code>\e[?25h</code> 显示光标</li> </ul> </blockquote> <h3 id=313man>3.13.<code>man</code>命令<a class=headerlink href=#313man title="Permanent link"> ¶</a></h3> <p>安装包：</p> <div class=highlight><pre><span></span><code><span class=c1># openSUSE</span>
sudo zypper install man-pages man-pages-zh_CN man-pages-posix

<span class=c1># Rocky</span>
sudo yum install man-pages

<span class=c1># Ubuntu</span>
sudo apt install man-db manpages-posix manpages manpages-zh
sudo apt install manpages-dev manpages-posix-dev
</code></pre></div> <p>更新mandb</p> <div class=highlight><pre><span></span><code>mandb
</code></pre></div> <p>查找某个命令的man信息，例如查找<code>crontab</code>命令的信息。</p> <div class=highlight><pre><span></span><code><span class=c1># 精确查找</span>
man -f crontab
whatis crontab

<span class=c1># 模糊查询</span>
man -k crontab
apropos crontab
</code></pre></div> <p>输出结果如下：</p> <div class=highlight><pre><span></span><code><span class=go>crontab (5)          - files used to schedule the execution of programs</span>
<span class=go>crontab (1)          - maintains crontab files for individual users</span>
<span class=go>crontab (1p)         - schedule periodic background work</span>
</code></pre></div> <p>查找crontab第5章的内容，则可以执行：</p> <div class=highlight><pre><span></span><code><span class=go>man 5 crontab</span>
</code></pre></div> <p>常用快捷键示例s：</p> <ul> <li><code>1G</code> : go to the 1<sup>st</sup> line</li> <li><code>10G</code> : go to the 10<sup>th</sup> line</li> <li><code>G</code> : go to the end of the page</li> <li><code>/^SELinux</code> : search the word SELinux</li> <li><code>/section OPTIONS</code> : go to the section OPTIONS</li> </ul> <h3 id=314tr>3.14.<code>tr</code>命令<a class=headerlink href=#314tr title="Permanent link"> ¶</a></h3> <p><code>tr</code>命令可以对来自标准输入的字符进行替换、压缩和删除。它可以将一组字符变成另一组字符。</p> <p>格式：<code>tr [OPTION]... SET1 [SET2]</code></p> <p>举例：</p> <div class=highlight><pre><span></span><code><span class=c1># 将输入字符由大写转换为小写</span>
$ <span class=nb>echo</span> <span class=s2>&quot;HELLO WORLD&quot;</span> <span class=p>|</span> tr <span class=s1>&#39;A-Z&#39;</span> <span class=s1>&#39;a-z&#39;</span>
hello world

<span class=c1># 删除出现的数字</span>
$ <span class=nb>echo</span> <span class=s2>&quot;HELLO 1234 WORLD 4567&quot;</span> <span class=p>|</span> tr -d <span class=s1>&#39;0-9&#39;</span>
HELLO  WORLD

<span class=c1># 从输入文本中将不在补集中的所有字符删除（只保留数字1，2，3，4，5）</span>
$ <span class=nb>echo</span> <span class=s2>&quot;HELLO 1234 WORLD 4567&quot;</span> <span class=p>|</span> tr -d -c <span class=s1>&#39;1-5&#39;</span>
<span class=m>123445</span>

<span class=c1># 将连续重复的字符以单独一个字符表示</span>
$ <span class=nb>echo</span> <span class=s2>&quot;HELLOOO 1222235555555554&quot;</span> <span class=p>|</span> tr -s <span class=s1>&#39;O215&#39;</span>
HELLO <span class=m>12354</span>

<span class=c1># 删除由于Windows文件造成的&#39;^M&#39;字符</span>
$ cat file.txt <span class=p>|</span> tr -s <span class=s1>&#39;\r&#39;</span> <span class=s1>&#39;\n&#39;</span> &gt; new.txt
$ cat file.txt <span class=p>|</span> tr -d <span class=s1>&#39;\r&#39;</span> &gt; new.txt

<span class=c1># 将换行符替换成制表符</span>
$ cat file.txt <span class=p>|</span> tr <span class=s1>&#39;\n&#39;</span> <span class=s1>&#39;\t&#39;</span> &gt; new.txt

<span class=c1># 将大写字母转换为小写字母</span>
$ <span class=nb>echo</span> <span class=s2>&quot;HELLO 1234 WORLD 4567&quot;</span> <span class=p>|</span> tr <span class=s1>&#39;[:upper:]&#39;</span> <span class=s1>&#39;[:lower:]&#39;</span>
hello <span class=m>1234</span> world <span class=m>4567</span>
</code></pre></div> <h3 id=315tee>3.15.<code>tee</code>命令<a class=headerlink href=#315tee title="Permanent link"> ¶</a></h3> <p><code>tee</code>命令基于标准输入读取数据，标准输出或文件写入数据。</p> <p>举例：</p> <div class=highlight><pre><span></span><code><span class=c1># ping命令的输出，不仅输出到屏幕，也同时写入文件output.txt中（覆盖式写入）。</span>
$ ping www.baidu.com <span class=p>|</span> tee output.txt

<span class=c1># ping命令的输出，不仅输出到屏幕，也同时写入文件output.txt中（追加式写入）。</span>
$ ping www.baidu.com <span class=p>|</span> tee -a output.txt

<span class=c1># ping命令的输出，不仅输出到屏幕，也同时写入多个文件中（覆盖式写入）。</span>
$ ping www.baidu.com <span class=p>|</span> tee output1.txt output2.txt output3.txt

<span class=c1># ls命令的输出写入文件output.txt中，并作为wc命令的输入。</span>
$ ls *.txt <span class=p>|</span> tee output.txt <span class=p>|</span> wc -l
<span class=m>4</span>
<span class=c1># cat output.txt</span>
f1.txt
f2.txt
output.txt
test.txt
</code></pre></div> <p>技巧：</p> <blockquote> <p>在vi使用中，通过<code>tee</code>命令提升文件写入权限。</p> </blockquote> <p>比如非root用户执行<code>vi /etc/hosts</code>，在vi中使用<code>:w !sudo tee %</code>可以提高权限保存这个文件。</p> <h3 id=316lang>3.16.语言环境LANG<a class=headerlink href=#316lang title="Permanent link"> ¶</a></h3> <p>安装语言包。</p> <div class=highlight><pre><span></span><code><span class=c1># Ubuntu</span>
sudo apt install locales-all

<span class=c1># Rocky</span>
sudo yum install glibc-langpack-zh.x86_64

<span class=c1># openSUSE</span>
sudo zypper install glibc-locale glibc-locale-32bit glibc-locale-base
</code></pre></div> <p>查看当前语言设置：</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=nv>$LANG</span>

locale -a
locale -k LC_TIME

localectl status
localectl list-locales
</code></pre></div> <p>全局locale配置(Global locale settings)。</p> <div class=highlight><pre><span></span><code><span class=c1># openSUSE &amp; Rocky</span>
sudo cat /etc/locale.conf

<span class=c1># Ubuntu</span>
sudo cat /etc/default/locale
</code></pre></div> <p>临时修改当前session的locale。</p> <div class=highlight><pre><span></span><code><span class=nv>LANG</span><span class=o>=</span><span class=s2>&quot;zh_CN.utf8&quot;</span> 
</code></pre></div> <p>永久修改locale设置。</p> <div class=highlight><pre><span></span><code>sudo localectl set-locale <span class=nv>LANG</span><span class=o>=</span>zh_CN.utf8
</code></pre></div> <p>修改回原设置。</p> <div class=highlight><pre><span></span><code>sudo localectl set-locale <span class=nv>LANG</span><span class=o>=</span>en_US.utf8
</code></pre></div> <p>Tips:</p> <blockquote> <ul> <li>Mac OS ssh登陆Linux是终端提示<code>/usr/bin/manpath: can't set the locale; make sure $LC_* and $LANG are correct</code></li> <li>解决方法：在本地mac电脑上修改/etc/ssh/ssh_config或者/etc/ssh/ssh_config文件，删除掉或者注释掉这一行配置内容 <code># SendEnv LANG LC_*</code>。</li> <li>如果使用的是<code>Iterm2</code>，可以打开<code>iterm2</code>的<code>preferences</code> -&gt; <code>Profiles</code> -&gt; <code>Terminal</code>菜单里关闭<code>Set locale variables automatically</code>选项。</li> </ul> </blockquote> <h3 id=317>3.17.符号<code>$</code>用法<a class=headerlink href=#317 title="Permanent link"> ¶</a></h3> <p>符号<code>$</code>的用法：</p> <ul> <li><code>$</code>，获取变零值。</li> </ul> <div class=highlight><pre><span></span><code><span class=nv>x</span><span class=o>=</span><span class=m>1</span>
<span class=nb>echo</span> <span class=nv>$x</span>
<span class=nb>echo</span> <span class=s2>&quot;</span><span class=nv>$x</span><span class=s2>&quot;</span>
</code></pre></div> <p>建议使用"$x"，以避免shell编程中产生歧义。如下例：</p> <div class=highlight><pre><span></span><code><span class=nv>s</span><span class=o>=</span><span class=s2>&quot;this is a string&quot;</span>
<span class=nb>echo</span> <span class=nv>$s</span>
<span class=nb>echo</span> <span class=s2>&quot;this is a string&quot;</span>
</code></pre></div> <p>执行<code>[ $s == "this is a string" ]</code>会报错，这是实际生成的比较式<code>this is a string == "this is a string"</code>。 我们预期的是<code>"this is a string" == "this is a string"</code>，所以需要改成<code>[ "$s" == "this is a string" ]</code>。</p> <ul> <li><code>$0</code>, <code>$1</code>, <code>$n</code>, <code>$#</code>：</li> </ul> <p>生成一个测试脚本。</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=s1>&#39;echo $0 $1 $2 $#&#39;</span> &gt; test.sh
chmod <span class=m>755</span> test.sh
</code></pre></div> <p>验证各个参数位置。</p> <div class=highlight><pre><span></span><code>./test.sh a b c d e
</code></pre></div> <p>输出结果：</p> <div class=highlight><pre><span></span><code>./test.sh a b <span class=m>5</span>
</code></pre></div> <p>结论：</p> <ul> <li><code>$0</code>输出脚本文件名；</li> <li><code>$1</code>输出第一个参数；</li> <li><code>$2</code>输出第二个参数；</li> <li> <p><code>$#</code>输出参数个数。</p> </li> <li> <p><code>${}</code></p> </li> </ul> <p><code>${}</code>用于区分变量的边界。</p> <p>下面例子中，<code>$abc</code>无结果输出，<code>${a}bc</code>输出结果<code>stringbc</code>，通过{}指定了某个字符属于变量。</p> <div class=highlight><pre><span></span><code><span class=nv>a</span><span class=o>=</span><span class=s2>&quot;string&quot;</span>
<span class=nb>echo</span> <span class=si>${</span><span class=nv>a</span><span class=si>}</span>bc
<span class=nb>echo</span> <span class=nv>$abc</span>
</code></pre></div> <ul> <li><code>${#}</code></li> </ul> <p><code>${#}</code>是返回变量值的长度。</p> <div class=highlight><pre><span></span><code><span class=nv>s</span><span class=o>=</span><span class=s1>&#39;this is a string&#39;</span>
<span class=nb>echo</span> <span class=s2>&quot;</span><span class=nv>$s</span><span class=s2>&quot;</span>
<span class=nb>echo</span> <span class=s2>&quot;</span><span class=si>${#</span><span class=nv>s</span><span class=si>}</span><span class=s2>&quot;</span>
</code></pre></div> <p>命令<code>echo "${#s}"</code>输出结果是字串<code>this is a string</code>的长度<code>16</code>。</p> <ul> <li><code>$?</code></li> </ul> <p><code>$?</code>是返回上一命令是否成功的状态，<code>0</code>代表成功，非零代表失败。</p> <p><code>ls</code>是一个命令，所以返回值是<code>0</code>。<code>tom</code>是一个不存在的命令，则返回<code>127</code>。</p> <div class=highlight><pre><span></span><code>ls
<span class=nb>echo</span> <span class=nv>$?</span>

tom
<span class=nb>echo</span> <span class=nv>$?</span>
</code></pre></div> <ul> <li><code>$()</code></li> </ul> <p><code>$()</code>等同于反引号。<code>echo $(ls)</code>等同于执行<code>ls</code>命令。</p> <p><code>$()</code>的弊端是，不是所有的类unix系统都支持，反引号是肯定支持的。</p> <p><code>$()</code>的优势是直观，在转移处理时，比反引号直观容易些。</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=k>$(</span>ls<span class=k>)</span>
<span class=c1># test.sh</span>

<span class=nb>echo</span> <span class=k>$(</span>cat <span class=k>$(</span>ls<span class=k>))</span>
<span class=c1># echo $0 $1 $2 $#</span>
</code></pre></div> <p>上述嵌套格式中，ls命令的输出，是cat命令的输入，可以进行多层嵌套，内层命令的输出是外层命令的输入。</p> <ul> <li><code>$[]</code></li> </ul> <p><code>$[]</code>是表达式计算。</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span> $<span class=o>[</span><span class=m>3</span> + <span class=m>2</span><span class=o>]</span>
</code></pre></div> <ul> <li><code>$-</code></li> </ul> <p><code>$-</code>显示shell当前所使用的选项。</p> <p>执行<code>echo $-</code>，输出结果<code>himBHs</code>。himBH每一个字符是一个shell的选项。</p> <ul> <li><code>$!</code></li> </ul> <p><code>$!</code>获取最后一个运行的后台进程的pid。</p> <p>比如执行<code>cat test.sh &amp;</code>，结果中会包含一个pid号，马上着执行<code>echo $!</code>，如果2个命令间隔之间没有其他后台进程执行，则可以得到和前面一致的pid号。</p> <ul> <li><code>!$</code></li> </ul> <p><code>!$</code>返回上一条命令的最后一个参数。</p> <p>执行<code>./test.sh a b c iamhere</code>，得到结果<code>./test.sh a b 4</code>。 执行<code>echo !$</code>，得到2个结果，<code>echo iamhere</code>和<code>iamhere</code>。</p> <ul> <li><code>!!</code></li> </ul> <p><code>!!</code>输出上一条命令，并执行。</p> <p><code>!!</code>会先输出上一条命令<code>cat test.sh</code>，然后再执行这条命令，第二行即执行结果。</p> <div class=highlight><pre><span></span><code><span class=o>[</span>vagrant@lizard:~<span class=o>]</span>$ cat test.sh 
<span class=nb>echo</span> <span class=nv>$0</span> <span class=nv>$1</span> <span class=nv>$2</span> <span class=nv>$#</span>
<span class=o>[</span>vagrant@lizard:~<span class=o>]</span>$ !!
cat test.sh 
<span class=nb>echo</span> <span class=nv>$0</span> <span class=nv>$1</span> <span class=nv>$2</span> <span class=nv>$#</span>
</code></pre></div> <ul> <li><code>$$</code></li> </ul> <p><code>$$</code> 输出当前进程的pid。</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=nv>$$</span>
</code></pre></div> <ul> <li><code>$@</code> &amp; <code>$*</code></li> </ul> <p><code>$@</code>和<code>$*</code>是对传入参数的不同体现，<code>$@</code>是以变量形式引用传入参数，<code>$*</code>是以数组的形式引用传入参数。</p> <p>创建一个文件<code>script.sh</code>包含下面的脚本。并添加执行权限<code>chmod 755 script.sh</code>。</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=s1>&#39;$@以变量方式引用传入参数：&#39;</span>

<span class=k>for</span> x <span class=k>in</span> <span class=s2>&quot;</span><span class=nv>$@</span><span class=s2>&quot;</span>
<span class=k>do</span>
  <span class=nb>echo</span> <span class=nv>$x</span>
<span class=k>done</span>

<span class=nb>echo</span> <span class=s1>&#39;$*以数组的形式引用传入参数：&#39;</span>

<span class=k>for</span> x <span class=k>in</span> <span class=s2>&quot;</span><span class=nv>$*</span><span class=s2>&quot;</span>
<span class=k>do</span>
  <span class=nb>echo</span> <span class=nv>$x</span>
<span class=k>done</span>
</code></pre></div> <p>输出结果：</p> <div class=highlight><pre><span></span><code><span class=nv>$@</span>以变量方式引用传入参数：
a
b
<span class=m>3</span>
<span class=m>5</span>
d
<span class=nv>$*</span>以数组的形式引用传入参数：
a b <span class=m>3</span> <span class=m>5</span> d
</code></pre></div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../ class="md-footer__link md-footer__link--prev" aria-label="Previous: Index" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Index </div> </div> </a> <a href=../02-filesystem/ class="md-footer__link md-footer__link--next" aria-label="Next: 第二章 文件系统" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> 第二章 文件系统 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.instant", "navigation.top"], "search": "../../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.2ab50757.min.js></script> </body> </html>