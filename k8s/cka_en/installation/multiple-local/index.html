<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://huyuhui001.github.io/mySite/k8s/cka_en/installation/multiple-local/ rel=canonical><link href=../single-local/ rel=prev><link href=../aliyun-ubuntu/ rel=next><link rel=icon href=../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.9"><title>Multiple Nodes Installation - UPSkilling</title><link rel=stylesheet href=../../../../assets/stylesheets/main.f2e4d321.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../extra.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=green> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#multiple-nodes-installation class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=UPSkilling class="md-header__button md-logo" aria-label=UPSkilling data-md-component=logo> <img src=../../../../assets/logo.jpg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> UPSkilling </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Multiple Nodes Installation </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/huyuhui001/mySite title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> huyuhui001/mySite </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../.. class=md-tabs__link> UPSkilling </a> </li> <li class=md-tabs__item> <a href=../../../../linux/ class=md-tabs__link> Linux </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../ class=md-tabs__link> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../../../python/ class=md-tabs__link> Python </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=UPSkilling class="md-nav__button md-logo" aria-label=UPSkilling data-md-component=logo> <img src=../../../../assets/logo.jpg alt=logo> </a> UPSkilling </label> <div class=md-nav__source> <a href=https://github.com/huyuhui001/mySite title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> huyuhui001/mySite </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> UPSkilling </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> UPSkilling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. class=md-nav__link> <span class=md-ellipsis> Index </span> </a> </li> <li class=md-nav__item> <a href=../../../../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../linux/ class=md-nav__link> <span class=md-ellipsis> Index </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Linux SRE </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Linux SRE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../linux/SRE/01-fundamentals/ class=md-nav__link> <span class=md-ellipsis> 第一章 Linux基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/SRE/02-filesystem/ class=md-nav__link> <span class=md-ellipsis> 第二章 文件系统 </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/SRE/03-identity-security/ class=md-nav__link> <span class=md-ellipsis> 第三章 身份与安全 </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/SRE/04-TextTools/ class=md-nav__link> <span class=md-ellipsis> 第四章 文本编辑 </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/SRE/05-RegExpress/ class=md-nav__link> <span class=md-ellipsis> 第五章 正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/SRE/06-FileLookup/ class=md-nav__link> <span class=md-ellipsis> 第六章 文件查找 </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/SRE/07-FilePacking/ class=md-nav__link> <span class=md-ellipsis> 第七章 文件打包和解包 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> SUSE Linux Administration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> SUSE Linux Administration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../linux/Administration/01/ class=md-nav__link> <span class=md-ellipsis> Linux File System Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/Administration/02/ class=md-nav__link> <span class=md-ellipsis> Useful Commands </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/Administration/03/ class=md-nav__link> <span class=md-ellipsis> Shell </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> SUSE Enterprise Storage Foundation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> SUSE Enterprise Storage Foundation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../linux/SES/linux_ses_memo/ class=md-nav__link> <span class=md-ellipsis> SUSE Enterprise Storage Foundation </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/SES/linux_ses_demo/ class=md-nav__link> <span class=md-ellipsis> SUSE Enterprise Storage Basic Operation </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ class=md-nav__link> <span class=md-ellipsis> Index </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2 checked> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> CKA Learning Memo </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=true> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> CKA Learning Memo </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1 checked> <label class=md-nav__link for=__nav_3_2_1 id=__nav_3_2_1_label tabindex=0> <span class=md-ellipsis> Installation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_2_1> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../single-local/ class=md-nav__link> <span class=md-ellipsis> Single Node Installation </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Multiple Nodes Installation </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Multiple Nodes Installation </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#local-vm-setting class=md-nav__link> <span class=md-ellipsis> Local VM setting </span> </a> </li> <li class=md-nav__item> <a href=#ubuntu-post-installation class=md-nav__link> <span class=md-ellipsis> Ubuntu Post Installation </span> </a> </li> <li class=md-nav__item> <a href=#install-containerd class=md-nav__link> <span class=md-ellipsis> Install Containerd </span> </a> </li> <li class=md-nav__item> <a href=#install-nerdctl class=md-nav__link> <span class=md-ellipsis> Install nerdctl </span> </a> </li> <li class=md-nav__item> <a href=#install-kubernetes class=md-nav__link> <span class=md-ellipsis> Install Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=#setup-master-node class=md-nav__link> <span class=md-ellipsis> Setup Master Node </span> </a> <nav class=md-nav aria-label="Setup Master Node"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kubeadm-init class=md-nav__link> <span class=md-ellipsis> kubeadm init </span> </a> </li> <li class=md-nav__item> <a href=#kubeconfig-file class=md-nav__link> <span class=md-ellipsis> kubeconfig file </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#install-calico class=md-nav__link> <span class=md-ellipsis> Install Calico </span> </a> </li> <li class=md-nav__item> <a href=#setup-work-nodes class=md-nav__link> <span class=md-ellipsis> Setup Work Nodes </span> </a> </li> <li class=md-nav__item> <a href=#check-cluster-status class=md-nav__link> <span class=md-ellipsis> Check Cluster Status </span> </a> </li> <li class=md-nav__item> <a href=#post-installation class=md-nav__link> <span class=md-ellipsis> Post Installation </span> </a> <nav class=md-nav aria-label="Post Installation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bash-autocomplete class=md-nav__link> <span class=md-ellipsis> Bash Autocomplete </span> </a> </li> <li class=md-nav__item> <a href=#alias class=md-nav__link> <span class=md-ellipsis> Alias </span> </a> </li> <li class=md-nav__item> <a href=#update-default-context class=md-nav__link> <span class=md-ellipsis> Update Default Context </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#install-helm class=md-nav__link> <span class=md-ellipsis> Install Helm </span> </a> </li> <li class=md-nav__item> <a href=#reset-cluster class=md-nav__link> <span class=md-ellipsis> Reset cluster </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../aliyun-ubuntu/ class=md-nav__link> <span class=md-ellipsis> Installation on Aliyun ECS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2> <label class=md-nav__link for=__nav_3_2_2 id=__nav_3_2_2_label tabindex=0> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../foundamentals/docker/ class=md-nav__link> <span class=md-ellipsis> Fundamentals </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_3> <label class=md-nav__link for=__nav_3_2_3 id=__nav_3_2_3_label tabindex=0> <span class=md-ellipsis> Foundamentals </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_3> <span class="md-nav__icon md-icon"></span> Foundamentals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../foundamentals/memo/ class=md-nav__link> <span class=md-ellipsis> Memo </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/basics/ class=md-nav__link> <span class=md-ellipsis> kubectl basics </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_4> <label class=md-nav__link for=__nav_3_2_4 id=__nav_3_2_4_label tabindex=0> <span class=md-ellipsis> Core Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_4> <span class="md-nav__icon md-icon"></span> Core Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../foundamentals/pod/ class=md-nav__link> <span class=md-ellipsis> Pod </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/deployment/ class=md-nav__link> <span class=md-ellipsis> Deployment </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/service/ class=md-nav__link> <span class=md-ellipsis> Service </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_5> <label class=md-nav__link for=__nav_3_2_5 id=__nav_3_2_5_label tabindex=0> <span class=md-ellipsis> Application Modeling </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_5> <span class="md-nav__icon md-icon"></span> Application Modeling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../foundamentals/namespace/ class=md-nav__link> <span class=md-ellipsis> Namespace </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/statefulset/ class=md-nav__link> <span class=md-ellipsis> StatefulSet </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/daemonset/ class=md-nav__link> <span class=md-ellipsis> DaemonSet </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/job/ class=md-nav__link> <span class=md-ellipsis> Job and Cronjob </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/secrets/ class=md-nav__link> <span class=md-ellipsis> Secrets </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/persistence/ class=md-nav__link> <span class=md-ellipsis> Persistence </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/rbac/ class=md-nav__link> <span class=md-ellipsis> Role Based Access Control (RBAC) </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/ingress/ class=md-nav__link> <span class=md-ellipsis> Ingress </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_6> <label class=md-nav__link for=__nav_3_2_6 id=__nav_3_2_6_label tabindex=0> <span class=md-ellipsis> Advanced Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_6> <span class="md-nav__icon md-icon"></span> Advanced Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../foundamentals/scheduling/ class=md-nav__link> <span class=md-ellipsis> Scheduling </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/hpa/ class=md-nav__link> <span class=md-ellipsis> Horizontal Pod Autoscaling </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/policy/ class=md-nav__link> <span class=md-ellipsis> Policy </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/networkpolicy/ class=md-nav__link> <span class=md-ellipsis> Network Policy </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/clustermgt/ class=md-nav__link> <span class=md-ellipsis> Cluster Management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_7> <label class=md-nav__link for=__nav_3_2_7 id=__nav_3_2_7_label tabindex=0> <span class=md-ellipsis> Operating Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_7> <span class="md-nav__icon md-icon"></span> Operating Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../foundamentals/troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/healthcheck/ class=md-nav__link> <span class=md-ellipsis> Health Check </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/helming/ class=md-nav__link> <span class=md-ellipsis> Helming </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_8> <label class=md-nav__link for=__nav_3_2_8 id=__nav_3_2_8_label tabindex=0> <span class=md-ellipsis> Topics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_8> <span class="md-nav__icon md-icon"></span> Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../foundamentals/casestudy-operation-resources/ class=md-nav__link> <span class=md-ellipsis> Operations on Resources </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/casestudy-health-check/ class=md-nav__link> <span class=md-ellipsis> Health Check </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/casestudy-calico/ class=md-nav__link> <span class=md-ellipsis> Calico Installation </span> </a> </li> <li class=md-nav__item> <a href=../../foundamentals/kyma/ class=md-nav__link> <span class=md-ellipsis> Kyma </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> CKA学习笔记 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> CKA学习笔记 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_1> <label class=md-nav__link for=__nav_3_3_1 id=__nav_3_3_1_label tabindex=0> <span class=md-ellipsis> 安装 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_1> <span class="md-nav__icon md-icon"></span> 安装 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cka_cn/installation/single-local/ class=md-nav__link> <span class=md-ellipsis> 单节点虚拟机安装Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/installation/multiple-local/ class=md-nav__link> <span class=md-ellipsis> 多节点虚拟机安装Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/installation/aliyun-ubuntu/ class=md-nav__link> <span class=md-ellipsis> 阿里云ECS安装Kubernetes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_2> <label class=md-nav__link for=__nav_3_3_2 id=__nav_3_3_2_label tabindex=0> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_2> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/docker/ class=md-nav__link> <span class=md-ellipsis> Docker基础 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_3> <label class=md-nav__link for=__nav_3_3_3 id=__nav_3_3_3_label tabindex=0> <span class=md-ellipsis> 基础知识 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_3> <span class="md-nav__icon md-icon"></span> 基础知识 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/memo/ class=md-nav__link> <span class=md-ellipsis> Kubernetes随笔 </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/overview/ class=md-nav__link> <span class=md-ellipsis> Kubernetes集群概览 </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/basics/ class=md-nav__link> <span class=md-ellipsis> kubectl基础 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_4> <label class=md-nav__link for=__nav_3_3_4 id=__nav_3_3_4_label tabindex=0> <span class=md-ellipsis> 核心概念 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_4> <span class="md-nav__icon md-icon"></span> 核心概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/pod/ class=md-nav__link> <span class=md-ellipsis> Pod </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/deployment/ class=md-nav__link> <span class=md-ellipsis> Deployment </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/service/ class=md-nav__link> <span class=md-ellipsis> Service </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_5> <label class=md-nav__link for=__nav_3_3_5 id=__nav_3_3_5_label tabindex=0> <span class=md-ellipsis> 应用体系 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_5> <span class="md-nav__icon md-icon"></span> 应用体系 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/namespace/ class=md-nav__link> <span class=md-ellipsis> Namespace </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/statefulset/ class=md-nav__link> <span class=md-ellipsis> StatefulSet </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/daemonset/ class=md-nav__link> <span class=md-ellipsis> DaemonSet </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/job/ class=md-nav__link> <span class=md-ellipsis> Job and Cronjob </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/secrets/ class=md-nav__link> <span class=md-ellipsis> secrets </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/persistence/ class=md-nav__link> <span class=md-ellipsis> Persistence </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/rbac/ class=md-nav__link> <span class=md-ellipsis> RBAC鉴权 </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/ingress/ class=md-nav__link> <span class=md-ellipsis> Ingress-nginx </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_6> <label class=md-nav__link for=__nav_3_3_6 id=__nav_3_3_6_label tabindex=0> <span class=md-ellipsis> 进阶概念 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_6> <span class="md-nav__icon md-icon"></span> 进阶概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/scheduling/ class=md-nav__link> <span class=md-ellipsis> Scheduling </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/hpa/ class=md-nav__link> <span class=md-ellipsis> Horizontal Pod Autoscaling (HPA) </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/policy/ class=md-nav__link> <span class=md-ellipsis> Policy </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/networkpolicy/ class=md-nav__link> <span class=md-ellipsis> Network Policy </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/clustermgt/ class=md-nav__link> <span class=md-ellipsis> Cluster Management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_7> <label class=md-nav__link for=__nav_3_3_7 id=__nav_3_3_7_label tabindex=0> <span class=md-ellipsis> 日常维护 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_7> <span class="md-nav__icon md-icon"></span> 日常维护 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/healthcheck/ class=md-nav__link> <span class=md-ellipsis> 健康检查 </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/helming/ class=md-nav__link> <span class=md-ellipsis> Helm Chart </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_8> <label class=md-nav__link for=__nav_3_3_8 id=__nav_3_3_8_label tabindex=0> <span class=md-ellipsis> 主题讨论 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_8> <span class="md-nav__icon md-icon"></span> 主题讨论 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/casestudy-operation-resources/ class=md-nav__link> <span class=md-ellipsis> Kubernetes资源常见操作 </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/casestudy-health-check/ class=md-nav__link> <span class=md-ellipsis> 健康检查 </span> </a> </li> <li class=md-nav__item> <a href=../../../cka_cn/foundamentals/casestudy-calico/ class=md-nav__link> <span class=md-ellipsis> 安装Calico </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Demos </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../demo/cap_on_kyma/ class=md-nav__link> <span class=md-ellipsis> Build CAP Application on Kyma </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../python/ class=md-nav__link> <span class=md-ellipsis> Index </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Python基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Python基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../python/Foundation/ch00/ class=md-nav__link> <span class=md-ellipsis> Python安装 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/Foundation/ch01/ class=md-nav__link> <span class=md-ellipsis> Python语言基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/Foundation/ch02/ class=md-nav__link> <span class=md-ellipsis> Python打包和解包 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/Foundation/ch03/ class=md-nav__link> <span class=md-ellipsis> Python内置函数及文件 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/Foundation/ch04/ class=md-nav__link> <span class=md-ellipsis> Python面向对象概念 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/Foundation/ch05/ class=md-nav__link> <span class=md-ellipsis> Python面向对象三大特性 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/Foundation/Algorithms/ class=md-nav__link> <span class=md-ellipsis> Python数据结构和算法 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Python数据分析基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Python数据分析基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch01/ class=md-nav__link> <span class=md-ellipsis> NumPy基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch10/ class=md-nav__link> <span class=md-ellipsis> NumPy进阶 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch02/ class=md-nav__link> <span class=md-ellipsis> Pandas入门 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch03/ class=md-nav__link> <span class=md-ellipsis> 数据载入、存储及文件格式 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch04/ class=md-nav__link> <span class=md-ellipsis> 数据清洗与准备 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch05/ class=md-nav__link> <span class=md-ellipsis> 数据规整：连接、联合与重塑 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch06/ class=md-nav__link> <span class=md-ellipsis> 绘图与可视化 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch07/ class=md-nav__link> <span class=md-ellipsis> 数据聚合与分组操作 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch08/ class=md-nav__link> <span class=md-ellipsis> 时间序列 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch09/ class=md-nav__link> <span class=md-ellipsis> 高阶pandas </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataAnalysis/ch11/ class=md-nav__link> <span class=md-ellipsis> Python建模库介绍 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> 数据结构和算法 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 数据结构和算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../python/DataStructure/01_PythonFundmantal/ class=md-nav__link> <span class=md-ellipsis> 基础知识回顾 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataStructure/02_CollectionsOverview/ class=md-nav__link> <span class=md-ellipsis> 多项集的概述 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataStructure/03_TimeComplexity/ class=md-nav__link> <span class=md-ellipsis> 搜索、排序以及复杂度分析 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataStructure/04_ArrayChain/ class=md-nav__link> <span class=md-ellipsis> 数组和链接结构 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataStructure/05_InterfacePolymorphism/ class=md-nav__link> <span class=md-ellipsis> 接口、实现和多态 </span> </a> </li> <li class=md-nav__item> <a href=../../../../python/DataStructure/06_InheritanceAbstractClass/ class=md-nav__link> <span class=md-ellipsis> 继承与抽象类 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> Demos </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../python/Demo/CourseSystem/ class=md-nav__link> <span class=md-ellipsis> 选课系统 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#local-vm-setting class=md-nav__link> <span class=md-ellipsis> Local VM setting </span> </a> </li> <li class=md-nav__item> <a href=#ubuntu-post-installation class=md-nav__link> <span class=md-ellipsis> Ubuntu Post Installation </span> </a> </li> <li class=md-nav__item> <a href=#install-containerd class=md-nav__link> <span class=md-ellipsis> Install Containerd </span> </a> </li> <li class=md-nav__item> <a href=#install-nerdctl class=md-nav__link> <span class=md-ellipsis> Install nerdctl </span> </a> </li> <li class=md-nav__item> <a href=#install-kubernetes class=md-nav__link> <span class=md-ellipsis> Install Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=#setup-master-node class=md-nav__link> <span class=md-ellipsis> Setup Master Node </span> </a> <nav class=md-nav aria-label="Setup Master Node"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kubeadm-init class=md-nav__link> <span class=md-ellipsis> kubeadm init </span> </a> </li> <li class=md-nav__item> <a href=#kubeconfig-file class=md-nav__link> <span class=md-ellipsis> kubeconfig file </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#install-calico class=md-nav__link> <span class=md-ellipsis> Install Calico </span> </a> </li> <li class=md-nav__item> <a href=#setup-work-nodes class=md-nav__link> <span class=md-ellipsis> Setup Work Nodes </span> </a> </li> <li class=md-nav__item> <a href=#check-cluster-status class=md-nav__link> <span class=md-ellipsis> Check Cluster Status </span> </a> </li> <li class=md-nav__item> <a href=#post-installation class=md-nav__link> <span class=md-ellipsis> Post Installation </span> </a> <nav class=md-nav aria-label="Post Installation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bash-autocomplete class=md-nav__link> <span class=md-ellipsis> Bash Autocomplete </span> </a> </li> <li class=md-nav__item> <a href=#alias class=md-nav__link> <span class=md-ellipsis> Alias </span> </a> </li> <li class=md-nav__item> <a href=#update-default-context class=md-nav__link> <span class=md-ellipsis> Update Default Context </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#install-helm class=md-nav__link> <span class=md-ellipsis> Install Helm </span> </a> </li> <li class=md-nav__item> <a href=#reset-cluster class=md-nav__link> <span class=md-ellipsis> Reset cluster </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=multiple-nodes-installation>Multiple Nodes Installation<a class=headerlink href=#multiple-nodes-installation title="Permanent link"> ¶</a></h1> <h2 id=local-vm-setting>Local VM setting<a class=headerlink href=#local-vm-setting title="Permanent link"> ¶</a></h2> <p>VMWare Setting.</p> <ul> <li>VMnet1: host-only, subnet: 192.168.150.0/24</li> <li>VMnet8: NAT, subnet: 11.0.1.0/24</li> </ul> <p>Create guest machine with VMWare Player.</p> <ul> <li>4 GB RAM</li> <li>1 CPUs with 2 Cores</li> <li>Ubuntu Server 22.04</li> <li>NAT</li> </ul> <p>Info:</p> <ul> <li>Kubernetes running on Containerd.</li> </ul> <h2 id=ubuntu-post-installation>Ubuntu Post Installation<a class=headerlink href=#ubuntu-post-installation title="Permanent link"> ¶</a></h2> <p>Info:</p> <ul> <li>Log onto each VM with the account created during Ubuntu installation, and perform below tasks on every VM.</li> </ul> <p>Create user <code>vagrant</code> on all guests.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>adduser<span class=w> </span>vagrant
sudo<span class=w> </span>usermod<span class=w> </span>-aG<span class=w> </span>adm,sudo,syslog,cdrom,dip,plugdev,lxd,root<span class=w> </span>vagrant
sudo<span class=w> </span>passwd<span class=w> </span>vagrant
</code></pre></div> <p>Set password for <code>root</code> on all guests.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>passwd<span class=w> </span>root
</code></pre></div> <p>Enable root ssh logon.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>vi<span class=w> </span>/etc/ssh/sshd_config
</code></pre></div> <p>Update parameter <code>PermitRootLogin</code> from <code>prohibit-password</code> to <code>yes</code>.</p> <div class=highlight><pre><span></span><code><span class=go>PermitRootLogin yes</span>
<span class=gp>#</span>PermitRootLogin<span class=w> </span>prohibit-password
</code></pre></div> <p>Restart the sshd service.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>systemctl<span class=w> </span>restart<span class=w> </span>sshd
</code></pre></div> <p>Change host name, e.g., <code>ubu1</code>.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>hostnamectl<span class=w> </span>set-hostname<span class=w> </span>ubu1
sudo<span class=w> </span>hostnamectl<span class=w> </span>set-hostname<span class=w> </span>ubu1<span class=w> </span>--pretty
</code></pre></div> <p>Verify if the hostname is set to expected name, e.g., <code>ubu1</code>.</p> <div class=highlight><pre><span></span><code>cat<span class=w> </span>/etc/machine-info
</code></pre></div> <p>Verify if the hostname is set to expected name, e.g., <code>ubu1</code>.</p> <div class=highlight><pre><span></span><code>cat<span class=w> </span>/etc/hostname
</code></pre></div> <p>Verify if the hostname of <code>127.0.1.1</code> is set to expected name, e.g., <code>ubu1</code>. And add all nodes into the file <code>/etc/hosts</code>.</p> <div class=highlight><pre><span></span><code><span class=go>sudo vi /etc/hosts</span>
</code></pre></div> <p>Related setting looks like below.</p> <div class=highlight><pre><span></span><code><span class=go>127.0.1.1 ubu1</span>
<span class=go>11.0.1.129 ubu1</span>
<span class=go>11.0.1.130 ubu2</span>
<span class=go>11.0.1.131 ubu3</span>
<span class=go>11.0.1.132 ubu4</span>
</code></pre></div> <p>Create file <code>/etc/netplan/00-installer-config.yaml</code>.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>vi<span class=w> </span>/etc/netplan/00-installer-config.yaml
</code></pre></div> <p>Update it with information below to set VM with fixed IP with actual IP address, e.g, <code>11.0.1.129</code>.</p> <div class=highlight><pre><span></span><code><span class=nt>network</span><span class=p>:</span>
<span class=w>  </span><span class=nt>ethernets</span><span class=p>:</span>
<span class=w>    </span><span class=nt>ens33</span><span class=p>:</span>
<span class=w>      </span><span class=nt>dhcp4</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>      </span><span class=nt>addresses</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">11.0.1.129/24</span>
<span class=w>      </span><span class=nt>nameservers</span><span class=p>:</span>
<span class=w>        </span><span class=nt>addresses</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">11.0.1.2</span>
<span class=w>      </span><span class=nt>routes</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class=w>        </span><span class=nt>via</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">11.0.1.2</span>
<span class=w>  </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre></div> <p>Effect above change.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>netplan<span class=w> </span>apply
</code></pre></div> <p>Attention:</p> <ul> <li>The current ssh connection will be broken due to network setting change.</li> </ul> <p>Disable swap and firewall on all nodes.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>swapoff<span class=w> </span>-a
sudo<span class=w> </span>ufw<span class=w> </span>disable
sudo<span class=w> </span>ufw<span class=w> </span>status<span class=w> </span>verbose
</code></pre></div> <p>And comment the last line of swap setting in file <code>/etc/fstab</code>. Need <em>reboot</em> guest here.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>vi<span class=w> </span>/etc/fstab
</code></pre></div> <p>Result likes below.</p> <div class=highlight><pre><span></span><code><span class=go>/dev/disk/by-uuid/df370d2a-83e5-4895-8c7f-633f2545e3fe / ext4 defaults 0 1</span>
<span class=gp># </span>/swap.img<span class=w>     </span>none<span class=w>    </span>swap<span class=w>    </span>sw<span class=w>      </span><span class=m>0</span><span class=w>       </span><span class=m>0</span>
</code></pre></div> <p>Setup timezone on all nodes</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>ln<span class=w> </span>-sf<span class=w> </span>/usr/share/zoneinfo/Asia/Shanghai<span class=w> </span>/etc/localtime

sudo<span class=w> </span>cp<span class=w> </span>/etc/profile<span class=w> </span>/etc/profile.bak
<span class=nb>echo</span><span class=w> </span><span class=s1>&#39;LANG=&quot;en_US.UTF-8&quot;&#39;</span><span class=w> </span><span class=p>|</span><span class=w> </span>sudo<span class=w> </span>tee<span class=w> </span>-a<span class=w> </span>/etc/profile

<span class=nb>source</span><span class=w> </span>/etc/profile
</code></pre></div> <p>Something like this after execute command <code>ll /etc/localtime</code></p> <div class=highlight><pre><span></span><code><span class=go>lrwxrwxrwx 1 root root 33 Jul 15 22:00 /etc/localtime -&gt; /usr/share/zoneinfo/Asia/Shanghai</span>
</code></pre></div> <p>Kernel setting.</p> <div class=highlight><pre><span></span><code>cat<span class=w> </span><span class=s>&lt;&lt;EOF | sudo tee /etc/modules-load.d/containerd.conf</span>
<span class=s>overlay</span>
<span class=s>br_netfilter</span>
<span class=s>EOF</span>
</code></pre></div> <p>Load to kernel.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>modprobe<span class=w> </span>overlay
sudo<span class=w> </span>modprobe<span class=w> </span>br_netfilter
</code></pre></div> <p>Network setting.</p> <div class=highlight><pre><span></span><code>cat<span class=w> </span><span class=s>&lt;&lt;EOF | sudo tee /etc/sysctl.d/99-kubernetes-cri.conf</span>
<span class=s>net.bridge.bridge-nf-call-iptables  = 1</span>
<span class=s>net.ipv4.ip_forward                 = 1</span>
<span class=s>net.bridge.bridge-nf-call-ip6tables = 1</span>
<span class=s>EOF</span>
</code></pre></div> <p>Effect changes above.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>sysctl<span class=w> </span>--system
</code></pre></div> <p>Attention:</p> <ul> <li>Reboot the VM.</li> </ul> <p>Attention:</p> <ul> <li>Log onto the VM with account <code>vagrant</code> to verify if above changes were updated as expected.</li> <li>IP address.</li> </ul> <div class=highlight><pre><span></span><code>ip<span class=w> </span>addr<span class=w> </span>list
</code></pre></div> <ul> <li>Hostname.</li> </ul> <div class=highlight><pre><span></span><code>cat<span class=w> </span>/etc/machine-info
cat<span class=w> </span>/etc/hostname
hostname
</code></pre></div> <ul> <li>Firewall.</li> </ul> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>ufw<span class=w> </span>status<span class=w> </span>verbose
</code></pre></div> <ul> <li>Kernel setting.</li> </ul> <div class=highlight><pre><span></span><code>lsmod<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-i<span class=w> </span>overlay
lsmod<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-i<span class=w> </span>br_netfilter
</code></pre></div> <ul> <li>Network setting.</li> </ul> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>sysctl<span class=w> </span>-a<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-i<span class=w> </span>net.bridge.bridge-nf-call-ip*
sudo<span class=w> </span>sysctl<span class=w> </span>-a<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-i<span class=w> </span>net.ipv4.ip_forward
</code></pre></div> <h2 id=install-containerd>Install Containerd<a class=headerlink href=#install-containerd title="Permanent link"> ¶</a></h2> <p>Install Containerd sevice on all nodes.</p> <p>Backup source file.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>cp<span class=w> </span>/etc/apt/sources.list<span class=w> </span>/etc/apt/sources.list.bak
</code></pre></div> <p>Install Containered.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>apt-get<span class=w> </span>update<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>-y<span class=w> </span>containerd
</code></pre></div> <p>Configure Containerd. Modify file <code>/etc/containerd/config.toml</code>.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>mkdir<span class=w> </span>-p<span class=w> </span>/etc/containerd
containerd<span class=w> </span>config<span class=w> </span>default<span class=w> </span><span class=p>|</span><span class=w> </span>sudo<span class=w> </span>tee<span class=w> </span>/etc/containerd/config.toml
sudo<span class=w> </span>vi<span class=w> </span>/etc/containerd/config.toml
</code></pre></div> <p>Update <code>sandbox_image</code> with new value <code>"registry.aliyuncs.com/google_containers/pause:3.6"</code>. Update <code>SystemdCgroup</code> with new value <code>true</code>.</p> <div class=highlight><pre><span></span><code><span class=go>[plugins]</span>
<span class=go>  [plugins.&quot;io.containerd.gc.v1.scheduler&quot;]</span>

<span class=go>  [plugins.&quot;io.containerd.grpc.v1.cri&quot;]</span>
<span class=go>    sandbox_image = &quot;registry.aliyuncs.com/google_containers/pause:3.6&quot;</span>

<span class=go>    [plugins.&quot;io.containerd.grpc.v1.cri&quot;.cni]</span>
<span class=go>    [plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd]</span>
<span class=go>      [plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd.default_runtime]</span>
<span class=go>        [plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd.default_runtime.options]</span>
<span class=go>      [plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd.runtimes]</span>
<span class=go>        [plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd.runtimes.runc]</span>

<span class=go>          [plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd.runtimes.runc.options]</span>
<span class=go>            SystemdCgroup = true</span>
</code></pre></div> <p>Restart Containerd service.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>systemctl<span class=w> </span>restart<span class=w> </span>containerd
sudo<span class=w> </span>systemctl<span class=w> </span>status<span class=w> </span>containerd
</code></pre></div> <h2 id=install-nerdctl>Install nerdctl<a class=headerlink href=#install-nerdctl title="Permanent link"> ¶</a></h2> <p>Install nerdctl sevice on all nodes.</p> <p>The goal of <a href=https://github.com/containerd/nerdctl><code>nerdctl</code></a> is to facilitate experimenting the cutting-edge features of containerd that are not present in Docker.</p> <p>Binaries are available here: <a href=https://github.com/containerd/nerdctl/releases>https://github.com/containerd/nerdctl/releases</a></p> <div class=highlight><pre><span></span><code>wget<span class=w> </span>https://github.com/containerd/nerdctl/releases/download/v0.22.2/nerdctl-0.22.2-linux-amd64.tar.gz
tar<span class=w> </span>-zxvf<span class=w> </span>nerdctl-0.22.2-linux-amd64.tar.gz
sudo<span class=w> </span>cp<span class=w> </span>nerdctl<span class=w> </span>/usr/bin/
</code></pre></div> <p>Verify nerdctl.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>nerdctl<span class=w> </span>--help
</code></pre></div> <p>To list local Kubernetes containers.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>nerdctl<span class=w> </span>-n<span class=w> </span>k8s.io<span class=w> </span>ps
</code></pre></div> <h2 id=install-kubernetes>Install Kubernetes<a class=headerlink href=#install-kubernetes title="Permanent link"> ¶</a></h2> <p>Install Kubernetes on all nodes.</p> <p>Install dependencied packages.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>apt-get<span class=w> </span>update<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>-y<span class=w> </span>apt-transport-https<span class=w> </span>ca-certificates<span class=w> </span>curl
</code></pre></div> <p>Install gpg certificate.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>curl<span class=w> </span>-fsSLo<span class=w> </span>/usr/share/keyrings/kubernetes-archive-keyring.gpg<span class=w> </span>https://mirrors.aliyun.com/kubernetes/apt/doc/apt-key.gpg
</code></pre></div> <p>Add Kubernetes repo.</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main&quot;</span><span class=w> </span><span class=p>|</span><span class=w> </span>sudo<span class=w> </span>tee<span class=w> </span>/etc/apt/sources.list.d/kubernetes.list
</code></pre></div> <p>Update and install dependencied packages.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>apt-get<span class=w> </span>update
sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>ebtables
sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>libxtables12
sudo<span class=w> </span>apt-get<span class=w> </span>upgrade<span class=w> </span>iptables
</code></pre></div> <p>Check available versions of kubeadm.</p> <div class=highlight><pre><span></span><code>apt<span class=w> </span>policy<span class=w> </span>kubeadm
</code></pre></div> <p>Install <code>1.24.1-00</code> version.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>apt-get<span class=w> </span>-y<span class=w> </span>install<span class=w> </span><span class=nv>kubelet</span><span class=o>=</span><span class=m>1</span>.24.1-00<span class=w> </span><span class=nv>kubeadm</span><span class=o>=</span><span class=m>1</span>.24.1-00<span class=w> </span><span class=nv>kubectl</span><span class=o>=</span><span class=m>1</span>.24.1-00<span class=w> </span>--allow-downgrades
</code></pre></div> <h2 id=setup-master-node>Setup Master Node<a class=headerlink href=#setup-master-node title="Permanent link"> ¶</a></h2> <h3 id=kubeadm-init>kubeadm init<a class=headerlink href=#kubeadm-init title="Permanent link"> ¶</a></h3> <p>Set up Control Plane on VM playing master node.</p> <p>Check kubeadm default parameters for initialization.</p> <div class=highlight><pre><span></span><code>kubeadm<span class=w> </span>config<span class=w> </span>print<span class=w> </span>init-defaults
</code></pre></div> <p>Reuslt:</p> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">kubeadm.k8s.io/v1beta3</span>
<span class=nt>bootstrapTokens</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>groups</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">system:bootstrappers:kubeadm:default-node-token</span>
<span class=w>  </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">abcdef.0123456789abcdef</span>
<span class=w>  </span><span class=nt>ttl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">24h0m0s</span>
<span class=w>  </span><span class=nt>usages</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">signing</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">authentication</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">InitConfiguration</span>
<span class=nt>localAPIEndpoint</span><span class=p>:</span>
<span class=w>  </span><span class=nt>advertiseAddress</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1.2.3.4</span>
<span class=w>  </span><span class=nt>bindPort</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">6443</span>
<span class=nt>nodeRegistration</span><span class=p>:</span>
<span class=w>  </span><span class=nt>criSocket</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">unix:///var/run/containerd/containerd.sock</span>
<span class=w>  </span><span class=nt>imagePullPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">node</span>
<span class=w>  </span><span class=nt>taints</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class=nn>---</span>
<span class=nt>apiServer</span><span class=p>:</span>
<span class=w>  </span><span class=nt>timeoutForControlPlane</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">4m0s</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">kubeadm.k8s.io/v1beta3</span>
<span class=nt>certificatesDir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/kubernetes/pki</span>
<span class=nt>clusterName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">kubernetes</span>
<span class=nt>controllerManager</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{}</span>
<span class=nt>dns</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{}</span>
<span class=nt>etcd</span><span class=p>:</span>
<span class=w>  </span><span class=nt>local</span><span class=p>:</span>
<span class=w>    </span><span class=nt>dataDir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/var/lib/etcd</span>
<span class=nt>imageRepository</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">k8s.gcr.io</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ClusterConfiguration</span>
<span class=nt>kubernetesVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1.24.0</span>
<span class=nt>networking</span><span class=p>:</span>
<span class=w>  </span><span class=nt>dnsDomain</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cluster.local</span>
<span class=w>  </span><span class=nt>serviceSubnet</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10.96.0.0/12</span>
<span class=nt>scheduler</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{}</span>
</code></pre></div> <p>Dry rune and run. Save the output, which will be used later on work nodes.</p> <p>With <code>kubeadm init</code> to initiate cluster, we need understand below three options about network.</p> <ul> <li><code>--pod-network-cidr</code>:</li> <li>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</li> <li>Be noted that <code>10.244.0.0/16</code> is default range of flannel. If it's changed here, please do change the same when deploy <code>Flannel</code>.</li> <li><code>--apiserver-bind-port</code>:</li> <li>Port for the API Server to bind to. (default 6443)</li> <li><code>--service-cidr</code>:</li> <li>Use alternative range of IP address for service VIPs. (default "10.96.0.0/12")</li> </ul> <p>Note:</p> <ul> <li>service VIPs (a.k.a. Cluster IP), specified by option <code>--service-cidr</code>.</li> <li>podCIDR (a.k.a. endpoint IP)，specified by option <code>--pod-network-cidr</code>.</li> </ul> <p>There are 4 distinct networking problems to address:</p> <ul> <li>Highly-coupled container-to-container communications: this is solved by Pods (podCIDR) and localhost communications.</li> <li>Pod-to-Pod communications:</li> <li>a.k.a. container-to-container.</li> <li>Example with Flannel, the flow is: Pod &rarr; veth pair &rarr; cni0 &rarr; flannel.1 &rarr; host eth0 &rarr; host eth0 &rarr; flannel.1 &rarr; cni0 &rarr; veth pair &rarr; Pod.</li> <li>Pod-to-Service communications:</li> <li>Flow: Pod &rarr; Kernel &rarr; Servive iptables &rarr; service &rarr; Pod iptables &rarr; Pod</li> <li>External-to-Service communications:</li> <li>LoadBalancer: SLB &rarr; NodePort &rarr; Service &rarr; Pod</li> </ul> <p><code>kube-proxy</code> is responsible for iptables, not traffic.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>kubeadm<span class=w> </span>init<span class=w> </span><span class=se>\</span>
<span class=w>  </span>--dry-run<span class=w> </span><span class=se>\</span>
<span class=w>  </span>--pod-network-cidr<span class=o>=</span><span class=m>10</span>.244.0.0/16<span class=w> </span><span class=se>\</span>
<span class=w>  </span>--service-cidr<span class=o>=</span><span class=m>192</span>.244.0.0/16<span class=w> </span><span class=se>\</span>
<span class=w>  </span>--image-repository<span class=o>=</span>registry.aliyuncs.com/google_containers<span class=w> </span><span class=se>\</span>
<span class=w>  </span>--kubernetes-version<span class=o>=</span>v1.24.1

sudo<span class=w> </span>kubeadm<span class=w> </span>init<span class=w> </span><span class=se>\</span>
<span class=w>  </span>--pod-network-cidr<span class=o>=</span><span class=m>10</span>.244.0.0/16<span class=w> </span><span class=se>\</span>
<span class=w>  </span>--service-cidr<span class=o>=</span><span class=m>192</span>.244.0.0/16<span class=w> </span><span class=se>\</span>
<span class=w>  </span>--image-repository<span class=o>=</span>registry.aliyuncs.com/google_containers<span class=w> </span><span class=se>\</span>
<span class=w>  </span>--kubernetes-version<span class=o>=</span>v1.24.1
</code></pre></div> <h3 id=kubeconfig-file>kubeconfig file<a class=headerlink href=#kubeconfig-file title="Permanent link"> ¶</a></h3> <p>Set <code>kubeconfig</code> file for current user (here it's <code>vagrant</code>).</p> <div class=highlight><pre><span></span><code>mkdir<span class=w> </span>-p<span class=w> </span><span class=nv>$HOME</span>/.kube
sudo<span class=w> </span>cp<span class=w> </span>-i<span class=w> </span>/etc/kubernetes/admin.conf<span class=w> </span><span class=nv>$HOME</span>/.kube/config
sudo<span class=w> </span>chown<span class=w> </span><span class=k>$(</span>id<span class=w> </span>-u<span class=k>)</span>:<span class=k>$(</span>id<span class=w> </span>-g<span class=k>)</span><span class=w> </span><span class=nv>$HOME</span>/.kube/config
</code></pre></div> <p>Kubernetes provides a command line tool <code>kubectl</code> for communicating with a Kubernetes cluster's control plane, using the Kubernetes API.</p> <p>kubectl controls the Kubernetes <em>cluster manager</em>.</p> <p>For configuration, kubectl looks for a file named config in the <code>$HOME/.kube</code> directory, which is a copy of file <code>/etc/kubernetes/admin.conf</code> generated by <code>kubeadm init</code>.</p> <p>We can specify other kubeconfig files by setting the <code>KUBECONFIG</code> environment variable or by setting the <code>--kubeconfig flag</code>. If the <code>KUBECONFIG</code> environment variable doesn't exist, kubectl uses the default kubeconfig file, <code>$HOME/.kube/config</code>.</p> <p>A <em>context</em> element in a kubeconfig file is used to group access parameters under a convenient name. Each context has three parameters: cluster, namespace, and user. By default, the kubectl command-line tool uses parameters from the current context to communicate with the cluster.</p> <p>A sample of <code>.kube/config</code>.</p> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class=nt>clusters</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>cluster</span><span class=p>:</span>
<span class=w>    </span><span class=nt>certificate-authority-data</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;certificate string&gt;</span>
<span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://&lt;eth0 ip&gt;:6443</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;cluster name&gt;</span>
<span class=nt>contexts</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>context</span><span class=p>:</span>
<span class=w>    </span><span class=nt>cluster</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;cluster name&gt;</span>
<span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;namespace name&gt;</span>
<span class=w>    </span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;user name&gt;</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;context user&gt;@&lt;context name&gt;</span>
<span class=nt>current-context</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;context name&gt;</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Config</span>
<span class=nt>preferences</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{}</span>
<span class=nt>users</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;user name&gt;</span>
<span class=w>  </span><span class=nt>user</span><span class=p>:</span>
<span class=w>    </span><span class=nt>client-certificate-data</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;certificate string&gt;</span>
<span class=w>    </span><span class=nt>client-key-data</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;certificate string&gt;</span>
</code></pre></div> <p>To get the current context:</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>config<span class=w> </span>get-contexts
</code></pre></div> <p>Result</p> <div class=highlight><pre><span></span><code><span class=go>CURRENT   NAME                          CLUSTER      AUTHINFO           NAMESPACE</span>
<span class=go>*         kubernetes-admin@kubernetes   kubernetes   kubernetes-admin   </span>
</code></pre></div> <h2 id=install-calico>Install Calico<a class=headerlink href=#install-calico title="Permanent link"> ¶</a></h2> <p>Here is guidance of <a href=https://projectcalico.docs.tigera.io/getting-started/kubernetes/hardway/ >End-to-end Calico installation</a>. Detail practice demo, can be found in section "Install Calico" of "A1.Discussion" below.</p> <p>Install Calico</p> <div class=highlight><pre><span></span><code>curl<span class=w> </span>https://docs.projectcalico.org/manifests/calico.yaml<span class=w> </span>-O
kubectl<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span>calico.yaml
</code></pre></div> <p>Result</p> <div class=highlight><pre><span></span><code><span class=go>configmap/calico-config created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org created</span>
<span class=go>customresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org created</span>
<span class=go>clusterrole.rbac.authorization.k8s.io/calico-kube-controllers created</span>
<span class=go>clusterrolebinding.rbac.authorization.k8s.io/calico-kube-controllers created</span>
<span class=go>clusterrole.rbac.authorization.k8s.io/calico-node created</span>
<span class=go>clusterrolebinding.rbac.authorization.k8s.io/calico-node created</span>
<span class=go>daemonset.apps/calico-node created</span>
<span class=go>serviceaccount/calico-node created</span>
<span class=go>deployment.apps/calico-kube-controllers created</span>
<span class=go>serviceaccount/calico-kube-controllers created</span>
<span class=go>poddisruptionbudget.policy/calico-kube-controllers created</span>
</code></pre></div> <p>Verify status of Calico. It may take minutes to complete initialization.</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>get<span class=w> </span>pod<span class=w> </span>-n<span class=w> </span>kube-system<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>calico
</code></pre></div> <p>Result</p> <div class=highlight><pre><span></span><code><span class=go>calico-kube-controllers-555bc4b957-l8bn2   0/1     Pending    0          28s</span>
<span class=go>calico-node-255pc                          0/1     Init:1/3   0          29s</span>
<span class=go>calico-node-7tmnb                          0/1     Init:1/3   0          29s</span>
<span class=go>calico-node-w8nvl                          0/1     Init:1/3   0          29s</span>
</code></pre></div> <p>Verify network status.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>nerdctl<span class=w> </span>network<span class=w> </span>ls
</code></pre></div> <p>Result</p> <div class=highlight><pre><span></span><code><span class=go>NETWORK ID      NAME               FILE</span>
<span class=go>                k8s-pod-network    /etc/cni/net.d/10-calico.conflist</span>
<span class=go>17f29b073143    bridge             /etc/cni/net.d/nerdctl-bridge.conflist</span>
<span class=go>                host               </span>
<span class=go>                none </span>
</code></pre></div> <h2 id=setup-work-nodes>Setup Work Nodes<a class=headerlink href=#setup-work-nodes title="Permanent link"> ¶</a></h2> <p>Use <code>kubeadm token</code> to generate the join token and hash value.</p> <div class=highlight><pre><span></span><code>kubeadm<span class=w> </span>token<span class=w> </span>create<span class=w> </span>--print-join-command
</code></pre></div> <p>Command usage:</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>kubeadm<span class=w> </span>join<span class=w> </span>&lt;your<span class=w> </span>master<span class=w> </span>node<span class=w> </span>eth0<span class=w> </span>ip&gt;:6443<span class=w> </span>--token<span class=w> </span>&lt;token<span class=w> </span>generated<span class=w> </span>by<span class=w> </span>kubeadm<span class=w> </span>init&gt;<span class=w> </span>--discovery-token-ca-cert-hash<span class=w> </span>&lt;<span class=nb>hash</span><span class=w> </span>key<span class=w> </span>generated<span class=w> </span>by<span class=w> </span>kubeadm<span class=w> </span>init&gt;
</code></pre></div> <p>Result looks like below.</p> <div class=highlight><pre><span></span><code><span class=go>[preflight] Running pre-flight checks</span>
<span class=go>        [WARNING SystemVerification]: missing optional cgroups: blkio</span>
<span class=go>[preflight] Reading configuration from the cluster...</span>
<span class=go>[preflight] FYI: You can look at this config file with &#39;kubectl -n kube-system get cm kubeadm-config -o yaml&#39;</span>
<span class=go>[kubelet-start] Writing kubelet configuration to file &quot;/var/lib/kubelet/config.yaml&quot;</span>
<span class=go>[kubelet-start] Writing kubelet environment file with flags to file &quot;/var/lib/kubelet/kubeadm-flags.env&quot;</span>
<span class=go>[kubelet-start] Starting the kubelet</span>
<span class=go>[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...</span>

<span class=go>This node has joined the cluster:</span>
<span class=go>* Certificate signing request was sent to apiserver and a response was received.</span>
<span class=go>* The Kubelet was informed of the new secure connection details.</span>

<span class=go>Run &#39;kubectl get nodes&#39; on the control-plane to see this node join the cluster.</span>
</code></pre></div> <h2 id=check-cluster-status>Check Cluster Status<a class=headerlink href=#check-cluster-status title="Permanent link"> ¶</a></h2> <p>Cluster info:</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>cluster-info
</code></pre></div> <p>Output</p> <div class=highlight><pre><span></span><code><span class=go>Kubernetes control plane is running at https://11.0.1.129:6443</span>
<span class=go>CoreDNS is running at https://11.0.1.129:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy</span>
<span class=go>To further debug and diagnose cluster problems, use &#39;kubectl cluster-info dump&#39;.</span>
</code></pre></div> <p>Node info:</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>get<span class=w> </span>nodes<span class=w> </span>-owide
</code></pre></div> <p>Pod info:</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>get<span class=w> </span>pod<span class=w> </span>-A
</code></pre></div> <h2 id=post-installation>Post Installation<a class=headerlink href=#post-installation title="Permanent link"> ¶</a></h2> <h3 id=bash-autocomplete>Bash Autocomplete<a class=headerlink href=#bash-autocomplete title="Permanent link"> ¶</a></h3> <p>On each node.</p> <p>Set <code>kubectl</code> <a href=https://github.com/scop/bash-completion>auto-completion</a> following the <a href=https://kubernetes.io/docs/tasks/tools/included/optional-kubectl-configs-bash-linux/ >guideline</a>.</p> <div class=highlight><pre><span></span><code>apt<span class=w> </span>install<span class=w> </span>-y<span class=w> </span>bash-completion

<span class=nb>source</span><span class=w> </span>/usr/share/bash-completion/bash_completion
<span class=nb>source</span><span class=w> </span>&lt;<span class=o>(</span>kubectl<span class=w> </span>completion<span class=w> </span>bash<span class=o>)</span>

<span class=nb>echo</span><span class=w> </span><span class=s2>&quot;source &lt;(kubectl completion bash)&quot;</span><span class=w> </span>&gt;&gt;<span class=w> </span>~/.bashrc
<span class=nb>source</span><span class=w> </span>~/.bashrc
</code></pre></div> <h3 id=alias>Alias<a class=headerlink href=#alias title="Permanent link"> ¶</a></h3> <p>If we set an alias for kubectl, we can extend shell completion to work with that alias:</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span><span class=w> </span><span class=s1>&#39;alias k=kubectl&#39;</span><span class=w> </span>&gt;&gt;~/.bashrc
<span class=nb>echo</span><span class=w> </span><span class=s1>&#39;complete -o default -F __start_kubectl k&#39;</span><span class=w> </span>&gt;&gt;~/.bashrc
</code></pre></div> <h3 id=update-default-context>Update Default Context<a class=headerlink href=#update-default-context title="Permanent link"> ¶</a></h3> <p>Get current context.</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>config<span class=w> </span>get-contexts<span class=w> </span>
</code></pre></div> <p>In below result, we know:</p> <ul> <li>Contenxt name is <code>kubernetes-admin@kubernetes</code>.</li> <li>Cluster name is <code>kubernetes</code>.</li> <li>User is <code>kubernetes-admin</code>.</li> <li>No namespace explicitly defined.</li> </ul> <div class=highlight><pre><span></span><code>CURRENT   NAME                          CLUSTER      AUTHINFO           NAMESPACE
*         kubernetes-admin@kubernetes   kubernetes   kubernetes-admin 
</code></pre></div> <p>To set a context with new update, e.g, update default namespace, etc..</p> <div class=highlight><pre><span></span><code><span class=c1># Usage:</span>
kubectl<span class=w> </span>config<span class=w> </span>set-context<span class=w> </span>&lt;context<span class=w> </span>name&gt;<span class=w> </span>--cluster<span class=o>=</span>&lt;cluster<span class=w> </span>name&gt;<span class=w> </span>--namespace<span class=o>=</span>&lt;namespace<span class=w> </span>name&gt;<span class=w> </span>--user<span class=o>=</span>&lt;user<span class=w> </span>name&gt;<span class=w> </span>

<span class=c1># Set default namespace</span>
kubectl<span class=w> </span>config<span class=w> </span>set-context<span class=w> </span>kubernetes-admin@kubernetes<span class=w> </span>--cluster<span class=o>=</span>kubernetes<span class=w> </span>--namespace<span class=o>=</span>default<span class=w> </span>--user<span class=o>=</span>kubernetes-admin
</code></pre></div> <p>To switch to a new context.</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>config<span class=w> </span>use-context<span class=w> </span>&lt;context<span class=w> </span>name&gt;
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>config<span class=w> </span>use-context<span class=w> </span>kubernetes-admin@kubernetes
</code></pre></div> <p>Reference:</p> <ul> <li><a href=https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/ >kubectl</a></li> <li><a href=https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands>commandline</a></li> </ul> <h2 id=install-helm>Install Helm<a class=headerlink href=#install-helm title="Permanent link"> ¶</a></h2> <p>Helm is the Kubernetes package manager. It doesn't come with Kubernetes.</p> <p>Three concepts of helm:</p> <ul> <li>A <em>Chart</em> is a Helm package.</li> <li>It contains all of the resource definitions necessary to run an application, tool, or service inside of a Kubernetes cluster.</li> <li>Think of it like the Kubernetes equivalent of a Homebrew formula, an Apt dpkg, or a Yum RPM file.</li> <li>A <em>Repository</em> is the place where charts can be collected and shared.</li> <li>It's like Perl's CPAN archive or the Fedora Package Database, but for Kubernetes packages.</li> <li>A <em>Release</em> is an instance of a chart running in a Kubernetes cluster.</li> <li>One chart can often be installed many times into the same cluster. And each time it is installed, a new release is created.</li> <li>Consider a MySQL chart. If you want two databases running in your cluster, you can install that chart twice. Each one will have its own release, which will in turn have its own release name.</li> </ul> <p>Reference:</p> <ul> <li><a href=https://helm.sh/docs/intro/install/ >installation guide</a></li> <li><a href=https://github.com/helm/helm/releases>binary release</a></li> <li><a href=https://github.com/helm/helm>source code</a>.</li> </ul> <p>Helm Client Installation:</p> <div class=highlight><pre><span></span><code>curl<span class=w> </span>-fsSL<span class=w> </span>-o<span class=w> </span>get_helm.sh<span class=w> </span>https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3
chmod<span class=w> </span><span class=m>700</span><span class=w> </span>get_helm.sh
./get_helm.sh
</code></pre></div> <p>Output:</p> <div class=highlight><pre><span></span><code><span class=go>Downloading https://get.helm.sh/helm-v3.9.1-linux-amd64.tar.gz</span>
<span class=go>Verifying checksum... Done.</span>
<span class=go>Preparing to install helm into /usr/local/bin</span>
<span class=go>helm installed into /usr/local/bin/helm</span>
</code></pre></div> <p>Note:</p> <ul> <li><a href=https://helm.sh/docs/helm/helm_init/ ><code>helm init</code></a> does not exist in Helm 3, following the removal of Tiller. You no longer need to install Tiller in your cluster in order to use Helm.</li> <li><code>helm search</code> can be used to search two different types of source:</li> <li><code>helm search hub</code> searches the <a href=https://artifacthub.io/ >Artifact Hub</a>, which lists helm charts from dozens of different repositories.</li> <li><code>helm search repo</code> searches the repositories that you have added to your local helm client (with helm repo add). This search is done over local data, and no public network connection is needed.</li> </ul> <p>Reference:</p> <ul> <li><a href=../../foundamentals/helming/ >Helming development</a></li> </ul> <h2 id=reset-cluster>Reset cluster<a class=headerlink href=#reset-cluster title="Permanent link"> ¶</a></h2> <p>Caution: below steps will destroy current cluster.</p> <p>Delete all nodes in the cluster.</p> <div class=highlight><pre><span></span><code>kubeadm<span class=w> </span>reset
</code></pre></div> <p>Clean up rule of <code>iptables</code>.</p> <div class=highlight><pre><span></span><code>iptables<span class=w> </span>-F<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>iptables<span class=w> </span>-t<span class=w> </span>nat<span class=w> </span>-F<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>iptables<span class=w> </span>-t<span class=w> </span>mangle<span class=w> </span>-F<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>iptables<span class=w> </span>-X
</code></pre></div> <p>Clean up rule of <code>IPVS</code> if using <code>IPVS</code>.</p> <div class=highlight><pre><span></span><code>ipvsadm<span class=w> </span>--clear
</code></pre></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.instant", "navigation.top"], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../assets/javascripts/bundle.8fd75fb4.min.js></script> </body> </html>